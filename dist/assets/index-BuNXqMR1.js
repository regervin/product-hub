var ey=Object.defineProperty;var ty=(t,e,n)=>e in t?ey(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A=(t,e,n)=>ty(t,typeof e!="symbol"?e+"":e,n);function ny(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ry(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sy(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Zm={exports:{}},Ba={},ep={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=Symbol.for("react.element"),iy=Symbol.for("react.portal"),oy=Symbol.for("react.fragment"),ay=Symbol.for("react.strict_mode"),ly=Symbol.for("react.profiler"),cy=Symbol.for("react.provider"),uy=Symbol.for("react.context"),dy=Symbol.for("react.forward_ref"),hy=Symbol.for("react.suspense"),fy=Symbol.for("react.memo"),my=Symbol.for("react.lazy"),Xd=Symbol.iterator;function py(t){return t===null||typeof t!="object"?null:(t=Xd&&t[Xd]||t["@@iterator"],typeof t=="function"?t:null)}var tp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},np=Object.assign,rp={};function gs(t,e,n){this.props=t,this.context=e,this.refs=rp,this.updater=n||tp}gs.prototype.isReactComponent={};gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sp(){}sp.prototype=gs.prototype;function Ou(t,e,n){this.props=t,this.context=e,this.refs=rp,this.updater=n||tp}var Lu=Ou.prototype=new sp;Lu.constructor=Ou;np(Lu,gs.prototype);Lu.isPureReactComponent=!0;var Jd=Array.isArray,ip=Object.prototype.hasOwnProperty,Mu={current:null},op={key:!0,ref:!0,__self:!0,__source:!0};function ap(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ip.call(e,r)&&!op.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hi,type:t,key:i,ref:o,props:s,_owner:Mu.current}}function gy(t,e){return{$$typeof:Hi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Du(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hi}function vy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zd=/\/+/g;function wl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vy(""+t.key):e.toString(36)}function $o(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hi:case iy:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wl(o,0):r,Jd(s)?(n="",t!=null&&(n=t.replace(Zd,"$&/")+"/"),$o(s,e,n,"",function(c){return c})):s!=null&&(Du(s)&&(s=gy(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Jd(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+wl(i,a);o+=$o(i,e,n,l,s)}else if(l=py(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+wl(i,a++),o+=$o(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function to(t,e,n){if(t==null)return t;var r=[],s=0;return $o(t,r,"","",function(i){return e.call(n,i,s++)}),r}function xy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},Fo={transition:null},yy={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Fo,ReactCurrentOwner:Mu};function lp(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:to,forEach:function(t,e,n){to(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return to(t,function(){e++}),e},toArray:function(t){return to(t,function(e){return e})||[]},only:function(t){if(!Du(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=gs;z.Fragment=oy;z.Profiler=ly;z.PureComponent=Ou;z.StrictMode=ay;z.Suspense=hy;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yy;z.act=lp;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=np({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Mu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ip.call(e,l)&&!op.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Hi,type:t.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:uy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cy,_context:t},t.Consumer=t};z.createElement=ap;z.createFactory=function(t){var e=ap.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:dy,render:t}};z.isValidElement=Du;z.lazy=function(t){return{$$typeof:my,_payload:{_status:-1,_result:t},_init:xy}};z.memo=function(t,e){return{$$typeof:fy,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=Fo.transition;Fo.transition={};try{t()}finally{Fo.transition=e}};z.unstable_act=lp;z.useCallback=function(t,e){return ze.current.useCallback(t,e)};z.useContext=function(t){return ze.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};z.useEffect=function(t,e){return ze.current.useEffect(t,e)};z.useId=function(){return ze.current.useId()};z.useImperativeHandle=function(t,e,n){return ze.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return ze.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return ze.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return ze.current.useMemo(t,e)};z.useReducer=function(t,e,n){return ze.current.useReducer(t,e,n)};z.useRef=function(t){return ze.current.useRef(t)};z.useState=function(t){return ze.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return ze.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return ze.current.useTransition()};z.version="18.3.1";ep.exports=z;var k=ep.exports;const jt=ry(k),wy=ny({__proto__:null,default:jt},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y=k,by=Symbol.for("react.element"),ky=Symbol.for("react.fragment"),jy=Object.prototype.hasOwnProperty,Sy=_y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ny={key:!0,ref:!0,__self:!0,__source:!0};function cp(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jy.call(e,r)&&!Ny.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:by,type:t,key:i,ref:o,props:s,_owner:Sy.current}}Ba.Fragment=ky;Ba.jsx=cp;Ba.jsxs=cp;Zm.exports=Ba;var u=Zm.exports,hc={},up={exports:{}},st={},dp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var $=T.length;T.push(R);e:for(;0<$;){var X=$-1>>>1,te=T[X];if(0<s(te,R))T[X]=R,T[$]=te,$=X;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var R=T[0],$=T.pop();if($!==R){T[0]=$;e:for(var X=0,te=T.length,Et=te>>>1;X<Et;){var De=2*(X+1)-1,Wt=T[De],Re=De+1,eo=T[Re];if(0>s(Wt,$))Re<te&&0>s(eo,Wt)?(T[X]=eo,T[Re]=$,X=Re):(T[X]=Wt,T[De]=$,X=De);else if(Re<te&&0>s(eo,$))T[X]=eo,T[Re]=$,X=Re;else break e}}return R}function s(T,R){var $=T.sortIndex-R.sortIndex;return $!==0?$:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=T)r(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function _(T){if(x=!1,w(T),!v)if(n(l)!==null)v=!0,he(b);else{var R=n(c);R!==null&&Ce(_,R.startTime-T)}}function b(T,R){v=!1,x&&(x=!1,p(S),S=-1),m=!0;var $=f;try{for(w(R),h=n(l);h!==null&&(!(h.expirationTime>R)||T&&!L());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var te=X(h.expirationTime<=R);R=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),w(R)}else r(l);h=n(l)}if(h!==null)var Et=!0;else{var De=n(c);De!==null&&Ce(_,De.startTime-R),Et=!1}return Et}finally{h=null,f=$,m=!1}}var N=!1,j=null,S=-1,E=5,P=-1;function L(){return!(t.unstable_now()-P<E)}function I(){if(j!==null){var T=t.unstable_now();P=T;var R=!0;try{R=j(!0,T)}finally{R?ee():(N=!1,j=null)}}else N=!1}var ee;if(typeof g=="function")ee=function(){g(I)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,oe=Je.port2;Je.port1.onmessage=I,ee=function(){oe.postMessage(null)}}else ee=function(){y(I,0)};function he(T){j=T,N||(N=!0,ee())}function Ce(T,R){S=y(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,he(b))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var $=f;f=R;try{return T()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=f;f=T;try{return R()}finally{f=$}},t.unstable_scheduleCallback=function(T,R,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,T){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=$+te,T={id:d++,callback:R,priorityLevel:T,startTime:$,expirationTime:te,sortIndex:-1},$>X?(T.sortIndex=$,e(c,T),n(l)===null&&T===n(c)&&(x?(p(S),S=-1):x=!0,Ce(_,$-X))):(T.sortIndex=te,e(l,T),v||m||(v=!0,he(b))),T},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(T){var R=f;return function(){var $=f;f=R;try{return T.apply(this,arguments)}finally{f=$}}}})(hp);dp.exports=hp;var Cy=dp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py=k,rt=Cy;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fp=new Set,pi={};function kr(t,e){rs(t,e),rs(t+"Capture",e)}function rs(t,e){for(pi[t]=e,t=0;t<e.length;t++)fp.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=Object.prototype.hasOwnProperty,Ey=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eh={},th={};function Ty(t){return fc.call(th,t)?!0:fc.call(eh,t)?!1:Ey.test(t)?th[t]=!0:(eh[t]=!0,!1)}function Oy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ly(t,e,n,r){if(e===null||typeof e>"u"||Oy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ue(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Se[t]=new Ue(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Se[e]=new Ue(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Se[t]=new Ue(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Se[t]=new Ue(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Se[t]=new Ue(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Se[t]=new Ue(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Se[t]=new Ue(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Se[t]=new Ue(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Se[t]=new Ue(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ru=/[\-:]([a-z])/g;function Au(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ru,Au);Se[e]=new Ue(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ru,Au);Se[e]=new Ue(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ru,Au);Se[e]=new Ue(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Se[t]=new Ue(t,1,!1,t.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Se[t]=new Ue(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iu(t,e,n,r){var s=Se.hasOwnProperty(e)?Se[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ly(e,n,s,r)&&(n=null),r||s===null?Ty(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cn=Py.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,no=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),mc=Symbol.for("react.profiler"),mp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),Fu=Symbol.for("react.forward_ref"),pc=Symbol.for("react.suspense"),gc=Symbol.for("react.suspense_list"),zu=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),gp=Symbol.for("react.offscreen"),nh=Symbol.iterator;function Cs(t){return t===null||typeof t!="object"?null:(t=nh&&t[nh]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,_l;function Ws(t){if(_l===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_l=e&&e[1]||""}return`
`+_l+t}var bl=!1;function kl(t,e){if(!t||bl)return"";bl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ws(t):""}function My(t){switch(t.tag){case 5:return Ws(t.type);case 16:return Ws("Lazy");case 13:return Ws("Suspense");case 19:return Ws("SuspenseList");case 0:case 2:case 15:return t=kl(t.type,!1),t;case 11:return t=kl(t.type.render,!1),t;case 1:return t=kl(t.type,!0),t;default:return""}}function vc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ar:return"Fragment";case Rr:return"Portal";case mc:return"Profiler";case $u:return"StrictMode";case pc:return"Suspense";case gc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pp:return(t.displayName||"Context")+".Consumer";case mp:return(t._context.displayName||"Context")+".Provider";case Fu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zu:return e=t.displayName||null,e!==null?e:vc(t.type)||"Memo";case vn:e=t._payload,t=t._init;try{return vc(t(e))}catch{}}return null}function Dy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vc(e);case 8:return e===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ry(t){var e=vp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ro(t){t._valueTracker||(t._valueTracker=Ry(t))}function xp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xc(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yp(t,e){e=e.checked,e!=null&&Iu(t,"checked",e,!1)}function yc(t,e){yp(t,e);var n=zn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wc(t,e.type,n):e.hasOwnProperty("defaultValue")&&wc(t,e.type,zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wc(t,e,n){(e!=="number"||ra(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hs=Array.isArray;function Yr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _c(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ih(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Hs(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zn(n)}}function wp(t,e){var n=zn(e.value),r=zn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function oh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _p(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_p(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var so,bp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=so.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ay=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(t){Ay.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Js[e]=Js[t]})});function kp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Js.hasOwnProperty(t)&&Js[t]?(""+e).trim():e+"px"}function jp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Iy=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kc(t,e){if(e){if(Iy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function jc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=null;function Uu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nc=null,Kr=null,Gr=null;function ah(t){if(t=Yi(t)){if(typeof Nc!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Ya(e),Nc(t.stateNode,t.type,e))}}function Sp(t){Kr?Gr?Gr.push(t):Gr=[t]:Kr=t}function Np(){if(Kr){var t=Kr,e=Gr;if(Gr=Kr=null,ah(t),e)for(t=0;t<e.length;t++)ah(e[t])}}function Cp(t,e){return t(e)}function Pp(){}var jl=!1;function Ep(t,e,n){if(jl)return t(e,n);jl=!0;try{return Cp(t,e,n)}finally{jl=!1,(Kr!==null||Gr!==null)&&(Pp(),Np())}}function vi(t,e){var n=t.stateNode;if(n===null)return null;var r=Ya(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Cc=!1;if(nn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Cc=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Cc=!1}function $y(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Zs=!1,sa=null,ia=!1,Pc=null,Fy={onError:function(t){Zs=!0,sa=t}};function zy(t,e,n,r,s,i,o,a,l){Zs=!1,sa=null,$y.apply(Fy,arguments)}function Uy(t,e,n,r,s,i,o,a,l){if(zy.apply(this,arguments),Zs){if(Zs){var c=sa;Zs=!1,sa=null}else throw Error(C(198));ia||(ia=!0,Pc=c)}}function jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lh(t){if(jr(t)!==t)throw Error(C(188))}function By(t){var e=t.alternate;if(!e){if(e=jr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lh(s),t;if(i===r)return lh(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function Op(t){return t=By(t),t!==null?Lp(t):null}function Lp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lp(t);if(e!==null)return e;t=t.sibling}return null}var Mp=rt.unstable_scheduleCallback,ch=rt.unstable_cancelCallback,Wy=rt.unstable_shouldYield,Hy=rt.unstable_requestPaint,fe=rt.unstable_now,Vy=rt.unstable_getCurrentPriorityLevel,Bu=rt.unstable_ImmediatePriority,Dp=rt.unstable_UserBlockingPriority,oa=rt.unstable_NormalPriority,qy=rt.unstable_LowPriority,Rp=rt.unstable_IdlePriority,Wa=null,It=null;function Yy(t){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Wa,t,void 0,(t.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Qy,Ky=Math.log,Gy=Math.LN2;function Qy(t){return t>>>=0,t===0?32:31-(Ky(t)/Gy|0)|0}var io=64,oo=4194304;function Vs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function aa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Vs(a):(i&=o,i!==0&&(r=Vs(i)))}else o=n&~s,o!==0?r=Vs(o):i!==0&&(r=Vs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-St(e),s=1<<n,r|=t[n],e&=~s;return r}function Xy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-St(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Xy(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ec(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ap(){var t=io;return io<<=1,!(io&4194240)&&(io=64),t}function Sl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-St(e),t[e]=n}function Zy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-St(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Wu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-St(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var G=0;function Ip(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $p,Hu,Fp,zp,Up,Tc=!1,ao=[],En=null,Tn=null,On=null,xi=new Map,yi=new Map,wn=[],e0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(t,e){switch(t){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":xi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(e.pointerId)}}function Es(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yi(e),e!==null&&Hu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function t0(t,e,n,r,s){switch(e){case"focusin":return En=Es(En,t,e,n,r,s),!0;case"dragenter":return Tn=Es(Tn,t,e,n,r,s),!0;case"mouseover":return On=Es(On,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xi.set(i,Es(xi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yi.set(i,Es(yi.get(i)||null,t,e,n,r,s)),!0}return!1}function Bp(t){var e=or(t.target);if(e!==null){var n=jr(e);if(n!==null){if(e=n.tag,e===13){if(e=Tp(n),e!==null){t.blockedOn=e,Up(t.priority,function(){Fp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sc=r,n.target.dispatchEvent(r),Sc=null}else return e=Yi(n),e!==null&&Hu(e),t.blockedOn=n,!1;e.shift()}return!0}function dh(t,e,n){zo(t)&&n.delete(e)}function n0(){Tc=!1,En!==null&&zo(En)&&(En=null),Tn!==null&&zo(Tn)&&(Tn=null),On!==null&&zo(On)&&(On=null),xi.forEach(dh),yi.forEach(dh)}function Ts(t,e){t.blockedOn===e&&(t.blockedOn=null,Tc||(Tc=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,n0)))}function wi(t){function e(s){return Ts(s,t)}if(0<ao.length){Ts(ao[0],t);for(var n=1;n<ao.length;n++){var r=ao[n];r.blockedOn===t&&(r.blockedOn=null)}}for(En!==null&&Ts(En,t),Tn!==null&&Ts(Tn,t),On!==null&&Ts(On,t),xi.forEach(e),yi.forEach(e),n=0;n<wn.length;n++)r=wn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)Bp(n),n.blockedOn===null&&wn.shift()}var Qr=cn.ReactCurrentBatchConfig,la=!0;function r0(t,e,n,r){var s=G,i=Qr.transition;Qr.transition=null;try{G=1,Vu(t,e,n,r)}finally{G=s,Qr.transition=i}}function s0(t,e,n,r){var s=G,i=Qr.transition;Qr.transition=null;try{G=4,Vu(t,e,n,r)}finally{G=s,Qr.transition=i}}function Vu(t,e,n,r){if(la){var s=Oc(t,e,n,r);if(s===null)Rl(t,e,r,ca,n),uh(t,r);else if(t0(s,t,e,n,r))r.stopPropagation();else if(uh(t,r),e&4&&-1<e0.indexOf(t)){for(;s!==null;){var i=Yi(s);if(i!==null&&$p(i),i=Oc(t,e,n,r),i===null&&Rl(t,e,r,ca,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Rl(t,e,r,null,n)}}var ca=null;function Oc(t,e,n,r){if(ca=null,t=Uu(r),t=or(t),t!==null)if(e=jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ca=t,null}function Wp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vy()){case Bu:return 1;case Dp:return 4;case oa:case qy:return 16;case Rp:return 536870912;default:return 16}default:return 16}}var jn=null,qu=null,Uo=null;function Hp(){if(Uo)return Uo;var t,e=qu,n=e.length,r,s="value"in jn?jn.value:jn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Uo=s.slice(t,1<r?1-r:void 0)}function Bo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lo(){return!0}function hh(){return!1}function it(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lo:hh,this.isPropagationStopped=hh,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),e}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=it(vs),qi=ue({},vs,{view:0,detail:0}),i0=it(qi),Nl,Cl,Os,Ha=ue({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Os&&(Os&&t.type==="mousemove"?(Nl=t.screenX-Os.screenX,Cl=t.screenY-Os.screenY):Cl=Nl=0,Os=t),Nl)},movementY:function(t){return"movementY"in t?t.movementY:Cl}}),fh=it(Ha),o0=ue({},Ha,{dataTransfer:0}),a0=it(o0),l0=ue({},qi,{relatedTarget:0}),Pl=it(l0),c0=ue({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),u0=it(c0),d0=ue({},vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),h0=it(d0),f0=ue({},vs,{data:0}),mh=it(f0),m0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=g0[t])?!!e[t]:!1}function Ku(){return v0}var x0=ue({},qi,{key:function(t){if(t.key){var e=m0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(t){return t.type==="keypress"?Bo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y0=it(x0),w0=ue({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=it(w0),_0=ue({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),b0=it(_0),k0=ue({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),j0=it(k0),S0=ue({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N0=it(S0),C0=[9,13,27,32],Gu=nn&&"CompositionEvent"in window,ei=null;nn&&"documentMode"in document&&(ei=document.documentMode);var P0=nn&&"TextEvent"in window&&!ei,Vp=nn&&(!Gu||ei&&8<ei&&11>=ei),gh=" ",vh=!1;function qp(t,e){switch(t){case"keyup":return C0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ir=!1;function E0(t,e){switch(t){case"compositionend":return Yp(e);case"keypress":return e.which!==32?null:(vh=!0,gh);case"textInput":return t=e.data,t===gh&&vh?null:t;default:return null}}function T0(t,e){if(Ir)return t==="compositionend"||!Gu&&qp(t,e)?(t=Hp(),Uo=qu=jn=null,Ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vp&&e.locale!=="ko"?null:e.data;default:return null}}var O0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O0[t.type]:e==="textarea"}function Kp(t,e,n,r){Sp(r),e=ua(e,"onChange"),0<e.length&&(n=new Yu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ti=null,_i=null;function L0(t){ig(t,0)}function Va(t){var e=zr(t);if(xp(e))return t}function M0(t,e){if(t==="change")return e}var Gp=!1;if(nn){var El;if(nn){var Tl="oninput"in document;if(!Tl){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),Tl=typeof yh.oninput=="function"}El=Tl}else El=!1;Gp=El&&(!document.documentMode||9<document.documentMode)}function wh(){ti&&(ti.detachEvent("onpropertychange",Qp),_i=ti=null)}function Qp(t){if(t.propertyName==="value"&&Va(_i)){var e=[];Kp(e,_i,t,Uu(t)),Ep(L0,e)}}function D0(t,e,n){t==="focusin"?(wh(),ti=e,_i=n,ti.attachEvent("onpropertychange",Qp)):t==="focusout"&&wh()}function R0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(_i)}function A0(t,e){if(t==="click")return Va(e)}function I0(t,e){if(t==="input"||t==="change")return Va(e)}function $0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ct=typeof Object.is=="function"?Object.is:$0;function bi(t,e){if(Ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fc.call(e,s)||!Ct(t[s],e[s]))return!1}return!0}function _h(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bh(t,e){var n=_h(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_h(n)}}function Xp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jp(){for(var t=window,e=ra();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ra(t.document)}return e}function Qu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function F0(t){var e=Jp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xp(n.ownerDocument.documentElement,n)){if(r!==null&&Qu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=bh(n,i);var o=bh(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z0=nn&&"documentMode"in document&&11>=document.documentMode,$r=null,Lc=null,ni=null,Mc=!1;function kh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mc||$r==null||$r!==ra(r)||(r=$r,"selectionStart"in r&&Qu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ni&&bi(ni,r)||(ni=r,r=ua(Lc,"onSelect"),0<r.length&&(e=new Yu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$r)))}function co(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fr={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},Ol={},Zp={};nn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function qa(t){if(Ol[t])return Ol[t];if(!Fr[t])return t;var e=Fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zp)return Ol[t]=e[n];return t}var eg=qa("animationend"),tg=qa("animationiteration"),ng=qa("animationstart"),rg=qa("transitionend"),sg=new Map,jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(t,e){sg.set(t,e),kr(e,[t])}for(var Ll=0;Ll<jh.length;Ll++){var Ml=jh[Ll],U0=Ml.toLowerCase(),B0=Ml[0].toUpperCase()+Ml.slice(1);Hn(U0,"on"+B0)}Hn(eg,"onAnimationEnd");Hn(tg,"onAnimationIteration");Hn(ng,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(rg,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W0=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function Sh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Uy(r,e,void 0,t),t.currentTarget=null}function ig(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Sh(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Sh(s,a,c),i=l}}}if(ia)throw t=Pc,ia=!1,Pc=null,t}function ne(t,e){var n=e[$c];n===void 0&&(n=e[$c]=new Set);var r=t+"__bubble";n.has(r)||(og(e,t,2,!1),n.add(r))}function Dl(t,e,n){var r=0;e&&(r|=4),og(n,t,r,e)}var uo="_reactListening"+Math.random().toString(36).slice(2);function ki(t){if(!t[uo]){t[uo]=!0,fp.forEach(function(n){n!=="selectionchange"&&(W0.has(n)||Dl(n,!1,t),Dl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uo]||(e[uo]=!0,Dl("selectionchange",!1,e))}}function og(t,e,n,r){switch(Wp(e)){case 1:var s=r0;break;case 4:s=s0;break;default:s=Vu}n=s.bind(null,e,n,t),s=void 0,!Cc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=or(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ep(function(){var c=i,d=Uu(n),h=[];e:{var f=sg.get(t);if(f!==void 0){var m=Yu,v=t;switch(t){case"keypress":if(Bo(n)===0)break e;case"keydown":case"keyup":m=y0;break;case"focusin":v="focus",m=Pl;break;case"focusout":v="blur",m=Pl;break;case"beforeblur":case"afterblur":m=Pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=a0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=b0;break;case eg:case tg:case ng:m=u0;break;case rg:m=j0;break;case"scroll":m=i0;break;case"wheel":m=N0;break;case"copy":case"cut":case"paste":m=h0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ph}var x=(e&4)!==0,y=!x&&t==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var g=c,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,p!==null&&(_=vi(g,p),_!=null&&x.push(ji(g,_,w)))),y)break;g=g.return}0<x.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Sc&&(v=n.relatedTarget||n.fromElement)&&(or(v)||v[rn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?or(v):null,v!==null&&(y=jr(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=fh,_="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=ph,_="onPointerLeave",p="onPointerEnter",g="pointer"),y=m==null?f:zr(m),w=v==null?f:zr(v),f=new x(_,g+"leave",m,n,d),f.target=y,f.relatedTarget=w,_=null,or(d)===c&&(x=new x(p,g+"enter",v,n,d),x.target=w,x.relatedTarget=y,_=x),y=_,m&&v)t:{for(x=m,p=v,g=0,w=x;w;w=Pr(w))g++;for(w=0,_=p;_;_=Pr(_))w++;for(;0<g-w;)x=Pr(x),g--;for(;0<w-g;)p=Pr(p),w--;for(;g--;){if(x===p||p!==null&&x===p.alternate)break t;x=Pr(x),p=Pr(p)}x=null}else x=null;m!==null&&Nh(h,f,m,x,!1),v!==null&&y!==null&&Nh(h,y,v,x,!0)}}e:{if(f=c?zr(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var b=M0;else if(xh(f))if(Gp)b=I0;else{b=R0;var N=D0}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=A0);if(b&&(b=b(t,c))){Kp(h,b,n,d);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&wc(f,"number",f.value)}switch(N=c?zr(c):window,t){case"focusin":(xh(N)||N.contentEditable==="true")&&($r=N,Lc=c,ni=null);break;case"focusout":ni=Lc=$r=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,kh(h,n,d);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":kh(h,n,d)}var j;if(Gu)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ir?qp(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Vp&&n.locale!=="ko"&&(Ir||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ir&&(j=Hp()):(jn=d,qu="value"in jn?jn.value:jn.textContent,Ir=!0)),N=ua(c,S),0<N.length&&(S=new mh(S,t,null,n,d),h.push({event:S,listeners:N}),j?S.data=j:(j=Yp(n),j!==null&&(S.data=j)))),(j=P0?E0(t,n):T0(t,n))&&(c=ua(c,"onBeforeInput"),0<c.length&&(d=new mh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=j))}ig(h,e)})}function ji(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ua(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vi(t,n),i!=null&&r.unshift(ji(t,i,s)),i=vi(t,e),i!=null&&r.push(ji(t,i,s))),t=t.return}return r}function Pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nh(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=vi(n,i),l!=null&&o.unshift(ji(n,l,a))):s||(l=vi(n,i),l!=null&&o.push(ji(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var H0=/\r\n?/g,V0=/\u0000|\uFFFD/g;function Ch(t){return(typeof t=="string"?t:""+t).replace(H0,`
`).replace(V0,"")}function ho(t,e,n){if(e=Ch(e),Ch(t)!==e&&n)throw Error(C(425))}function da(){}var Dc=null,Rc=null;function Ac(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,q0=typeof clearTimeout=="function"?clearTimeout:void 0,Ph=typeof Promise=="function"?Promise:void 0,Y0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ph<"u"?function(t){return Ph.resolve(null).then(t).catch(K0)}:Ic;function K0(t){setTimeout(function(){throw t})}function Al(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wi(e)}function Ln(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Eh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xs=Math.random().toString(36).slice(2),At="__reactFiber$"+xs,Si="__reactProps$"+xs,rn="__reactContainer$"+xs,$c="__reactEvents$"+xs,G0="__reactListeners$"+xs,Q0="__reactHandles$"+xs;function or(t){var e=t[At];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rn]||n[At]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Eh(t);t!==null;){if(n=t[At])return n;t=Eh(t)}return e}t=n,n=t.parentNode}return null}function Yi(t){return t=t[At]||t[rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Ya(t){return t[Si]||null}var Fc=[],Ur=-1;function Vn(t){return{current:t}}function se(t){0>Ur||(t.current=Fc[Ur],Fc[Ur]=null,Ur--)}function Z(t,e){Ur++,Fc[Ur]=t.current,t.current=e}var Un={},Me=Vn(Un),Ke=Vn(!1),vr=Un;function ss(t,e){var n=t.type.contextTypes;if(!n)return Un;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ge(t){return t=t.childContextTypes,t!=null}function ha(){se(Ke),se(Me)}function Th(t,e,n){if(Me.current!==Un)throw Error(C(168));Z(Me,e),Z(Ke,n)}function ag(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,Dy(t)||"Unknown",s));return ue({},n,r)}function fa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Un,vr=Me.current,Z(Me,t),Z(Ke,Ke.current),!0}function Oh(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=ag(t,e,vr),r.__reactInternalMemoizedMergedChildContext=t,se(Ke),se(Me),Z(Me,t)):se(Ke),Z(Ke,n)}var Qt=null,Ka=!1,Il=!1;function lg(t){Qt===null?Qt=[t]:Qt.push(t)}function X0(t){Ka=!0,lg(t)}function qn(){if(!Il&&Qt!==null){Il=!0;var t=0,e=G;try{var n=Qt;for(G=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qt=null,Ka=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(t+1)),Mp(Bu,qn),s}finally{G=e,Il=!1}}return null}var Br=[],Wr=0,ma=null,pa=0,at=[],lt=0,xr=null,Jt=1,Zt="";function Zn(t,e){Br[Wr++]=pa,Br[Wr++]=ma,ma=t,pa=e}function cg(t,e,n){at[lt++]=Jt,at[lt++]=Zt,at[lt++]=xr,xr=t;var r=Jt;t=Zt;var s=32-St(r)-1;r&=~(1<<s),n+=1;var i=32-St(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Jt=1<<32-St(e)+s|n<<s|r,Zt=i+t}else Jt=1<<i|n<<s|r,Zt=t}function Xu(t){t.return!==null&&(Zn(t,1),cg(t,1,0))}function Ju(t){for(;t===ma;)ma=Br[--Wr],Br[Wr]=null,pa=Br[--Wr],Br[Wr]=null;for(;t===xr;)xr=at[--lt],at[lt]=null,Zt=at[--lt],at[lt]=null,Jt=at[--lt],at[lt]=null}var nt=null,et=null,ie=!1,bt=null;function ug(t,e){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,et=Ln(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xr!==null?{id:Jt,overflow:Zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nt=t,et=null,!0):!1;default:return!1}}function zc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uc(t){if(ie){var e=et;if(e){var n=e;if(!Lh(t,e)){if(zc(t))throw Error(C(418));e=Ln(n.nextSibling);var r=nt;e&&Lh(t,e)?ug(r,n):(t.flags=t.flags&-4097|2,ie=!1,nt=t)}}else{if(zc(t))throw Error(C(418));t.flags=t.flags&-4097|2,ie=!1,nt=t}}}function Mh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function fo(t){if(t!==nt)return!1;if(!ie)return Mh(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ac(t.type,t.memoizedProps)),e&&(e=et)){if(zc(t))throw dg(),Error(C(418));for(;e;)ug(t,e),e=Ln(e.nextSibling)}if(Mh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){et=Ln(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}et=null}}else et=nt?Ln(t.stateNode.nextSibling):null;return!0}function dg(){for(var t=et;t;)t=Ln(t.nextSibling)}function is(){et=nt=null,ie=!1}function Zu(t){bt===null?bt=[t]:bt.push(t)}var J0=cn.ReactCurrentBatchConfig;function Ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function mo(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dh(t){var e=t._init;return e(t._payload)}function hg(t){function e(p,g){if(t){var w=p.deletions;w===null?(p.deletions=[g],p.flags|=16):w.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=An(p,g),p.index=0,p.sibling=null,p}function i(p,g,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<g?(p.flags|=2,g):w):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,w,_){return g===null||g.tag!==6?(g=Hl(w,p.mode,_),g.return=p,g):(g=s(g,w),g.return=p,g)}function l(p,g,w,_){var b=w.type;return b===Ar?d(p,g,w.props.children,_,w.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===vn&&Dh(b)===g.type)?(_=s(g,w.props),_.ref=Ls(p,g,w),_.return=p,_):(_=Go(w.type,w.key,w.props,null,p.mode,_),_.ref=Ls(p,g,w),_.return=p,_)}function c(p,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Vl(w,p.mode,_),g.return=p,g):(g=s(g,w.children||[]),g.return=p,g)}function d(p,g,w,_,b){return g===null||g.tag!==7?(g=mr(w,p.mode,_,b),g.return=p,g):(g=s(g,w),g.return=p,g)}function h(p,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Hl(""+g,p.mode,w),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case no:return w=Go(g.type,g.key,g.props,null,p.mode,w),w.ref=Ls(p,null,g),w.return=p,w;case Rr:return g=Vl(g,p.mode,w),g.return=p,g;case vn:var _=g._init;return h(p,_(g._payload),w)}if(Hs(g)||Cs(g))return g=mr(g,p.mode,w,null),g.return=p,g;mo(p,g)}return null}function f(p,g,w,_){var b=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(p,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case no:return w.key===b?l(p,g,w,_):null;case Rr:return w.key===b?c(p,g,w,_):null;case vn:return b=w._init,f(p,g,b(w._payload),_)}if(Hs(w)||Cs(w))return b!==null?null:d(p,g,w,_,null);mo(p,w)}return null}function m(p,g,w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(w)||null,a(g,p,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case no:return p=p.get(_.key===null?w:_.key)||null,l(g,p,_,b);case Rr:return p=p.get(_.key===null?w:_.key)||null,c(g,p,_,b);case vn:var N=_._init;return m(p,g,w,N(_._payload),b)}if(Hs(_)||Cs(_))return p=p.get(w)||null,d(g,p,_,b,null);mo(g,_)}return null}function v(p,g,w,_){for(var b=null,N=null,j=g,S=g=0,E=null;j!==null&&S<w.length;S++){j.index>S?(E=j,j=null):E=j.sibling;var P=f(p,j,w[S],_);if(P===null){j===null&&(j=E);break}t&&j&&P.alternate===null&&e(p,j),g=i(P,g,S),N===null?b=P:N.sibling=P,N=P,j=E}if(S===w.length)return n(p,j),ie&&Zn(p,S),b;if(j===null){for(;S<w.length;S++)j=h(p,w[S],_),j!==null&&(g=i(j,g,S),N===null?b=j:N.sibling=j,N=j);return ie&&Zn(p,S),b}for(j=r(p,j);S<w.length;S++)E=m(j,p,S,w[S],_),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?S:E.key),g=i(E,g,S),N===null?b=E:N.sibling=E,N=E);return t&&j.forEach(function(L){return e(p,L)}),ie&&Zn(p,S),b}function x(p,g,w,_){var b=Cs(w);if(typeof b!="function")throw Error(C(150));if(w=b.call(w),w==null)throw Error(C(151));for(var N=b=null,j=g,S=g=0,E=null,P=w.next();j!==null&&!P.done;S++,P=w.next()){j.index>S?(E=j,j=null):E=j.sibling;var L=f(p,j,P.value,_);if(L===null){j===null&&(j=E);break}t&&j&&L.alternate===null&&e(p,j),g=i(L,g,S),N===null?b=L:N.sibling=L,N=L,j=E}if(P.done)return n(p,j),ie&&Zn(p,S),b;if(j===null){for(;!P.done;S++,P=w.next())P=h(p,P.value,_),P!==null&&(g=i(P,g,S),N===null?b=P:N.sibling=P,N=P);return ie&&Zn(p,S),b}for(j=r(p,j);!P.done;S++,P=w.next())P=m(j,p,S,P.value,_),P!==null&&(t&&P.alternate!==null&&j.delete(P.key===null?S:P.key),g=i(P,g,S),N===null?b=P:N.sibling=P,N=P);return t&&j.forEach(function(I){return e(p,I)}),ie&&Zn(p,S),b}function y(p,g,w,_){if(typeof w=="object"&&w!==null&&w.type===Ar&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case no:e:{for(var b=w.key,N=g;N!==null;){if(N.key===b){if(b=w.type,b===Ar){if(N.tag===7){n(p,N.sibling),g=s(N,w.props.children),g.return=p,p=g;break e}}else if(N.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===vn&&Dh(b)===N.type){n(p,N.sibling),g=s(N,w.props),g.ref=Ls(p,N,w),g.return=p,p=g;break e}n(p,N);break}else e(p,N);N=N.sibling}w.type===Ar?(g=mr(w.props.children,p.mode,_,w.key),g.return=p,p=g):(_=Go(w.type,w.key,w.props,null,p.mode,_),_.ref=Ls(p,g,w),_.return=p,p=_)}return o(p);case Rr:e:{for(N=w.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(p,g.sibling),g=s(g,w.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Vl(w,p.mode,_),g.return=p,p=g}return o(p);case vn:return N=w._init,y(p,g,N(w._payload),_)}if(Hs(w))return v(p,g,w,_);if(Cs(w))return x(p,g,w,_);mo(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(p,g.sibling),g=s(g,w),g.return=p,p=g):(n(p,g),g=Hl(w,p.mode,_),g.return=p,p=g),o(p)):n(p,g)}return y}var os=hg(!0),fg=hg(!1),ga=Vn(null),va=null,Hr=null,ed=null;function td(){ed=Hr=va=null}function nd(t){var e=ga.current;se(ga),t._currentValue=e}function Bc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xr(t,e){va=t,ed=Hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ye=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(ed!==t)if(t={context:t,memoizedValue:e,next:null},Hr===null){if(va===null)throw Error(C(308));Hr=t,va.dependencies={lanes:0,firstContext:t}}else Hr=Hr.next=t;return e}var ar=null;function rd(t){ar===null?ar=[t]:ar.push(t)}function mg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,rd(e)):(n.next=s.next,s.next=n),e.interleaved=n,sn(t,r)}function sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xn=!1;function sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function en(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,sn(t,n)}return s=r.interleaved,s===null?(e.next=e,rd(r)):(e.next=s.next,s.next=e),r.interleaved=e,sn(t,n)}function Wo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wu(t,n)}}function Rh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xa(t,e,n,r){var s=t.updateQueue;xn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(f=e,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=ue({},h,f);break e;case 2:xn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wr|=o,t.lanes=o,t.memoizedState=h}}function Ah(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var Ki={},$t=Vn(Ki),Ni=Vn(Ki),Ci=Vn(Ki);function lr(t){if(t===Ki)throw Error(C(174));return t}function id(t,e){switch(Z(Ci,e),Z(Ni,t),Z($t,Ki),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bc(e,t)}se($t),Z($t,e)}function as(){se($t),se(Ni),se(Ci)}function gg(t){lr(Ci.current);var e=lr($t.current),n=bc(e,t.type);e!==n&&(Z(Ni,t),Z($t,n))}function od(t){Ni.current===t&&(se($t),se(Ni))}var ae=Vn(0);function ya(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $l=[];function ad(){for(var t=0;t<$l.length;t++)$l[t]._workInProgressVersionPrimary=null;$l.length=0}var Ho=cn.ReactCurrentDispatcher,Fl=cn.ReactCurrentBatchConfig,yr=0,le=null,ge=null,we=null,wa=!1,ri=!1,Pi=0,Z0=0;function Pe(){throw Error(C(321))}function ld(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ct(t[n],e[n]))return!1;return!0}function cd(t,e,n,r,s,i){if(yr=i,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ho.current=t===null||t.memoizedState===null?rw:sw,t=n(r,s),ri){i=0;do{if(ri=!1,Pi=0,25<=i)throw Error(C(301));i+=1,we=ge=null,e.updateQueue=null,Ho.current=iw,t=n(r,s)}while(ri)}if(Ho.current=_a,e=ge!==null&&ge.next!==null,yr=0,we=ge=le=null,wa=!1,e)throw Error(C(300));return t}function ud(){var t=Pi!==0;return Pi=0,t}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?le.memoizedState=we=t:we=we.next=t,we}function mt(){if(ge===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=we===null?le.memoizedState:we.next;if(e!==null)we=e,ge=t;else{if(t===null)throw Error(C(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},we===null?le.memoizedState=we=t:we=we.next=t}return we}function Ei(t,e){return typeof e=="function"?e(t):e}function zl(t){var e=mt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((yr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,le.lanes|=d,wr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ct(r,e.memoizedState)||(Ye=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,le.lanes|=i,wr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ul(t){var e=mt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ct(i,e.memoizedState)||(Ye=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vg(){}function xg(t,e){var n=le,r=mt(),s=e(),i=!Ct(r.memoizedState,s);if(i&&(r.memoizedState=s,Ye=!0),r=r.queue,dd(_g.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Ti(9,wg.bind(null,n,r,s,e),void 0,null),_e===null)throw Error(C(349));yr&30||yg(n,e,s)}return s}function yg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wg(t,e,n,r){e.value=n,e.getSnapshot=r,bg(e)&&kg(t)}function _g(t,e,n){return n(function(){bg(e)&&kg(t)})}function bg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ct(t,n)}catch{return!0}}function kg(t){var e=sn(t,1);e!==null&&Nt(e,t,1,-1)}function Ih(t){var e=Dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},e.queue=t,t=t.dispatch=nw.bind(null,le,t),[e.memoizedState,t]}function Ti(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jg(){return mt().memoizedState}function Vo(t,e,n,r){var s=Dt();le.flags|=t,s.memoizedState=Ti(1|e,n,void 0,r===void 0?null:r)}function Ga(t,e,n,r){var s=mt();r=r===void 0?null:r;var i=void 0;if(ge!==null){var o=ge.memoizedState;if(i=o.destroy,r!==null&&ld(r,o.deps)){s.memoizedState=Ti(e,n,i,r);return}}le.flags|=t,s.memoizedState=Ti(1|e,n,i,r)}function $h(t,e){return Vo(8390656,8,t,e)}function dd(t,e){return Ga(2048,8,t,e)}function Sg(t,e){return Ga(4,2,t,e)}function Ng(t,e){return Ga(4,4,t,e)}function Cg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pg(t,e,n){return n=n!=null?n.concat([t]):null,Ga(4,4,Cg.bind(null,e,t),n)}function hd(){}function Eg(t,e){var n=mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ld(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Tg(t,e){var n=mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ld(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Og(t,e,n){return yr&21?(Ct(n,e)||(n=Ap(),le.lanes|=n,wr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ye=!0),t.memoizedState=n)}function ew(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var r=Fl.transition;Fl.transition={};try{t(!1),e()}finally{G=n,Fl.transition=r}}function Lg(){return mt().memoizedState}function tw(t,e,n){var r=Rn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mg(t))Dg(e,n);else if(n=mg(t,e,n,r),n!==null){var s=Fe();Nt(n,t,r,s),Rg(n,e,r)}}function nw(t,e,n){var r=Rn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mg(t))Dg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ct(a,o)){var l=e.interleaved;l===null?(s.next=s,rd(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=mg(t,e,s,r),n!==null&&(s=Fe(),Nt(n,t,r,s),Rg(n,e,r))}}function Mg(t){var e=t.alternate;return t===le||e!==null&&e===le}function Dg(t,e){ri=wa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wu(t,n)}}var _a={readContext:ft,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},rw={readContext:ft,useCallback:function(t,e){return Dt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:$h,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vo(4194308,4,Cg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vo(4,2,t,e)},useMemo:function(t,e){var n=Dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tw.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=Dt();return t={current:t},e.memoizedState=t},useState:Ih,useDebugValue:hd,useDeferredValue:function(t){return Dt().memoizedState=t},useTransition:function(){var t=Ih(!1),e=t[0];return t=ew.bind(null,t[1]),Dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=le,s=Dt();if(ie){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),_e===null)throw Error(C(349));yr&30||yg(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$h(_g.bind(null,r,i,t),[t]),r.flags|=2048,Ti(9,wg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Dt(),e=_e.identifierPrefix;if(ie){var n=Zt,r=Jt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Z0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sw={readContext:ft,useCallback:Eg,useContext:ft,useEffect:dd,useImperativeHandle:Pg,useInsertionEffect:Sg,useLayoutEffect:Ng,useMemo:Tg,useReducer:zl,useRef:jg,useState:function(){return zl(Ei)},useDebugValue:hd,useDeferredValue:function(t){var e=mt();return Og(e,ge.memoizedState,t)},useTransition:function(){var t=zl(Ei)[0],e=mt().memoizedState;return[t,e]},useMutableSource:vg,useSyncExternalStore:xg,useId:Lg,unstable_isNewReconciler:!1},iw={readContext:ft,useCallback:Eg,useContext:ft,useEffect:dd,useImperativeHandle:Pg,useInsertionEffect:Sg,useLayoutEffect:Ng,useMemo:Tg,useReducer:Ul,useRef:jg,useState:function(){return Ul(Ei)},useDebugValue:hd,useDeferredValue:function(t){var e=mt();return ge===null?e.memoizedState=t:Og(e,ge.memoizedState,t)},useTransition:function(){var t=Ul(Ei)[0],e=mt().memoizedState;return[t,e]},useMutableSource:vg,useSyncExternalStore:xg,useId:Lg,unstable_isNewReconciler:!1};function yt(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qa={isMounted:function(t){return(t=t._reactInternals)?jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fe(),s=Rn(t),i=en(r,s);i.payload=e,n!=null&&(i.callback=n),e=Mn(t,i,s),e!==null&&(Nt(e,t,s,r),Wo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fe(),s=Rn(t),i=en(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mn(t,i,s),e!==null&&(Nt(e,t,s,r),Wo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fe(),r=Rn(t),s=en(n,r);s.tag=2,e!=null&&(s.callback=e),e=Mn(t,s,r),e!==null&&(Nt(e,t,r,n),Wo(e,t,r))}};function Fh(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!bi(n,r)||!bi(s,i):!0}function Ag(t,e,n){var r=!1,s=Un,i=e.contextType;return typeof i=="object"&&i!==null?i=ft(i):(s=Ge(e)?vr:Me.current,r=e.contextTypes,i=(r=r!=null)?ss(t,s):Un),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qa.enqueueReplaceState(e,e.state,null)}function Hc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},sd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ft(i):(i=Ge(e)?vr:Me.current,s.context=ss(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wc(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qa.enqueueReplaceState(s,s.state,null),xa(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,e){try{var n="",r=e;do n+=My(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Bl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ow=typeof WeakMap=="function"?WeakMap:Map;function Ig(t,e,n){n=en(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ka||(ka=!0,tu=r),Vc(t,e)},n}function $g(t,e,n){n=en(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vc(t,e),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Uh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ow;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ww.bind(null,t,e,n),e.then(t,t))}function Bh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wh(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=en(-1,1),e.tag=2,Mn(n,e,1))),n.lanes|=1),t)}var aw=cn.ReactCurrentOwner,Ye=!1;function $e(t,e,n,r){e.child=t===null?fg(e,null,n,r):os(e,t.child,n,r)}function Hh(t,e,n,r,s){n=n.render;var i=e.ref;return Xr(e,s),r=cd(t,e,n,r,i,s),n=ud(),t!==null&&!Ye?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(ie&&n&&Xu(e),e.flags|=1,$e(t,e,r,s),e.child)}function Vh(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!wd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Fg(t,e,i,r,s)):(t=Go(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:bi,n(o,r)&&t.ref===e.ref)return on(t,e,s)}return e.flags|=1,t=An(i,r),t.ref=e.ref,t.return=e,e.child=t}function Fg(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(bi(i,r)&&t.ref===e.ref)if(Ye=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ye=!0);else return e.lanes=t.lanes,on(t,e,s)}return qc(t,e,n,r,s)}function zg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(qr,Ze),Ze|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(qr,Ze),Ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(qr,Ze),Ze|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Z(qr,Ze),Ze|=r;return $e(t,e,s,n),e.child}function Ug(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qc(t,e,n,r,s){var i=Ge(n)?vr:Me.current;return i=ss(e,i),Xr(e,s),n=cd(t,e,n,r,i,s),r=ud(),t!==null&&!Ye?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(ie&&r&&Xu(e),e.flags|=1,$e(t,e,n,s),e.child)}function qh(t,e,n,r,s){if(Ge(n)){var i=!0;fa(e)}else i=!1;if(Xr(e,s),e.stateNode===null)qo(t,e),Ag(e,n,r),Hc(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ft(c):(c=Ge(n)?vr:Me.current,c=ss(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&zh(e,o,r,c),xn=!1;var f=e.memoizedState;o.state=f,xa(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Ke.current||xn?(typeof d=="function"&&(Wc(e,n,d,r),l=e.memoizedState),(a=xn||Fh(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pg(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:yt(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=Ge(n)?vr:Me.current,l=ss(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&zh(e,o,r,l),xn=!1,f=e.memoizedState,o.state=f,xa(e,r,o,s);var v=e.memoizedState;a!==h||f!==v||Ke.current||xn?(typeof m=="function"&&(Wc(e,n,m,r),v=e.memoizedState),(c=xn||Fh(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Yc(t,e,n,r,i,s)}function Yc(t,e,n,r,s,i){Ug(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Oh(e,n,!1),on(t,e,i);r=e.stateNode,aw.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=os(e,t.child,null,i),e.child=os(e,null,a,i)):$e(t,e,a,i),e.memoizedState=r.state,s&&Oh(e,n,!0),e.child}function Bg(t){var e=t.stateNode;e.pendingContext?Th(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Th(t,e.context,!1),id(t,e.containerInfo)}function Yh(t,e,n,r,s){return is(),Zu(s),e.flags|=256,$e(t,e,n,r),e.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function Gc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wg(t,e,n){var r=e.pendingProps,s=ae.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(ae,s&1),t===null)return Uc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Za(o,r,0,null),t=mr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Gc(n),e.memoizedState=Kc,t):fd(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return lw(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=An(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=An(a,i):(i=mr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Gc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Kc,r}return i=t.child,t=i.sibling,r=An(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fd(t,e){return e=Za({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function po(t,e,n,r){return r!==null&&Zu(r),os(e,t.child,null,n),t=fd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lw(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Bl(Error(C(422))),po(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Za({mode:"visible",children:r.children},s,0,null),i=mr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&os(e,t.child,null,o),e.child.memoizedState=Gc(o),e.memoizedState=Kc,i);if(!(e.mode&1))return po(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=Bl(i,r,void 0),po(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ye||a){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sn(t,s),Nt(r,t,s,-1))}return yd(),r=Bl(Error(C(421))),po(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=_w.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,et=Ln(s.nextSibling),nt=e,ie=!0,bt=null,t!==null&&(at[lt++]=Jt,at[lt++]=Zt,at[lt++]=xr,Jt=t.id,Zt=t.overflow,xr=e),e=fd(e,r.children),e.flags|=4096,e)}function Kh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bc(t.return,e,n)}function Wl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Hg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($e(t,e,r.children,n),r=ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kh(t,n,e);else if(t.tag===19)Kh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(ae,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ya(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ya(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wl(e,!0,n,null,i);break;case"together":Wl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function on(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=An(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=An(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cw(t,e,n){switch(e.tag){case 3:Bg(e),is();break;case 5:gg(e);break;case 1:Ge(e.type)&&fa(e);break;case 4:id(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Z(ga,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(ae,ae.current&1),e.flags|=128,null):n&e.child.childLanes?Wg(t,e,n):(Z(ae,ae.current&1),t=on(t,e,n),t!==null?t.sibling:null);Z(ae,ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ae,ae.current),r)break;return null;case 22:case 23:return e.lanes=0,zg(t,e,n)}return on(t,e,n)}var Vg,Qc,qg,Yg;Vg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qc=function(){};qg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,lr($t.current);var i=null;switch(n){case"input":s=xc(t,s),r=xc(t,r),i=[];break;case"select":s=ue({},s,{value:void 0}),r=ue({},r,{value:void 0}),i=[];break;case"textarea":s=_c(t,s),r=_c(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=da)}kc(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ne("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Yg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ms(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ee(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uw(t,e,n){var r=e.pendingProps;switch(Ju(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(e),null;case 1:return Ge(e.type)&&ha(),Ee(e),null;case 3:return r=e.stateNode,as(),se(Ke),se(Me),ad(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(su(bt),bt=null))),Qc(t,e),Ee(e),null;case 5:od(e);var s=lr(Ci.current);if(n=e.type,t!==null&&e.stateNode!=null)qg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Ee(e),null}if(t=lr($t.current),fo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[At]=e,r[Si]=i,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<qs.length;s++)ne(qs[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":rh(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":ih(r,i),ne("invalid",r)}kc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ho(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ho(r.textContent,a,t),s=["children",""+a]):pi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":ro(r),sh(r,i,!0);break;case"textarea":ro(r),oh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=da)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_p(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[At]=e,t[Si]=r,Vg(t,e,!1,!1),e.stateNode=t;e:{switch(o=jc(n,r),n){case"dialog":ne("cancel",t),ne("close",t),s=r;break;case"iframe":case"object":case"embed":ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<qs.length;s++)ne(qs[s],t);s=r;break;case"source":ne("error",t),s=r;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=r;break;case"details":ne("toggle",t),s=r;break;case"input":rh(t,r),s=xc(t,r),ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ue({},r,{value:void 0}),ne("invalid",t);break;case"textarea":ih(t,r),s=_c(t,r),ne("invalid",t);break;default:s=r}kc(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jp(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bp(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gi(t,l):typeof l=="number"&&gi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",t):l!=null&&Iu(t,i,l,o))}switch(n){case"input":ro(t),sh(t,r,!1);break;case"textarea":ro(t),oh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Yr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Yr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=da)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ee(e),null;case 6:if(t&&e.stateNode!=null)Yg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=lr(Ci.current),lr($t.current),fo(e)){if(r=e.stateNode,n=e.memoizedProps,r[At]=e,(i=r.nodeValue!==n)&&(t=nt,t!==null))switch(t.tag){case 3:ho(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ho(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=e,e.stateNode=r}return Ee(e),null;case 13:if(se(ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&et!==null&&e.mode&1&&!(e.flags&128))dg(),is(),e.flags|=98560,i=!1;else if(i=fo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[At]=e}else is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ee(e),i=!1}else bt!==null&&(su(bt),bt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ae.current&1?xe===0&&(xe=3):yd())),e.updateQueue!==null&&(e.flags|=4),Ee(e),null);case 4:return as(),Qc(t,e),t===null&&ki(e.stateNode.containerInfo),Ee(e),null;case 10:return nd(e.type._context),Ee(e),null;case 17:return Ge(e.type)&&ha(),Ee(e),null;case 19:if(se(ae),i=e.memoizedState,i===null)return Ee(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ms(i,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ya(t),o!==null){for(e.flags|=128,Ms(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(ae,ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&fe()>cs&&(e.flags|=128,r=!0,Ms(i,!1),e.lanes=4194304)}else{if(!r)if(t=ya(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ms(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return Ee(e),null}else 2*fe()-i.renderingStartTime>cs&&n!==1073741824&&(e.flags|=128,r=!0,Ms(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=fe(),e.sibling=null,n=ae.current,Z(ae,r?n&1|2:n&1),e):(Ee(e),null);case 22:case 23:return xd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ze&1073741824&&(Ee(e),e.subtreeFlags&6&&(e.flags|=8192)):Ee(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function dw(t,e){switch(Ju(e),e.tag){case 1:return Ge(e.type)&&ha(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return as(),se(Ke),se(Me),ad(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return od(e),null;case 13:if(se(ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(ae),null;case 4:return as(),null;case 10:return nd(e.type._context),null;case 22:case 23:return xd(),null;case 24:return null;default:return null}}var go=!1,Oe=!1,hw=typeof WeakSet=="function"?WeakSet:Set,O=null;function Vr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(t,e,r)}else n.current=null}function Xc(t,e,n){try{n()}catch(r){de(t,e,r)}}var Gh=!1;function fw(t,e){if(Dc=la,t=Jp(),Qu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rc={focusedElem:t,selectionRange:n},la=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:yt(e.type,x),y);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(_){de(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return v=Gh,Gh=!1,v}function si(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xc(e,n,i)}s=s.next}while(s!==r)}}function Xa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kg(t){var e=t.alternate;e!==null&&(t.alternate=null,Kg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[At],delete e[Si],delete e[$c],delete e[G0],delete e[Q0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gg(t){return t.tag===5||t.tag===3||t.tag===4}function Qh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=da));else if(r!==4&&(t=t.child,t!==null))for(Zc(t,e,n),t=t.sibling;t!==null;)Zc(t,e,n),t=t.sibling}function eu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(eu(t,e,n),t=t.sibling;t!==null;)eu(t,e,n),t=t.sibling}var ke=null,wt=!1;function dn(t,e,n){for(n=n.child;n!==null;)Qg(t,e,n),n=n.sibling}function Qg(t,e,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Wa,n)}catch{}switch(n.tag){case 5:Oe||Vr(n,e);case 6:var r=ke,s=wt;ke=null,dn(t,e,n),ke=r,wt=s,ke!==null&&(wt?(t=ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(wt?(t=ke,n=n.stateNode,t.nodeType===8?Al(t.parentNode,n):t.nodeType===1&&Al(t,n),wi(t)):Al(ke,n.stateNode));break;case 4:r=ke,s=wt,ke=n.stateNode.containerInfo,wt=!0,dn(t,e,n),ke=r,wt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xc(n,e,o),s=s.next}while(s!==r)}dn(t,e,n);break;case 1:if(!Oe&&(Vr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){de(n,e,a)}dn(t,e,n);break;case 21:dn(t,e,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,dn(t,e,n),Oe=r):dn(t,e,n);break;default:dn(t,e,n)}}function Xh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hw),e.forEach(function(r){var s=bw.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ke=a.stateNode,wt=!1;break e;case 3:ke=a.stateNode.containerInfo,wt=!0;break e;case 4:ke=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(ke===null)throw Error(C(160));Qg(i,o,s),ke=null,wt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){de(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xg(e,t),e=e.sibling}function Xg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),Tt(t),r&4){try{si(3,t,t.return),Xa(3,t)}catch(x){de(t,t.return,x)}try{si(5,t,t.return)}catch(x){de(t,t.return,x)}}break;case 1:xt(e,t),Tt(t),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(xt(e,t),Tt(t),r&512&&n!==null&&Vr(n,n.return),t.flags&32){var s=t.stateNode;try{gi(s,"")}catch(x){de(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yp(s,i),jc(a,o);var c=jc(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?jp(s,h):d==="dangerouslySetInnerHTML"?bp(s,h):d==="children"?gi(s,h):Iu(s,d,h,c)}switch(a){case"input":yc(s,i);break;case"textarea":wp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Yr(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Yr(s,!!i.multiple,i.defaultValue,!0):Yr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Si]=i}catch(x){de(t,t.return,x)}}break;case 6:if(xt(e,t),Tt(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){de(t,t.return,x)}}break;case 3:if(xt(e,t),Tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wi(e.containerInfo)}catch(x){de(t,t.return,x)}break;case 4:xt(e,t),Tt(t);break;case 13:xt(e,t),Tt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gd=fe())),r&4&&Xh(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Oe=(c=Oe)||d,xt(e,t),Oe=c):xt(e,t),Tt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,m=f.child,f.tag){case 0:case 11:case 14:case 15:si(4,f,f.return);break;case 1:Vr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){de(r,n,x)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){Zh(h);continue}}m!==null?(m.return=f,O=m):Zh(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kp("display",o))}catch(x){de(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){de(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xt(e,t),Tt(t),r&4&&Xh(t);break;case 21:break;default:xt(e,t),Tt(t)}}function Tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gg(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gi(s,""),r.flags&=-33);var i=Qh(t);eu(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Qh(t);Zc(t,a,o);break;default:throw Error(C(161))}}catch(l){de(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mw(t,e,n){O=t,Jg(t)}function Jg(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||go;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Oe;a=go;var c=Oe;if(go=o,(Oe=l)&&!c)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?ef(s):l!==null?(l.return=o,O=l):ef(s);for(;i!==null;)O=i,Jg(i),i=i.sibling;O=s,go=a,Oe=c}Jh(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Jh(t)}}function Jh(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oe||Xa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:yt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ah(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ah(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&wi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Oe||e.flags&512&&Jc(e)}catch(f){de(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function Zh(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function ef(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xa(4,e)}catch(l){de(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){de(e,s,l)}}var i=e.return;try{Jc(e)}catch(l){de(e,i,l)}break;case 5:var o=e.return;try{Jc(e)}catch(l){de(e,o,l)}}}catch(l){de(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var pw=Math.ceil,ba=cn.ReactCurrentDispatcher,md=cn.ReactCurrentOwner,dt=cn.ReactCurrentBatchConfig,H=0,_e=null,pe=null,je=0,Ze=0,qr=Vn(0),xe=0,Oi=null,wr=0,Ja=0,pd=0,ii=null,He=null,gd=0,cs=1/0,Kt=null,ka=!1,tu=null,Dn=null,vo=!1,Sn=null,ja=0,oi=0,nu=null,Yo=-1,Ko=0;function Fe(){return H&6?fe():Yo!==-1?Yo:Yo=fe()}function Rn(t){return t.mode&1?H&2&&je!==0?je&-je:J0.transition!==null?(Ko===0&&(Ko=Ap()),Ko):(t=G,t!==0||(t=window.event,t=t===void 0?16:Wp(t.type)),t):1}function Nt(t,e,n,r){if(50<oi)throw oi=0,nu=null,Error(C(185));Vi(t,n,r),(!(H&2)||t!==_e)&&(t===_e&&(!(H&2)&&(Ja|=n),xe===4&&_n(t,je)),Qe(t,r),n===1&&H===0&&!(e.mode&1)&&(cs=fe()+500,Ka&&qn()))}function Qe(t,e){var n=t.callbackNode;Jy(t,e);var r=aa(t,t===_e?je:0);if(r===0)n!==null&&ch(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ch(n),e===1)t.tag===0?X0(tf.bind(null,t)):lg(tf.bind(null,t)),Y0(function(){!(H&6)&&qn()}),n=null;else{switch(Ip(r)){case 1:n=Bu;break;case 4:n=Dp;break;case 16:n=oa;break;case 536870912:n=Rp;break;default:n=oa}n=ov(n,Zg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zg(t,e){if(Yo=-1,Ko=0,H&6)throw Error(C(327));var n=t.callbackNode;if(Jr()&&t.callbackNode!==n)return null;var r=aa(t,t===_e?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sa(t,r);else{e=r;var s=H;H|=2;var i=tv();(_e!==t||je!==e)&&(Kt=null,cs=fe()+500,fr(t,e));do try{xw();break}catch(a){ev(t,a)}while(!0);td(),ba.current=i,H=s,pe!==null?e=0:(_e=null,je=0,e=xe)}if(e!==0){if(e===2&&(s=Ec(t),s!==0&&(r=s,e=ru(t,s))),e===1)throw n=Oi,fr(t,0),_n(t,r),Qe(t,fe()),n;if(e===6)_n(t,r);else{if(s=t.current.alternate,!(r&30)&&!gw(s)&&(e=Sa(t,r),e===2&&(i=Ec(t),i!==0&&(r=i,e=ru(t,i))),e===1))throw n=Oi,fr(t,0),_n(t,r),Qe(t,fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:er(t,He,Kt);break;case 3:if(_n(t,r),(r&130023424)===r&&(e=gd+500-fe(),10<e)){if(aa(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Fe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ic(er.bind(null,t,He,Kt),e);break}er(t,He,Kt);break;case 4:if(_n(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-St(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pw(r/1960))-r,10<r){t.timeoutHandle=Ic(er.bind(null,t,He,Kt),r);break}er(t,He,Kt);break;case 5:er(t,He,Kt);break;default:throw Error(C(329))}}}return Qe(t,fe()),t.callbackNode===n?Zg.bind(null,t):null}function ru(t,e){var n=ii;return t.current.memoizedState.isDehydrated&&(fr(t,e).flags|=256),t=Sa(t,e),t!==2&&(e=He,He=n,e!==null&&su(e)),t}function su(t){He===null?He=t:He.push.apply(He,t)}function gw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ct(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _n(t,e){for(e&=~pd,e&=~Ja,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-St(e),r=1<<n;t[n]=-1,e&=~r}}function tf(t){if(H&6)throw Error(C(327));Jr();var e=aa(t,0);if(!(e&1))return Qe(t,fe()),null;var n=Sa(t,e);if(t.tag!==0&&n===2){var r=Ec(t);r!==0&&(e=r,n=ru(t,r))}if(n===1)throw n=Oi,fr(t,0),_n(t,e),Qe(t,fe()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,er(t,He,Kt),Qe(t,fe()),null}function vd(t,e){var n=H;H|=1;try{return t(e)}finally{H=n,H===0&&(cs=fe()+500,Ka&&qn())}}function _r(t){Sn!==null&&Sn.tag===0&&!(H&6)&&Jr();var e=H;H|=1;var n=dt.transition,r=G;try{if(dt.transition=null,G=1,t)return t()}finally{G=r,dt.transition=n,H=e,!(H&6)&&qn()}}function xd(){Ze=qr.current,se(qr)}function fr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,q0(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(Ju(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ha();break;case 3:as(),se(Ke),se(Me),ad();break;case 5:od(r);break;case 4:as();break;case 13:se(ae);break;case 19:se(ae);break;case 10:nd(r.type._context);break;case 22:case 23:xd()}n=n.return}if(_e=t,pe=t=An(t.current,null),je=Ze=e,xe=0,Oi=null,pd=Ja=wr=0,He=ii=null,ar!==null){for(e=0;e<ar.length;e++)if(n=ar[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ar=null}return t}function ev(t,e){do{var n=pe;try{if(td(),Ho.current=_a,wa){for(var r=le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wa=!1}if(yr=0,we=ge=le=null,ri=!1,Pi=0,md.current=null,n===null||n.return===null){xe=1,Oi=e,pe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Bh(o);if(m!==null){m.flags&=-257,Wh(m,o,a,i,e),m.mode&1&&Uh(i,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){Uh(i,c,e),yd();break e}l=Error(C(426))}}else if(ie&&a.mode&1){var y=Bh(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Wh(y,o,a,i,e),Zu(ls(l,a));break e}}i=l=ls(l,a),xe!==4&&(xe=2),ii===null?ii=[i]:ii.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Ig(i,l,e);Rh(i,p);break e;case 1:a=l;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Dn===null||!Dn.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=$g(i,a,e);Rh(i,_);break e}}i=i.return}while(i!==null)}rv(n)}catch(b){e=b,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function tv(){var t=ba.current;return ba.current=_a,t===null?_a:t}function yd(){(xe===0||xe===3||xe===2)&&(xe=4),_e===null||!(wr&268435455)&&!(Ja&268435455)||_n(_e,je)}function Sa(t,e){var n=H;H|=2;var r=tv();(_e!==t||je!==e)&&(Kt=null,fr(t,e));do try{vw();break}catch(s){ev(t,s)}while(!0);if(td(),H=n,ba.current=r,pe!==null)throw Error(C(261));return _e=null,je=0,xe}function vw(){for(;pe!==null;)nv(pe)}function xw(){for(;pe!==null&&!Wy();)nv(pe)}function nv(t){var e=iv(t.alternate,t,Ze);t.memoizedProps=t.pendingProps,e===null?rv(t):pe=e,md.current=null}function rv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dw(n,e),n!==null){n.flags&=32767,pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,pe=null;return}}else if(n=uw(n,e,Ze),n!==null){pe=n;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);xe===0&&(xe=5)}function er(t,e,n){var r=G,s=dt.transition;try{dt.transition=null,G=1,yw(t,e,n,r)}finally{dt.transition=s,G=r}return null}function yw(t,e,n,r){do Jr();while(Sn!==null);if(H&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Zy(t,i),t===_e&&(pe=_e=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vo||(vo=!0,ov(oa,function(){return Jr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var o=G;G=1;var a=H;H|=4,md.current=null,fw(t,n),Xg(n,t),F0(Rc),la=!!Dc,Rc=Dc=null,t.current=n,mw(n),Hy(),H=a,G=o,dt.transition=i}else t.current=n;if(vo&&(vo=!1,Sn=t,ja=s),i=t.pendingLanes,i===0&&(Dn=null),Yy(n.stateNode),Qe(t,fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ka)throw ka=!1,t=tu,tu=null,t;return ja&1&&t.tag!==0&&Jr(),i=t.pendingLanes,i&1?t===nu?oi++:(oi=0,nu=t):oi=0,qn(),null}function Jr(){if(Sn!==null){var t=Ip(ja),e=dt.transition,n=G;try{if(dt.transition=null,G=16>t?16:t,Sn===null)var r=!1;else{if(t=Sn,Sn=null,ja=0,H&6)throw Error(C(331));var s=H;for(H|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:si(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,m=d.return;if(Kg(d),d===c){O=null;break}if(f!==null){f.return=m,O=f;break}O=m}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:si(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var g=t.current;for(O=g;O!==null;){o=O;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,O=w;else e:for(o=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xa(9,a)}}catch(b){de(a,a.return,b)}if(a===o){O=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,O=_;break e}O=a.return}}if(H=s,qn(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Wa,t)}catch{}r=!0}return r}finally{G=n,dt.transition=e}}return!1}function nf(t,e,n){e=ls(n,e),e=Ig(t,e,1),t=Mn(t,e,1),e=Fe(),t!==null&&(Vi(t,1,e),Qe(t,e))}function de(t,e,n){if(t.tag===3)nf(t,t,n);else for(;e!==null;){if(e.tag===3){nf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){t=ls(n,t),t=$g(e,t,1),e=Mn(e,t,1),t=Fe(),e!==null&&(Vi(e,1,t),Qe(e,t));break}}e=e.return}}function ww(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fe(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(je&n)===n&&(xe===4||xe===3&&(je&130023424)===je&&500>fe()-gd?fr(t,0):pd|=n),Qe(t,e)}function sv(t,e){e===0&&(t.mode&1?(e=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):e=1);var n=Fe();t=sn(t,e),t!==null&&(Vi(t,e,n),Qe(t,n))}function _w(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sv(t,n)}function bw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),sv(t,n)}var iv;iv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ke.current)Ye=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ye=!1,cw(t,e,n);Ye=!!(t.flags&131072)}else Ye=!1,ie&&e.flags&1048576&&cg(e,pa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qo(t,e),t=e.pendingProps;var s=ss(e,Me.current);Xr(e,n),s=cd(null,e,r,t,s,n);var i=ud();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ge(r)?(i=!0,fa(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sd(e),s.updater=Qa,e.stateNode=s,s._reactInternals=e,Hc(e,r,t,n),e=Yc(null,e,r,!0,i,n)):(e.tag=0,ie&&i&&Xu(e),$e(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=jw(r),t=yt(r,t),s){case 0:e=qc(null,e,r,t,n);break e;case 1:e=qh(null,e,r,t,n);break e;case 11:e=Hh(null,e,r,t,n);break e;case 14:e=Vh(null,e,r,yt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),qc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),qh(t,e,r,s,n);case 3:e:{if(Bg(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pg(t,e),xa(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ls(Error(C(423)),e),e=Yh(t,e,r,n,s);break e}else if(r!==s){s=ls(Error(C(424)),e),e=Yh(t,e,r,n,s);break e}else for(et=Ln(e.stateNode.containerInfo.firstChild),nt=e,ie=!0,bt=null,n=fg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),r===s){e=on(t,e,n);break e}$e(t,e,r,n)}e=e.child}return e;case 5:return gg(e),t===null&&Uc(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ac(r,s)?o=null:i!==null&&Ac(r,i)&&(e.flags|=32),Ug(t,e),$e(t,e,o,n),e.child;case 6:return t===null&&Uc(e),null;case 13:return Wg(t,e,n);case 4:return id(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=os(e,null,r,n):$e(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),Hh(t,e,r,s,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Z(ga,r._currentValue),r._currentValue=o,i!==null)if(Ct(i.value,o)){if(i.children===s.children&&!Ke.current){e=on(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=en(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bc(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bc(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$e(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xr(e,n),s=ft(s),r=r(s),e.flags|=1,$e(t,e,r,n),e.child;case 14:return r=e.type,s=yt(r,e.pendingProps),s=yt(r.type,s),Vh(t,e,r,s,n);case 15:return Fg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),qo(t,e),e.tag=1,Ge(r)?(t=!0,fa(e)):t=!1,Xr(e,n),Ag(e,r,s),Hc(e,r,s,n),Yc(null,e,r,!0,t,n);case 19:return Hg(t,e,n);case 22:return zg(t,e,n)}throw Error(C(156,e.tag))};function ov(t,e){return Mp(t,e)}function kw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(t,e,n,r){return new kw(t,e,n,r)}function wd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jw(t){if(typeof t=="function")return wd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fu)return 11;if(t===zu)return 14}return 2}function An(t,e){var n=t.alternate;return n===null?(n=ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Go(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")wd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ar:return mr(n.children,s,i,e);case $u:o=8,s|=8;break;case mc:return t=ct(12,n,e,s|2),t.elementType=mc,t.lanes=i,t;case pc:return t=ct(13,n,e,s),t.elementType=pc,t.lanes=i,t;case gc:return t=ct(19,n,e,s),t.elementType=gc,t.lanes=i,t;case gp:return Za(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mp:o=10;break e;case pp:o=9;break e;case Fu:o=11;break e;case zu:o=14;break e;case vn:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=ct(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function mr(t,e,n,r){return t=ct(7,t,r,e),t.lanes=n,t}function Za(t,e,n,r){return t=ct(22,t,r,e),t.elementType=gp,t.lanes=n,t.stateNode={isHidden:!1},t}function Hl(t,e,n){return t=ct(6,t,null,e),t.lanes=n,t}function Vl(t,e,n){return e=ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sw(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _d(t,e,n,r,s,i,o,a,l){return t=new Sw(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ct(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sd(i),t}function Nw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function av(t){if(!t)return Un;t=t._reactInternals;e:{if(jr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ge(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Ge(n))return ag(t,n,e)}return e}function lv(t,e,n,r,s,i,o,a,l){return t=_d(n,r,!0,t,s,i,o,a,l),t.context=av(null),n=t.current,r=Fe(),s=Rn(n),i=en(r,s),i.callback=e??null,Mn(n,i,s),t.current.lanes=s,Vi(t,s,r),Qe(t,r),t}function el(t,e,n,r){var s=e.current,i=Fe(),o=Rn(s);return n=av(n),e.context===null?e.context=n:e.pendingContext=n,e=en(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mn(s,e,o),t!==null&&(Nt(t,s,o,i),Wo(t,s,o)),o}function Na(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bd(t,e){rf(t,e),(t=t.alternate)&&rf(t,e)}function Cw(){return null}var cv=typeof reportError=="function"?reportError:function(t){console.error(t)};function kd(t){this._internalRoot=t}tl.prototype.render=kd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));el(t,e,null,null)};tl.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_r(function(){el(null,t,null,null)}),e[rn]=null}};function tl(t){this._internalRoot=t}tl.prototype.unstable_scheduleHydration=function(t){if(t){var e=zp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wn.length&&e!==0&&e<wn[n].priority;n++);wn.splice(n,0,t),n===0&&Bp(t)}};function jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sf(){}function Pw(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Na(o);i.call(c)}}var o=lv(e,r,t,0,null,!1,!1,"",sf);return t._reactRootContainer=o,t[rn]=o.current,ki(t.nodeType===8?t.parentNode:t),_r(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Na(l);a.call(c)}}var l=_d(t,0,!1,null,null,!1,!1,"",sf);return t._reactRootContainer=l,t[rn]=l.current,ki(t.nodeType===8?t.parentNode:t),_r(function(){el(e,l,n,r)}),l}function rl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Na(o);a.call(l)}}el(e,o,t,s)}else o=Pw(n,e,t,s,r);return Na(o)}$p=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vs(e.pendingLanes);n!==0&&(Wu(e,n|1),Qe(e,fe()),!(H&6)&&(cs=fe()+500,qn()))}break;case 13:_r(function(){var r=sn(t,1);if(r!==null){var s=Fe();Nt(r,t,1,s)}}),bd(t,1)}};Hu=function(t){if(t.tag===13){var e=sn(t,134217728);if(e!==null){var n=Fe();Nt(e,t,134217728,n)}bd(t,134217728)}};Fp=function(t){if(t.tag===13){var e=Rn(t),n=sn(t,e);if(n!==null){var r=Fe();Nt(n,t,e,r)}bd(t,e)}};zp=function(){return G};Up=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Nc=function(t,e,n){switch(e){case"input":if(yc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ya(r);if(!s)throw Error(C(90));xp(r),yc(r,s)}}}break;case"textarea":wp(t,n);break;case"select":e=n.value,e!=null&&Yr(t,!!n.multiple,e,!1)}};Cp=vd;Pp=_r;var Ew={usingClientEntryPoint:!1,Events:[Yi,zr,Ya,Sp,Np,vd]},Ds={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tw={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Op(t),t===null?null:t.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||Cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{Wa=xo.inject(Tw),It=xo}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ew;st.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jd(e))throw Error(C(200));return Nw(t,e,null,n)};st.createRoot=function(t,e){if(!jd(t))throw Error(C(299));var n=!1,r="",s=cv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_d(t,1,!1,null,null,n,!1,r,s),t[rn]=e.current,ki(t.nodeType===8?t.parentNode:t),new kd(e)};st.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Op(e),t=t===null?null:t.stateNode,t};st.flushSync=function(t){return _r(t)};st.hydrate=function(t,e,n){if(!nl(e))throw Error(C(200));return rl(null,t,e,!0,n)};st.hydrateRoot=function(t,e,n){if(!jd(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=cv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lv(e,null,t,1,n??null,s,!1,i,o),t[rn]=e.current,ki(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tl(e)};st.render=function(t,e,n){if(!nl(e))throw Error(C(200));return rl(null,t,e,!1,n)};st.unmountComponentAtNode=function(t){if(!nl(t))throw Error(C(40));return t._reactRootContainer?(_r(function(){rl(null,null,t,!1,function(){t._reactRootContainer=null,t[rn]=null})}),!0):!1};st.unstable_batchedUpdates=vd;st.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nl(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return rl(t,e,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function uv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uv)}catch(t){console.error(t)}}uv(),up.exports=st;var Ow=up.exports,of=Ow;hc.createRoot=of.createRoot,hc.hydrateRoot=of.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Li.apply(this,arguments)}var Nn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nn||(Nn={}));const af="popstate";function Lw(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return iu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ca(s)}return Dw(e,n,null,t)}function ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mw(){return Math.random().toString(36).substr(2,8)}function lf(t,e){return{usr:t.state,key:t.key,idx:e}}function iu(t,e,n,r){return n===void 0&&(n=null),Li({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ys(e):e,{state:n,key:e&&e.key||r||Mw()})}function Ca(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Dw(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Nn.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Li({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Nn.Pop;let y=d(),p=y==null?null:y-c;c=y,l&&l({action:a,location:x.location,delta:p})}function f(y,p){a=Nn.Push;let g=iu(x.location,y,p);c=d()+1;let w=lf(g,c),_=x.createHref(g);try{o.pushState(w,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(_)}i&&l&&l({action:a,location:x.location,delta:1})}function m(y,p){a=Nn.Replace;let g=iu(x.location,y,p);c=d();let w=lf(g,c),_=x.createHref(g);o.replaceState(w,"",_),i&&l&&l({action:a,location:x.location,delta:0})}function v(y){let p=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof y=="string"?y:Ca(y);return g=g.replace(/ $/,"%20"),ce(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let x={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(af,h),l=y,()=>{s.removeEventListener(af,h),l=null}},createHref(y){return e(s,y)},createURL:v,encodeLocation(y){let p=v(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(y){return o.go(y)}};return x}var cf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cf||(cf={}));function Rw(t,e,n){return n===void 0&&(n="/"),Aw(t,e,n)}function Aw(t,e,n,r){let s=typeof e=="string"?ys(e):e,i=us(s.pathname||"/",n);if(i==null)return null;let o=hv(t);Iw(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Kw(i);a=qw(o[l],c)}return a}function hv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ce(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=In([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hv(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Hw(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of fv(i.path))s(i,o,l)}),e}function fv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=fv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Iw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Vw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $w=/^:[\w-]+$/,Fw=3,zw=2,Uw=1,Bw=10,Ww=-2,uf=t=>t==="*";function Hw(t,e){let n=t.split("/"),r=n.length;return n.some(uf)&&(r+=Ww),e&&(r+=zw),n.filter(s=>!uf(s)).reduce((s,i)=>s+($w.test(i)?Fw:i===""?Uw:Bw),r)}function Vw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function qw(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=ou({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:In([i,h.pathname]),pathnameBase:Jw(In([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=In([i,h.pathnameBase]))}return o}function ou(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Yw(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let x=a[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Yw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Kw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Gw(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ys(t):t;return{pathname:n?n.startsWith("/")?n:Qw(n,e):e,search:Zw(r),hash:e_(s)}}function Qw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ql(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sd(t,e){let n=Xw(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nd(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ys(t):(s=Li({},t),ce(!s.pathname||!s.pathname.includes("?"),ql("?","pathname","search",s)),ce(!s.pathname||!s.pathname.includes("#"),ql("#","pathname","hash",s)),ce(!s.search||!s.search.includes("#"),ql("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Gw(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const In=t=>t.join("/").replace(/\/\/+/g,"/"),Jw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function t_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mv=["post","put","patch","delete"];new Set(mv);const n_=["get",...mv];new Set(n_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mi(){return Mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mi.apply(this,arguments)}const sl=k.createContext(null),pv=k.createContext(null),un=k.createContext(null),il=k.createContext(null),Bt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),gv=k.createContext(null);function r_(t,e){let{relative:n}=e===void 0?{}:e;ws()||ce(!1);let{basename:r,navigator:s}=k.useContext(un),{hash:i,pathname:o,search:a}=ol(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:In([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ws(){return k.useContext(il)!=null}function _s(){return ws()||ce(!1),k.useContext(il).location}function vv(t){k.useContext(un).static||k.useLayoutEffect(t)}function bs(){let{isDataRoute:t}=k.useContext(Bt);return t?x_():s_()}function s_(){ws()||ce(!1);let t=k.useContext(sl),{basename:e,future:n,navigator:r}=k.useContext(un),{matches:s}=k.useContext(Bt),{pathname:i}=_s(),o=JSON.stringify(Sd(s,n.v7_relativeSplatPath)),a=k.useRef(!1);return vv(()=>{a.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Nd(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:In([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const i_=k.createContext(null);function o_(t){let e=k.useContext(Bt).outlet;return e&&k.createElement(i_.Provider,{value:t},e)}function xv(){let{matches:t}=k.useContext(Bt),e=t[t.length-1];return e?e.params:{}}function ol(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(un),{matches:s}=k.useContext(Bt),{pathname:i}=_s(),o=JSON.stringify(Sd(s,r.v7_relativeSplatPath));return k.useMemo(()=>Nd(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function a_(t,e){return l_(t,e)}function l_(t,e,n,r){ws()||ce(!1);let{navigator:s}=k.useContext(un),{matches:i}=k.useContext(Bt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_s(),d;if(e){var h;let y=typeof e=="string"?ys(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||ce(!1),d=y}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=Rw(t,{pathname:m}),x=f_(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:In([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:In([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&x?k.createElement(il.Provider,{value:{location:Mi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nn.Pop}},x):x}function c_(){let t=v_(),e=t_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,null)}const u_=k.createElement(c_,null);class d_ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Bt.Provider,{value:this.props.routeContext},k.createElement(gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h_(t){let{routeContext:e,match:n,children:r}=t,s=k.useContext(sl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Bt.Provider,{value:e},r)}function f_(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ce(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,v=!1,x=null,y=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||u_,l&&(c<0&&f===0?(y_("route-fallback"),v=!0,y=null):c===f&&(v=!0,y=h.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,f+1)),g=()=>{let w;return m?w=x:v?w=y:h.route.Component?w=k.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,k.createElement(h_,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(d_,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var yv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yv||{}),wv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wv||{});function m_(t){let e=k.useContext(sl);return e||ce(!1),e}function p_(t){let e=k.useContext(pv);return e||ce(!1),e}function g_(t){let e=k.useContext(Bt);return e||ce(!1),e}function _v(t){let e=g_(),n=e.matches[e.matches.length-1];return n.route.id||ce(!1),n.route.id}function v_(){var t;let e=k.useContext(gv),n=p_(),r=_v();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function x_(){let{router:t}=m_(yv.UseNavigateStable),e=_v(wv.UseNavigateStable),n=k.useRef(!1);return vv(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Mi({fromRouteId:e},i)))},[t,e])}const df={};function y_(t,e,n){df[t]||(df[t]=!0)}function w_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Cd(t){let{to:e,replace:n,state:r,relative:s}=t;ws()||ce(!1);let{future:i,static:o}=k.useContext(un),{matches:a}=k.useContext(Bt),{pathname:l}=_s(),c=bs(),d=Nd(e,Sd(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function __(t){return o_(t.context)}function Ae(t){ce(!1)}function b_(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Nn.Pop,navigator:i,static:o=!1,future:a}=t;ws()&&ce(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:o,future:Mi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ys(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,x=k.useMemo(()=>{let y=us(d,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:v},navigationType:s}},[l,d,h,f,m,v,s]);return x==null?null:k.createElement(un.Provider,{value:c},k.createElement(il.Provider,{children:n,value:x}))}function k_(t){let{children:e,location:n}=t;return a_(au(e),n)}new Promise(()=>{});function au(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,au(r.props.children,i));return}r.type!==Ae&&ce(!1),!r.props.index||!r.props.children||ce(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=au(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(this,arguments)}function bv(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function j_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function S_(t,e){return t.button===0&&(!e||e==="_self")&&!j_(t)}const N_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],P_="6";try{window.__reactRouterVersion=P_}catch{}const E_=k.createContext({isTransitioning:!1}),T_="startTransition",hf=wy[T_];function O_(t){let{basename:e,children:n,future:r,window:s}=t,i=k.useRef();i.current==null&&(i.current=Lw({window:s,v5Compat:!0}));let o=i.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=k.useCallback(h=>{c&&hf?hf(()=>l(h)):l(h)},[l,c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>w_(r),[r]),k.createElement(b_,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const L_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M=k.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=bv(e,N_),{basename:m}=k.useContext(un),v,x=!1;if(typeof c=="string"&&M_.test(c)&&(v=c,L_))try{let w=new URL(window.location.href),_=c.startsWith("//")?new URL(w.protocol+c):new URL(c),b=us(_.pathname,m);_.origin===w.origin&&b!=null?c=b+_.search+_.hash:x=!0}catch{}let y=r_(c,{relative:s}),p=A_(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function g(w){r&&r(w),w.defaultPrevented||p(w)}return k.createElement("a",Pa({},f,{href:v||y,onClick:x||i?r:g,ref:n,target:l}))}),D_=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:d}=e,h=bv(e,C_),f=ol(l,{relative:h.relative}),m=_s(),v=k.useContext(pv),{navigator:x,basename:y}=k.useContext(un),p=v!=null&&I_(f)&&c===!0,g=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,w=m.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(w=w.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase()),_&&y&&(_=us(_,y)||_);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let N=w===g||!o&&w.startsWith(g)&&w.charAt(b)==="/",j=_!=null&&(_===g||!o&&_.startsWith(g)&&_.charAt(g.length)==="/"),S={isActive:N,isPending:j,isTransitioning:p},E=N?r:void 0,P;typeof i=="function"?P=i(S):P=[i,N?"active":null,j?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(S):a;return k.createElement(M,Pa({},h,{"aria-current":E,className:P,ref:n,style:L,to:l,viewTransition:c}),typeof d=="function"?d(S):d)});var lu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lu||(lu={}));var ff;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ff||(ff={}));function R_(t){let e=k.useContext(sl);return e||ce(!1),e}function A_(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=bs(),c=_s(),d=ol(t,{relative:o});return k.useCallback(h=>{if(S_(h,n)){h.preventDefault();let f=r!==void 0?r:Ca(c)===Ca(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}function I_(t,e){e===void 0&&(e={});let n=k.useContext(E_);n==null&&ce(!1);let{basename:r}=R_(lu.useViewTransitionState),s=ol(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=us(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ou(s.pathname,o)!=null||ou(s.pathname,i)!=null}const $_="modulepreload",F_=function(t){return"/"+t},mf={},Gi=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=F_(l),l in mf)return;mf[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":$_,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},z_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Gi(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Pd extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class U_ extends Pd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class B_ extends Pd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class W_ extends Pd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cu||(cu={}));var H_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class V_{constructor(e,{headers:n={},customFetch:r,region:s=cu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=z_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return H_(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(v=>{throw new U_(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new B_(d);if(!d.ok)throw new W_(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Ve={},Ed={},al={},Qi={},ll={},cl={},q_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ds=q_();const Y_=ds.fetch,kv=ds.fetch.bind(ds),jv=ds.Headers,K_=ds.Request,G_=ds.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:jv,Request:K_,Response:G_,default:kv,fetch:Y_},Symbol.toStringTag,{value:"Module"})),Q_=sy(ks);var ul={};Object.defineProperty(ul,"__esModule",{value:!0});let X_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ul.default=X_;var Sv=ht&&ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cl,"__esModule",{value:!0});const J_=Sv(Q_),Z_=Sv(ul);let eb=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=J_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,m="OK")}catch{i.status===404&&x===""?(f=204,m="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,m="OK"),c&&this.shouldThrowOnError)throw new Z_.default(c)}return{error:c,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};cl.default=eb;var tb=ht&&ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ll,"__esModule",{value:!0});const nb=tb(cl);let rb=class extends nb.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ll.default=rb;var sb=ht&&ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});const ib=sb(ll);let ob=class extends ib.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Qi.default=ob;var ab=ht&&ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(al,"__esModule",{value:!0});const Rs=ab(Qi);let lb=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Rs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Rs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Rs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Rs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Rs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};al.default=lb;var dl={},hl={};Object.defineProperty(hl,"__esModule",{value:!0});hl.version=void 0;hl.version="0.0.0-automated";Object.defineProperty(dl,"__esModule",{value:!0});dl.DEFAULT_HEADERS=void 0;const cb=hl;dl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${cb.version}`};var Nv=ht&&ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ed,"__esModule",{value:!0});const ub=Nv(al),db=Nv(Qi),hb=dl;let fb=class Cv{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},hb.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new ub.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Cv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new db.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ed.default=fb;var js=ht&&ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const Pv=js(Ed);Ve.PostgrestClient=Pv.default;const Ev=js(al);Ve.PostgrestQueryBuilder=Ev.default;const Tv=js(Qi);Ve.PostgrestFilterBuilder=Tv.default;const Ov=js(ll);Ve.PostgrestTransformBuilder=Ov.default;const Lv=js(cl);Ve.PostgrestBuilder=Lv.default;const Mv=js(ul);Ve.PostgrestError=Mv.default;var mb=Ve.default={PostgrestClient:Pv.default,PostgrestQueryBuilder:Ev.default,PostgrestFilterBuilder:Tv.default,PostgrestTransformBuilder:Ov.default,PostgrestBuilder:Lv.default,PostgrestError:Mv.default};const{PostgrestClient:pb,PostgrestQueryBuilder:GP,PostgrestFilterBuilder:QP,PostgrestTransformBuilder:XP,PostgrestBuilder:JP,PostgrestError:ZP}=mb;let uu;typeof window>"u"?uu=require("ws"):uu=window.WebSocket;const gb="2.11.9",vb={"X-Client-Info":`realtime-js/${gb}`},xb="1.0.0",Dv=1e4,yb=1e3;var Zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zr||(Zr={}));var Ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ie||(Ie={}));var _t;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_t||(_t={}));var du;(function(t){t.websocket="websocket"})(du||(du={}));var ir;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ir||(ir={}));class wb{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Rv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const pf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=_b(o,t,e,s),i),{})},_b=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Av(i,o):hu(o)},Av=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Sb(e,n)}switch(t){case J.bool:return bb(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return kb(e);case J.json:case J.jsonb:return jb(e);case J.timestamp:return Nb(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return hu(e);default:return hu(e)}},hu=t=>t,bb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},kb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Sb=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Av(e,a))}return t},Nb=t=>typeof t=="string"?t.replace(" ","T"):t,Iv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Yl{constructor(e,n,r={},s=Dv){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gf||(gf={}));class ai{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ai.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ai.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ai.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(y=>y.presence_ref),m=h.map(y=>y.presence_ref),v=d.filter(y=>m.indexOf(y.presence_ref)<0),x=h.filter(y=>f.indexOf(y.presence_ref)<0);v.length>0&&(a[c]=v),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vf||(vf={}));var xf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xf||(xf={}));var Gt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));class Td{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yl(this,_t.join,this.params,this.timeout),this.rejoinTimer=new Rv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ai(this),this.broadcastEndpointURL=Iv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Gt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Gt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Gt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let x=0;x<m;x++){const y=f[x],{filter:{event:p,schema:g,table:w,filter:_}}=y,b=d&&d[x];if(b&&b.event===p&&b.schema===g&&b.table===w&&b.filter===_)v.push(Object.assign(Object.assign({},y),{id:b.id}));else{this.unsubscribe(),this.state=Ie.errored,e==null||e(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Gt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ie.errored,e==null||e(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Yl(this,_t.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yl(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=_t;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,x,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(x=m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,x,y,p,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,b=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((x=n.ids)===null||x===void 0?void 0:x.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(g=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:y,commit_timestamp:p,type:g,errors:w}=v;f=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:p,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Td.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_t.close,{},e)}_onError(e){this._on(_t.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pf(e.columns,e.old_record)),n}}const yf=()=>{},Cb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Pb{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=vb,this.params={},this.timeout=Dv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yf,this.ref=0,this.logger=yf,this.conn=null,this.sendBuffer=[],this.serializer=new wb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Gi(async()=>{const{default:l}=await Promise.resolve().then(()=>ks);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${du.websocket}`,this.httpEndpoint=Iv(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Rv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=uu),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Eb(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xb}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zr.connecting:return ir.Connecting;case Zr.open:return ir.Open;case Zr.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Td(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(_t.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(yb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(_t.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Cb],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Eb{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Zr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Od extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Tb extends Od{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fu extends Od{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ob=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const $v=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Gi(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Lb=()=>Ob(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gi(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),mu=t=>{if(Array.isArray(t))return t.map(n=>mu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=mu(r)}),e};var Sr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Kl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mb=(t,e,n)=>Sr(void 0,void 0,void 0,function*(){const r=yield Lb();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Tb(Kl(s),t.status||500))}).catch(s=>{e(new fu(Kl(s),s))}):e(new fu(Kl(t),t))}),Db=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Xi(t,e,n,r,s,i){return Sr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Db(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Mb(l,a,r))})})}function Ea(t,e,n,r){return Sr(this,void 0,void 0,function*(){return Xi(t,"GET",e,n,r)})}function yn(t,e,n,r,s){return Sr(this,void 0,void 0,function*(){return Xi(t,"POST",e,r,s,n)})}function Rb(t,e,n,r,s){return Sr(this,void 0,void 0,function*(){return Xi(t,"PUT",e,r,s,n)})}function Ab(t,e,n,r){return Sr(this,void 0,void 0,function*(){return Xi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Fv(t,e,n,r,s){return Sr(this,void 0,void 0,function*(){return Xi(t,"DELETE",e,r,s,n)})}var Be=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ib={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $b{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=$v(s)}uploadOrUpdate(e,n,r,s){return Be(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wf),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:wf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield yn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Od("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}update(e,n,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Be(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield yn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Be(this,void 0,void 0,function*(){try{const s=yield yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}download(e,n){return Be(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ea(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}})}info(e){return Be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ea(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mu(r),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}exists(e){return Be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Ab(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ye(r)&&r instanceof fu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Fv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}list(e,n,r){return Be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ib),n),{prefix:e||""});return{data:yield yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Fb="2.7.1",zb={"X-Client-Info":`storage-js/${Fb}`};var Er=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Ub{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},zb),n),this.fetch=$v(r)}listBuckets(){return Er(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ye(e))return{data:null,error:e};throw e}})}getBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Er(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Er(this,void 0,void 0,function*(){try{return{data:yield Rb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Fv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}}class Bb extends Ub{constructor(e,n={},r){super(e,n,r)}from(e){return new $b(this.url,this.headers,e,this.fetch)}}const Wb="2.49.9";let Ys="";typeof Deno<"u"?Ys="deno":typeof document<"u"?Ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ys="react-native":Ys="node";const Hb={"X-Client-Info":`supabase-js-${Ys}/${Wb}`},Vb={headers:Hb},qb={schema:"public"},Yb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kb={};var Gb=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Qb=t=>{let e;return t?e=t:typeof fetch>"u"?e=kv:e=fetch,(...n)=>e(...n)},Xb=()=>typeof Headers>"u"?jv:Headers,Jb=(t,e,n)=>{const r=Qb(n),s=Xb();return(i,o)=>Gb(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Zb=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function e1(t){return t.endsWith("/")?t:t+"/"}function t1(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Zb(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const zv="2.69.1",Dr=30*1e3,pu=3,Gl=pu*Dr,n1="http://localhost:9999",r1="supabase.auth.token",s1={"X-Client-Info":`gotrue-js/${zv}`},gu="X-Supabase-Api-Version",Uv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o1=6e5;class Ld extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class a1 extends Ld{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function l1(t){return F(t)&&t.name==="AuthApiError"}class Bv extends Ld{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Yn extends Ld{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class mn extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c1(t){return F(t)&&t.name==="AuthSessionMissingError"}class Ql extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yo extends Yn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wo extends Yn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u1(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class _f extends Yn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vu extends Yn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Xl(t){return F(t)&&t.name==="AuthRetryableFetchError"}class bf extends Yn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class li extends Yn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jf=` 	
\r=`.split(""),d1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jf.length;e+=1)t[jf[e].charCodeAt(0)]=-2;for(let e=0;e<kf.length;e+=1)t[kf[e].charCodeAt(0)]=e;return t})();function Wv(t,e,n){const r=d1[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Sf(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{m1(o,r,n)};for(let o=0;o<t.length;o+=1)Wv(t.charCodeAt(o),s,i);return e.join("")}function h1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function f1(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}h1(r,e)}}function m1(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function p1(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Wv(t.charCodeAt(s),n,r);return new Uint8Array(e)}function g1(t){const e=[];return f1(t,n=>e.push(n)),new Uint8Array(e)}function v1(t){return Math.round(Date.now()/1e3)+t}function x1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",Gn={tested:!1,writable:!1},ci=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gn.tested)return Gn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gn.tested=!0,Gn.writable=!0}catch{Gn.tested=!0,Gn.writable=!1}return Gn.writable};function y1(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Hv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Gi(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},w1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vv=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},_o=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bo=async(t,e)=>{await t.removeItem(e)};class fl{constructor(){this.promise=new fl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fl.promiseConstructor=Promise;function Jl(t){const e=t.split(".");if(e.length!==3)throw new li("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!i1.test(e[r]))throw new li("JWT not in base64url format");return{header:JSON.parse(Sf(e[0])),payload:JSON.parse(Sf(e[1])),signature:p1(e[2]),raw:{header:e[0],payload:e[1]}}}async function _1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function b1(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function k1(t){return("0"+t.toString(16)).substr(-2)}function j1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,k1).join("")}async function S1(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function N1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await S1(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(t,e,n=!1){const r=j1();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Vv(t,`${e}-code-verifier`,s);const i=await N1(r);return[i,r===i?"plain":"s256"]}const C1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function P1(t){const e=t.headers.get(gu);if(!e||!e.match(C1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function E1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function T1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var O1=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const tr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),L1=[502,503,504];async function Nf(t){var e;if(!w1(t))throw new vu(tr(t),0);if(L1.includes(t.status))throw new vu(tr(t),t.status);let n;try{n=await t.json()}catch(i){throw new Bv(tr(i),i)}let r;const s=P1(t);if(s&&s.getTime()>=Uv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bf(tr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bf(tr(n),t.status,n.weak_password.reasons);throw new a1(tr(n),t.status||500,r)}const M1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[gu]||(i[gu]=Uv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await D1(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function D1(t,e,n,r,s,i){const o=M1(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new vu(tr(l),0)}if(a.ok||await Nf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Nf(l)}}function pn(t){var e;let n=null;$1(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=v1(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Cf(t){const e=pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function R1(t){return{data:t,error:null}}function A1(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=O1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function I1(t){return t}function $1(t){return t.access_token&&t.refresh_token&&t.expires_in}var F1=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class z1{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Hv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=F1(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:A1,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(F(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bn})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:I1});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);c[`${y}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bn})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:bn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:bn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(F(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}const U1={getItem:t=>ci()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ci()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ci()&&globalThis.localStorage.removeItem(t)}};function Pf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function B1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Or={debug:!!(globalThis&&ci()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class W1 extends qv{}async function H1(t,e,n){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new W1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}B1();const V1={url:n1,storageKey:r1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ef(t,e,n){return await n()}class Di{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Di.nextInstanceID,Di.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},V1),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new z1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hv(s.fetch),this.lock=s.lock||Ef,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=H1:this.lock=Ef,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ci()?this.storage=U1:(this.memoryStorage={},this.storage=Pf(this.memoryStorage)):(this.memoryStorage={},this.storage=Pf(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=y1(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Lt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),u1(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return F(n)?{error:n}:{error:new Bv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Tr(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:pn})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pn})}else throw new yo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cf})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cf})}else throw new yo("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ql}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await _o(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pn});if(await bo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ql}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ql}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Tr(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new yo("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:R1})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mn;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new yo("You must provide either an email or phone number and a type")}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await _o(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Gl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:bn})})}catch(n){if(F(n))return c1(n)&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Tr(this.storage,this.storageKey));const{data:c,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:bn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Jl(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(F(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mn;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Lt())throw new wo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _f("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _f("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new wo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:y}=await this._getUser(i);if(y)throw y;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(F(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await _o(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(l1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=x1(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Tr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Lt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(F(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await b1(async s=>(s>0&&await _1(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Xl(i)&&Date.now()+o-r<Dr})}catch(r){if(this._debug(n,"error",r),F(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Lt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await _o(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Gl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Gl}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Xl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fl;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),F(i)){const o={session:null,error:i};return Xl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Vv(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await bo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Dr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dr}ms, refresh threshold is ${pu} ticks`),s<=pu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jl(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+o1>Date.now()))return r;const{data:s,error:i}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new li("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new li("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Jl(r);if(E1(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=T1(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,g1(`${a}.${l}`)))throw new li("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}}Di.nextInstanceID=0;const q1=Di;class Y1 extends q1{constructor(e){super(e)}}var K1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class G1{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=e1(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:qb,realtime:Kb,auth:Object.assign(Object.assign({},Yb),{storageKey:c}),global:Vb},h=t1(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Jb(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new pb(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new V_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bb(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return K1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y1({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Pb(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Q1=(t,e,n)=>new G1(t,e,n),X1="https://fdjjamjmfzwpvinxqcwv.supabase.co",J1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkamphbWptZnp3cHZpbnhxY3d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5NTk2NzcsImV4cCI6MjA2NDUzNTY3N30.ZMipJP-eu6OjcFV63_oyaZvIkWTLR0EauFjVPZY0Kzc",W=Q1(X1,J1),Yv=k.createContext(void 0);function Z1({children:t}){const[e,n]=k.useState(null),[r,s]=k.useState(null),[i,o]=k.useState(null),[a,l]=k.useState(!0);k.useEffect(()=>{W.auth.getSession().then(({data:{session:y}})=>{n(y),s((y==null?void 0:y.user)??null),y!=null&&y.user&&c(y.user.id),l(!1)});const{data:{subscription:x}}=W.auth.onAuthStateChange((y,p)=>{n(p),s((p==null?void 0:p.user)??null),p!=null&&p.user?c(p.user.id):o(null),l(!1)});return()=>{x.unsubscribe()}},[]);const c=async x=>{const{data:y,error:p}=await W.from("profiles").select("*").eq("id",x).single();p?console.error("Error fetching profile:",p):o(y)},v={session:e,user:r,profile:i,loading:a,signIn:async(x,y)=>{l(!0);const p=await W.auth.signInWithPassword({email:x,password:y});return l(!1),p},signUp:async(x,y,p)=>{l(!0);const g=await W.auth.signUp({email:x,password:y,options:{data:{full_name:p}}});return l(!1),g},signOut:async()=>{l(!0),await W.auth.signOut(),l(!1)},updateProfile:async x=>{if(!r)return{error:new Error("User not authenticated"),data:null};const{data:y,error:p}=await W.from("profiles").update(x).eq("id",r.id).select().single();return!p&&y&&o(y),{data:y,error:p}}};return u.jsx(Yv.Provider,{value:v,children:t})}function Xe(){const t=k.useContext(Yv);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var Kv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tf=jt.createContext&&jt.createContext(Kv),$n=function(){return $n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},$n.apply(this,arguments)},ek=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function Gv(t){return t&&t.map(function(e,n){return jt.createElement(e.tag,$n({key:n},e.attr),Gv(e.child))})}function Q(t){return function(e){return jt.createElement(tk,$n({attr:$n({},t.attr)},e),Gv(t.child))}}function tk(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,o=ek(t,["attr","size","title"]),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),jt.createElement("svg",$n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:$n($n({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&jt.createElement("title",null,i),t.children)};return Tf!==void 0?jt.createElement(Tf.Consumer,null,function(n){return e(n)}):e(Kv)}function Ri(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(t)}function nk(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(t)}function rk(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}}]})(t)}function Qv(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(t)}function pr(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(t)}function hs(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(t)}function Bn(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(t)}function sk(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(t)}function Ai(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}}]})(t)}function Md(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(t)}function ik(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}},{tag:"polyline",attr:{points:"10 17 15 12 10 7"}},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"}}]})(t)}function Xv(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(t)}function Jv(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(t)}function ok(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(t)}function Ta(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(t)}function pt(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function Of(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(t)}function Zv(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(t)}function tn(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(t)}function Dd(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"}}]})(t)}function Rd(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"}}]})(t)}function Ss(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(t)}function ak(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(t)}function lk(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(t)}function ex(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(t)}function xu(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(t)}function ck(t){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(t)}const Lf=({closeSidebar:t})=>{const e=[{to:"/dashboard",icon:u.jsx(sk,{}),label:"Dashboard"},{to:"/products",icon:u.jsx(Ta,{}),label:"Products"},{to:"/licenses",icon:u.jsx(Ai,{}),label:"Licenses"},{to:"/customers",icon:u.jsx(xu,{}),label:"Customers"},{to:"/purchases",icon:u.jsx(tn,{}),label:"Purchases"},{to:"/downloads",icon:u.jsx(pr,{}),label:"Downloads"},{to:"/settings",icon:u.jsx(Zv,{}),label:"Settings"}];return u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-border",children:[u.jsx("div",{className:"text-xl font-bold text-primary",children:"ProductHub"}),t&&u.jsx("button",{className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-foreground",onClick:t,children:u.jsx(ck,{className:"h-5 w-5"})})]}),u.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:e.map(n=>u.jsxs(D_,{to:n.to,className:({isActive:r})=>`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${r?"bg-primary text-primary-foreground":"text-foreground hover:bg-accent"}`,onClick:t,children:[u.jsx("span",{className:"mr-3 text-lg",children:n.icon}),n.label]},n.to))}),u.jsx("div",{className:"p-4 border-t border-border",children:u.jsxs("div",{className:"text-xs text-muted-foreground",children:[u.jsx("p",{children:"© 2023 ProductHub"}),u.jsx("p",{children:"Version 0.1.0"})]})})]})},uk=({openSidebar:t})=>{const{profile:e,signOut:n}=Xe(),[r,s]=k.useState(!1),i=k.useRef(null);return k.useEffect(()=>{function o(a){i.current&&!i.current.contains(a.target)&&s(!1)}return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]),u.jsx("header",{className:"bg-card border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{type:"button",className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-foreground",onClick:t,children:u.jsx(ok,{className:"h-6 w-6"})}),u.jsx("div",{className:"hidden lg:block ml-2 text-xl font-bold text-primary",children:"ProductHub"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{className:"p-2 rounded-full text-muted-foreground hover:text-foreground hover:bg-accent",children:u.jsx(nk,{className:"h-5 w-5"})}),u.jsxs("div",{className:"relative",ref:i,children:[u.jsxs("button",{className:"flex items-center space-x-2",onClick:()=>s(!r),children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:e!=null&&e.full_name?e.full_name.charAt(0).toUpperCase():"U"}),u.jsx("span",{className:"hidden md:inline-block font-medium",children:(e==null?void 0:e.full_name)||(e==null?void 0:e.email)||"User"})]}),r&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-card rounded-md shadow-lg border border-border z-10",children:[u.jsxs("div",{className:"px-4 py-2 text-sm text-muted-foreground border-b border-border",children:["Signed in as",u.jsx("br",{}),u.jsx("span",{className:"font-medium text-foreground",children:e==null?void 0:e.email})]}),u.jsxs(M,{to:"/settings",className:"flex items-center px-4 py-2 text-sm hover:bg-accent",onClick:()=>s(!1),children:[u.jsx(Zv,{className:"mr-2 h-4 w-4"}),"Settings"]}),u.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm hover:bg-accent text-destructive",onClick:()=>{n(),s(!1)},children:[u.jsx(Xv,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})]})]})})},dk=()=>{const[t,e]=k.useState(!1);return u.jsxs("div",{className:"flex h-screen bg-background",children:[u.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${t?"block":"hidden"}`,children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>e(!1),"aria-hidden":"true"}),u.jsx("div",{className:"fixed inset-y-0 left-0 w-64 bg-card border-r border-border overflow-y-auto",children:u.jsx(Lf,{closeSidebar:()=>e(!1)})})]}),u.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:u.jsx("div",{className:"w-64 border-r border-border bg-card",children:u.jsx(Lf,{})})}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsx(uk,{openSidebar:()=>e(!0)}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:u.jsx(__,{})})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ji(t){return t+.5|0}const Cn=(t,e,n)=>Math.max(Math.min(t,n),e);function Ks(t){return Cn(Ji(t*2.55),0,255)}function Fn(t){return Cn(Ji(t*255),0,255)}function Xt(t){return Cn(Ji(t/2.55)/100,0,1)}function Mf(t){return Cn(Ji(t*100),0,100)}const ot={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yu=[..."0123456789ABCDEF"],hk=t=>yu[t&15],fk=t=>yu[(t&240)>>4]+yu[t&15],ko=t=>(t&240)>>4===(t&15),mk=t=>ko(t.r)&&ko(t.g)&&ko(t.b)&&ko(t.a);function pk(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ot[t[1]]*17,g:255&ot[t[2]]*17,b:255&ot[t[3]]*17,a:e===5?ot[t[4]]*17:255}:(e===7||e===9)&&(n={r:ot[t[1]]<<4|ot[t[2]],g:ot[t[3]]<<4|ot[t[4]],b:ot[t[5]]<<4|ot[t[6]],a:e===9?ot[t[7]]<<4|ot[t[8]]:255})),n}const gk=(t,e)=>t<255?e(t):"";function vk(t){var e=mk(t)?hk:fk;return t?"#"+e(t.r)+e(t.g)+e(t.b)+gk(t.a,e):void 0}const xk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tx(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function yk(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function wk(t,e,n){const r=tx(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function _k(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Ad(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,d;return i!==o&&(d=i-o,c=a>.5?d/(2-i-o):d/(i+o),l=_k(n,r,s,d,i),l=l*60+.5),[l|0,c||0,a]}function Id(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Fn)}function $d(t,e,n){return Id(tx,t,e,n)}function bk(t,e,n){return Id(wk,t,e,n)}function kk(t,e,n){return Id(yk,t,e,n)}function nx(t){return(t%360+360)%360}function jk(t){const e=xk.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Ks(+e[5]):Fn(+e[5]));const s=nx(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=bk(s,i,o):e[1]==="hsv"?r=kk(s,i,o):r=$d(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function Sk(t,e){var n=Ad(t);n[0]=nx(n[0]+e),n=$d(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Nk(t){if(!t)return;const e=Ad(t),n=e[0],r=Mf(e[1]),s=Mf(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Xt(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Df={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ck(){const t={},e=Object.keys(Rf),n=Object.keys(Df);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,Df[i]);i=parseInt(Rf[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let jo;function Pk(t){jo||(jo=Ck(),jo.transparent=[0,0,0,0]);const e=jo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Ek=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Tk(t){const e=Ek.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Ks(o):Cn(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Ks(r):Cn(r,0,255)),s=255&(e[4]?Ks(s):Cn(s,0,255)),i=255&(e[6]?Ks(i):Cn(i,0,255)),{r,g:s,b:i,a:n}}}function Ok(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Xt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Zl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Lr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Lk(t,e,n){const r=Lr(Xt(t.r)),s=Lr(Xt(t.g)),i=Lr(Xt(t.b));return{r:Fn(Zl(r+n*(Lr(Xt(e.r))-r))),g:Fn(Zl(s+n*(Lr(Xt(e.g))-s))),b:Fn(Zl(i+n*(Lr(Xt(e.b))-i))),a:t.a+n*(e.a-t.a)}}function So(t,e,n){if(t){let r=Ad(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=$d(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function rx(t,e){return t&&Object.assign(e||{},t)}function Af(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Fn(t[3]))):(e=rx(t,{r:0,g:0,b:0,a:1}),e.a=Fn(e.a)),e}function Mk(t){return t.charAt(0)==="r"?Tk(t):jk(t)}class Ii{constructor(e){if(e instanceof Ii)return e;const n=typeof e;let r;n==="object"?r=Af(e):n==="string"&&(r=pk(e)||Pk(e)||Mk(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=rx(this._rgb);return e&&(e.a=Xt(e.a)),e}set rgb(e){this._rgb=Af(e)}rgbString(){return this._valid?Ok(this._rgb):void 0}hexString(){return this._valid?vk(this._rgb):void 0}hslString(){return this._valid?Nk(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Lk(this._rgb,e._rgb,n)),this}clone(){return new Ii(this.rgb)}alpha(e){return this._rgb.a=Fn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ji(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return So(this._rgb,2,e),this}darken(e){return So(this._rgb,2,-e),this}saturate(e){return So(this._rgb,1,e),this}desaturate(e){return So(this._rgb,1,-e),this}rotate(e){return Sk(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ht(){}const Dk=(()=>{let t=0;return()=>t++})();function q(t){return t==null}function ve(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function V(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function gt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ot(t,e){return gt(t)?t:e}function B(t,e){return typeof t>"u"?e:t}const Rk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function re(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function K(t,e,n,r){let s,i,o;if(ve(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(V(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Oa(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function La(t){if(ve(t))return t.map(La);if(V(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=La(t[n[s]]);return e}return t}function sx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Ak(t,e,n,r){if(!sx(t))return;const s=e[t],i=n[t];V(s)&&V(i)?$i(s,i,r):e[t]=La(i)}function $i(t,e,n){const r=ve(e)?e:[e],s=r.length;if(!V(t))return t;n=n||{};const i=n.merger||Ak;let o;for(let a=0;a<s;++a){if(o=r[a],!V(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)i(l[c],t,o,n)}return t}function ui(t,e){return $i(t,e,{merger:Ik})}function Ik(t,e,n){if(!sx(t))return;const r=e[t],s=n[t];V(r)&&V(s)?ui(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=La(s))}const If={"":t=>t,x:t=>t.x,y:t=>t.y};function $k(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Fk(t){const e=$k(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function fs(t,e){return(If[e]||(If[e]=Fk(e)))(t)}function Fd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Fi=t=>typeof t<"u",Wn=t=>typeof t=="function",$f=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function zk(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const be=Math.PI,Ft=2*be,Uk=Ft+be,Ma=Number.POSITIVE_INFINITY,Bk=be/180,kt=be/2,Qn=be/4,Ff=be*2/3,ix=Math.log10,zt=Math.sign;function di(t,e,n){return Math.abs(t-e)<n}function zf(t){const e=Math.round(t);t=di(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ix(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Wk(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function Hk(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function zi(t){return!Hk(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Vk(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function qk(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function cr(t){return t*(be/180)}function Yk(t){return t*(180/be)}function Uf(t){if(!gt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Kk(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*be&&(i+=Ft),{angle:i,distance:s}}function wu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Gk(t,e){return(t-e+Uk)%Ft-be}function gn(t){return(t%Ft+Ft)%Ft}function ox(t,e,n,r){const s=gn(t),i=gn(e),o=gn(n),a=gn(i-s),l=gn(o-s),c=gn(s-i),d=gn(s-o);return s===i||s===o||r&&i===o||a>l&&c<d}function tt(t,e,n){return Math.max(e,Math.min(n,t))}function Qk(t){return tt(t,-32768,32767)}function ur(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function zd(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const dr=(t,e,n,r)=>zd(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),Xk=(t,e,n)=>zd(t,n,r=>t[r][e]>=n);function Jk(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const ax=["push","pop","shift","splice","unshift"];function Zk(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ax.forEach(n=>{const r="_onData"+Fd(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function Bf(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(ax.forEach(i=>{delete t[i]}),delete t._chartjs)}function lx(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const cx=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ux(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,cx.call(window,()=>{r=!1,t.apply(e,n)}))}}function ej(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Ud=t=>t==="start"?"left":t==="end"?"right":"center",Te=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,tj=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function nj(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:h,max:f,minDefined:m,maxDefined:v}=o.getUserBounds();if(m){if(s=Math.min(dr(l,d,h).lo,n?r:dr(e,d,o.getPixelForValue(h)).lo),c){const x=l.slice(0,s+1).reverse().findIndex(y=>!q(y[a.axis]));s-=Math.max(0,x)}s=tt(s,0,r-1)}if(v){let x=Math.max(dr(l,o.axis,f,!0).hi+1,n?0:dr(e,d,o.getPixelForValue(f),!0).hi+1);if(c){const y=l.slice(x-1).findIndex(p=>!q(p[a.axis]));x+=Math.max(0,y)}i=tt(x,s,r)-s}else i=r-s}return{start:s,count:i}}function rj(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const No=t=>t===0||t===1,Wf=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ft/n)),Hf=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ft/n)+1,hi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*kt)+1,easeOutSine:t=>Math.sin(t*kt),easeInOutSine:t=>-.5*(Math.cos(be*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>No(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>No(t)?t:Wf(t,.075,.3),easeOutElastic:t=>No(t)?t:Hf(t,.075,.3),easeInOutElastic(t){return No(t)?t:t<.5?.5*Wf(t*2,.1125,.45):.5+.5*Hf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hi.easeInBounce(t*2)*.5:hi.easeOutBounce(t*2-1)*.5+.5};function Bd(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Vf(t){return Bd(t)?t:new Ii(t)}function ec(t){return Bd(t)?t:new Ii(t).saturate(.5).darken(.1).hexString()}const sj=["x","y","borderWidth","radius","tension"],ij=["color","borderColor","backgroundColor"];function oj(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:ij},numbers:{type:"number",properties:sj}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aj(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qf=new Map;function lj(t,e){e=e||{};const n=t+JSON.stringify(e);let r=qf.get(n);return r||(r=new Intl.NumberFormat(t,e),qf.set(n,r)),r}function dx(t,e,n){return lj(e,n).format(t)}const cj={values(t){return ve(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=uj(t,n)}const o=ix(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),dx(t,r,l)}};function uj(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var hx={formatters:cj};function dj(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const br=Object.create(null),_u=Object.create(null);function fi(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function tc(t,e,n){return typeof e=="string"?$i(fi(t,e),n):$i(fi(t,""),e)}class hj{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>ec(s.backgroundColor),this.hoverBorderColor=(r,s)=>ec(s.borderColor),this.hoverColor=(r,s)=>ec(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return tc(this,e,n)}get(e){return fi(this,e)}describe(e,n){return tc(_u,e,n)}override(e,n){return tc(br,e,n)}route(e,n,r,s){const i=fi(this,e),o=fi(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return V(l)?Object.assign({},c,l):B(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var me=new hj({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oj,aj,dj]);function fj(t){return!t||q(t.size)||q(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Yf(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Xn(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Kf(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function bu(t,e,n,r){fx(t,e,n,r,null)}function fx(t,e,n,r,s){let i,o,a,l,c,d,h,f;const m=e.pointStyle,v=e.rotation,x=e.radius;let y=(v||0)*Bk;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,x,0,0,Ft):t.arc(n,r,x,0,Ft),t.closePath();break;case"triangle":d=s?s/2:x,t.moveTo(n+Math.sin(y)*d,r-Math.cos(y)*x),y+=Ff,t.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*x),y+=Ff,t.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*x),t.closePath();break;case"rectRounded":c=x*.516,l=x-c,o=Math.cos(y+Qn)*l,h=Math.cos(y+Qn)*(s?s/2-c:l),a=Math.sin(y+Qn)*l,f=Math.sin(y+Qn)*(s?s/2-c:l),t.arc(n-h,r-a,c,y-be,y-kt),t.arc(n+f,r-o,c,y-kt,y),t.arc(n+h,r+a,c,y,y+kt),t.arc(n-f,r+o,c,y+kt,y+be),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*x,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}y+=Qn;case"rectRot":h=Math.cos(y)*(s?s/2:x),o=Math.cos(y)*x,a=Math.sin(y)*x,f=Math.sin(y)*(s?s/2:x),t.moveTo(n-h,r-a),t.lineTo(n+f,r-o),t.lineTo(n+h,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":y+=Qn;case"cross":h=Math.cos(y)*(s?s/2:x),o=Math.cos(y)*x,a=Math.sin(y)*x,f=Math.sin(y)*(s?s/2:x),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":h=Math.cos(y)*(s?s/2:x),o=Math.cos(y)*x,a=Math.sin(y)*x,f=Math.sin(y)*(s?s/2:x),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),y+=Qn,h=Math.cos(y)*(s?s/2:x),o=Math.cos(y)*x,a=Math.sin(y)*x,f=Math.sin(y)*(s?s/2:x),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=s?s/2:Math.cos(y)*x,a=Math.sin(y)*x,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(s?s/2:x),r+Math.sin(y)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ui(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Wd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Hd(t){t.restore()}function mj(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function pj(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function gj(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),q(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function vj(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function xj(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Bi(t,e,n,r,s,i={}){const o=ve(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,gj(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&xj(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),q(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),vj(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function Da(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*be,be,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,be,kt,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,kt,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-kt,!0),t.lineTo(n+o.topLeft,r)}const yj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _j(t,e){const n=(""+t).match(yj);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const bj=t=>+t||0;function mx(t,e){const n={},r=V(e),s=r?Object.keys(e):e,i=V(t)?r?o=>B(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=bj(i(o));return n}function px(t){return mx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function es(t){return mx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vt(t){const e=px(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Le(t,e){t=t||{},e=e||me.font;let n=B(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=B(t.style,e.style);r&&!(""+r).match(wj)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:B(t.family,e.family),lineHeight:_j(B(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:B(t.weight,e.weight),string:""};return s.string=fj(s),s}function Co(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function kj(t,e,n){const{min:r,max:s}=t,i=Rk(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Nr(t,e){return Object.assign(Object.create(t),e)}function Vd(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=yx("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Vd([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return vx(a,l,()=>Oj(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Qf(a).includes(l)},ownKeys(a){return Qf(a)},set(a,l,c){const d=a._storage||(a._storage=s());return a[l]=d[l]=c,delete a._keys,!0}})}function ms(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:gx(t,r),setContext:i=>ms(t,i,n,r),override:i=>ms(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return vx(i,o,()=>Sj(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function gx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Wn(n)?n:()=>n,isIndexable:Wn(r)?r:()=>r}}const jj=(t,e)=>t?t+Fd(e):e,qd=(t,e)=>V(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function vx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function Sj(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Wn(a)&&o.isScriptable(e)&&(a=Nj(e,a,t,n)),ve(a)&&a.length&&(a=Cj(e,a,t,o.isIndexable)),qd(e,a)&&(a=ms(a,s,i&&i[e],o)),a}function Nj(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),qd(t,l)&&(l=Yd(s._scopes,s,t,l)),l}function Cj(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(V(e[0])){const l=e,c=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=Yd(c,s,t,d);e.push(ms(h,i,o&&o[t],a))}}return e}function xx(t,e,n){return Wn(t)?t(e,n):t}const Pj=(t,e)=>t===!0?e:typeof t=="string"?fs(e,t):void 0;function Ej(t,e,n,r,s){for(const i of e){const o=Pj(n,i);if(o){t.add(o);const a=xx(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Yd(t,e,n,r){const s=e._rootScopes,i=xx(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=Gf(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Gf(a,o,i,l,r),l===null)?!1:Vd(Array.from(a),[""],s,i,()=>Tj(e,n,r))}function Gf(t,e,n,r,s){for(;n;)n=Ej(t,e,n,r,s);return n}function Tj(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return ve(s)&&V(n)?n:s||{}}function Oj(t,e,n,r){let s;for(const i of e)if(s=yx(jj(i,t),n),typeof s<"u")return qd(t,s)?Yd(n,r,t,s):s}function yx(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Qf(t){let e=t._keys;return e||(e=t._keys=Lj(t._scopes)),e}function Lj(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const Mj=Number.EPSILON||1e-14,ps=(t,e)=>e<t.length&&!t[e].skip&&t[e],wx=t=>t==="x"?"y":"x";function Dj(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=wu(i,s),l=wu(o,i);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=r*c,f=r*d;return{previous:{x:i.x-h*(o.x-s.x),y:i.y-h*(o.y-s.y)},next:{x:i.x+f*(o.x-s.x),y:i.y+f*(o.y-s.y)}}}function Rj(t,e,n){const r=t.length;let s,i,o,a,l,c=ps(t,0);for(let d=0;d<r-1;++d)if(l=c,c=ps(t,d+1),!(!l||!c)){if(di(e[d],0,Mj)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=s*o*e[d],n[d+1]=i*o*e[d])}}function Aj(t,e,n="x"){const r=wx(n),s=t.length;let i,o,a,l=ps(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=ps(t,c+1),!a)continue;const d=a[n],h=a[r];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${r}`]=h-i*e[c]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${r}`]=h+i*e[c])}}function Ij(t,e="x"){const n=wx(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,c=ps(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=ps(t,o+1),!!l){if(c){const d=c[e]-l[e];s[o]=d!==0?(c[n]-l[n])/d:0}i[o]=a?c?zt(s[o-1])!==zt(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Rj(t,s,i),Aj(t,i,e)}function Po(t,e,n){return Math.max(Math.min(t,n),e)}function $j(t,e){let n,r,s,i,o,a=Ui(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&Ui(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=Po(s.cp1x,e.left,e.right),s.cp1y=Po(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Po(s.cp2x,e.left,e.right),s.cp2y=Po(s.cp2y,e.top,e.bottom)))}function Fj(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Ij(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=Dj(c,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&$j(t,n)}function Kd(){return typeof window<"u"&&typeof document<"u"}function Gd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ra(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const ml=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function zj(t,e){return ml(t).getPropertyValue(e)}const Uj=["top","right","bottom","left"];function gr(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=Uj[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Bj=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Wj(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(Bj(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function nr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=ml(n),i=s.boxSizing==="border-box",o=gr(s,"padding"),a=gr(s,"border","width"),{x:l,y:c,box:d}=Wj(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:m,height:v}=e;return i&&(m-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-h)/m*n.width/r),y:Math.round((c-f)/v*n.height/r)}}function Hj(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Gd(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=ml(i),l=gr(a,"border","width"),c=gr(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Ra(a.maxWidth,i,"clientWidth"),s=Ra(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Ma,maxHeight:s||Ma}}const Eo=t=>Math.round(t*10)/10;function Vj(t,e,n,r){const s=ml(t),i=gr(s,"margin"),o=Ra(s.maxWidth,t,"clientWidth")||Ma,a=Ra(s.maxHeight,t,"clientHeight")||Ma,l=Hj(t,e,n);let{width:c,height:d}=l;if(s.boxSizing==="content-box"){const f=gr(s,"border","width"),m=gr(s,"padding");c-=m.width+f.width,d-=m.height+f.height}return c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=Eo(Math.min(c,o,l.maxWidth)),d=Eo(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Eo(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=Eo(Math.floor(d*r))),{width:c,height:d}}function Xf(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const qj=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Kd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Jf(t,e){const n=zj(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function rr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Yj(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Kj(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=rr(t,s,n),a=rr(s,i,n),l=rr(i,e,n),c=rr(o,a,n),d=rr(a,l,n);return rr(c,d,n)}const Gj=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Qj=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ts(t,e,n){return t?Gj(e,n):Qj()}function _x(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function bx(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function kx(t){return t==="angle"?{between:ox,compare:Gk,normalize:gn}:{between:ur,compare:(e,n)=>e-n,normalize:e=>e}}function Zf({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function Xj(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=kx(r),l=e.length;let{start:c,end:d,loop:h}=t,f,m;if(h){for(c+=l,d+=l,f=0,m=l;f<m&&o(a(e[c%l][r]),s,i);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:t.style}}function Jj(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=kx(r),{start:d,end:h,loop:f,style:m}=Xj(t,e,n),v=[];let x=!1,y=null,p,g,w;const _=()=>l(s,w,p)&&a(s,w)!==0,b=()=>a(i,p)===0||l(i,w,p),N=()=>x||_(),j=()=>!x||b();for(let S=d,E=d;S<=h;++S)g=e[S%o],!g.skip&&(p=c(g[r]),p!==w&&(x=l(p,s,i),y===null&&N()&&(y=a(p,s)===0?S:E),y!==null&&j()&&(v.push(Zf({start:y,end:S,loop:f,count:o,style:m})),y=null),E=S,w=p));return y!==null&&v.push(Zf({start:y,end:h,loop:f,count:o,style:m})),v}function Zj(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=Jj(r[s],t.points,e);i.length&&n.push(...i)}return n}function eS(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function tS(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function nS(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=eS(n,s,i,r);if(r===!0)return em(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return em(t,tS(n,o,l,c),n,e)}function em(t,e,n,r){return!r||!r.setContext||!n?e:rS(t,e,n,r)}function rS(t,e,n,r){const s=t._chart.getContext(),i=tm(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let d=i,h=e[0].start,f=h;function m(v,x,y,p){const g=a?-1:1;if(v!==x){for(v+=l;n[v%l].skip;)v-=g;for(;n[x%l].skip;)x+=g;v%l!==x%l&&(c.push({start:v%l,end:x%l,loop:y,style:p}),d=p,h=x%l)}}for(const v of e){h=a?h:v.start;let x=n[h%l],y;for(f=h+1;f<=v.end;f++){const p=n[f%l];y=tm(r.setContext(Nr(s,{type:"segment",p0:x,p1:p,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),sS(y,d)&&m(h,f-1,v.loop,d),x=p,d=y}h<f-1&&m(h,f-1,v.loop,d)}return c}function tm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function sS(t,e){if(!e)return!1;const n=[],r=function(s,i){return Bd(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function To(t,e,n){return t.options.clip?t[n]:e[n]}function iS(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:To(n,e,"left"),right:To(n,e,"right"),top:To(r,e,"top"),bottom:To(r,e,"bottom")}:e}function oS(t,e){const n=e._clip;if(n.disabled)return!1;const r=iS(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class aS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=cx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var qt=new aS;const nm="transparent",lS={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Vf(t||nm),s=r.valid&&Vf(e||nm);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class cS{constructor(e,n,r,s){const i=n[r];s=Co([e.to,s,i,e.from]);const o=Co([e.from,i,s]);this._active=!0,this._fn=e.fn||lS[e.type||typeof o],this._easing=hi[e.easing]||hi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Co([e.to,n,s,e.from]),this._from=Co([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class jx{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!V(e))return;const n=Object.keys(me.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!V(i))return;const o={};for(const a of n)o[a]=i[a];(ve(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=dS(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&uS(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[c];let h=i[c];const f=r.get(c);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[c]=d;continue}i[c]=h=new cS(f,e,c,d),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return qt.add(this._chart,r),!0}}function uS(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function dS(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function rm(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function hS(t,e,n){if(n===!1)return!1;const r=rm(t,n),s=rm(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function fS(t){let e,n,r,s;return V(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function Sx(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function sm(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}c=t.values[l],gt(c)&&(i||e===0||zt(e)===zt(c))&&(e+=c)}return!d&&!r.all?0:e}function mS(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[s]:d,[i]:t[d]};return a}function nc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function pS(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function gS(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function vS(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function im(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function om(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,d=pS(i,o,r),h=e.length;let f;for(let m=0;m<h;++m){const v=e[m],{[l]:x,[c]:y}=v,p=v._stacks||(v._stacks={});f=p[c]=vS(s,d,x),f[a]=y,f._top=im(f,o,!0,r.type),f._bottom=im(f,o,!1,r.type);const g=f._visualValues||(f._visualValues={});g[a]=y}}function rc(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function xS(t,e){return Nr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function yS(t,e,n){return Nr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function As(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const sc=t=>t==="reset"||t==="none",am=(t,e)=>e?t:Object.assign({},t),wS=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Sx(n,!0),values:null};class ns{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&As(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,f,m,v)=>h==="x"?f:h==="r"?v:m,i=n.xAxisID=B(r.xAxisID,rc(e,"x")),o=n.yAxisID=B(r.yAxisID,rc(e,"y")),a=n.rAxisID=B(r.rAxisID,rc(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Bf(this._data,this),e._stacked&&As(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(V(n)){const s=this._cachedMeta;this._data=mS(n,s)}else if(r!==n){if(r){Bf(r,this);const s=this._cachedMeta;As(s),s._parsed=[]}n&&Object.isExtensible(n)&&Zk(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=nc(n.vScale,n),n.stack!==r.stack&&(s=!0,As(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(om(this,n._parsed),n._stacked=nc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],d,h,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{ve(s[e])?f=this.parseArrayData(r,s,e,n):V(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const m=()=>h[a]===null||c&&h[a]<c[a];for(d=0;d<n;++d)r._parsed[d+e]=h=f[d],l&&(m()&&(l=!1),c=h);r._sorted=l}o&&om(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),d=i===o,h=new Array(s);let f,m,v;for(f=0,m=s;f<m;++f)v=f+r,h[f]={[a]:d||i.parse(c[v],v),[l]:o.parse(n[v],v)};return h}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,d,h;for(l=0,c=s;l<c;++l)d=l+r,h=n[d],a[l]={x:i.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let d,h,f,m;for(d=0,h=s;d<h;++d)f=d+r,m=n[f],c[d]={x:i.parse(fs(m,a),f),y:o.parse(fs(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:Sx(s,!0),values:n._stacks[e.axis]._visualValues};return sm(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=sm(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=wS(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=gS(a);let f,m;function v(){m=s[f];const x=m[a.axis];return!gt(m[e.axis])||d>x||h<x}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(c,e,m,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],gt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=fS(B(this.options.clip,hS(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const h=s[d];h.hidden||(h.active&&c?o.push(h):h.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=yS(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=xS(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&Fi(r);if(a)return am(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),d),m=Object.keys(me.elements[e]),v=()=>this.getContext(r,s,n),x=c.resolveNamedOptions(f,m,v,h);return x.$shared&&(x.$shared=l,i[o]=Object.freeze(am(x,l))),x}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,r,n))}const c=new jx(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||sc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){sc(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!sc(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&As(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}A(ns,"defaults",{}),A(ns,"datasetElementType",null),A(ns,"dataElementType",null);function _S(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=lx(r.sort((s,i)=>s-i))}return t._cache.$bar}function bS(t){const e=t.iScale,n=_S(e,t.type);let r=e._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(Fi(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),l();return r}function kS(t,e,n,r){const s=n.barThickness;let i,o;return q(s)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}function jS(t,e,n,r){const s=e.pixels,i=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function SS(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:o,max:a}}function Nx(t,e,n,r){return ve(t)?SS(t,e,n,r):e[n.axis]=n.parse(t,r),e}function lm(t,e,n,r){const s=t.iScale,i=t.vScale,o=s.getLabels(),a=s===i,l=[];let c,d,h,f;for(c=n,d=n+r;c<d;++c)f=e[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(Nx(f,h,i,c));return l}function ic(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function NS(t,e,n){return t!==0?zt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function CS(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function PS(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:d}=CS(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=d:(i[cm(d,o,a,l)]=!0,s=c)),i[cm(s,o,a,l)]=!0,t.borderSkipped=i}function cm(t,e,n,r){return r?(t=ES(t,e,n),t=um(t,n,e)):t=um(t,e,n),t}function ES(t,e,n){return t===e?n:t===n?e:t}function um(t,e,n){return t==="start"?e:t==="end"?n:t}function TS(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Qo extends ns{parsePrimitiveData(e,n,r,s){return lm(e,n,r,s)}parseArrayData(e,n,r,s){return lm(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,d=o.axis==="x"?a:l,h=[];let f,m,v,x;for(f=r,m=r+s;f<m;++f)x=n[f],v={},v[i.axis]=i.parse(fs(x,c),f),h.push(Nx(fs(x,d),v,o,f));return h}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),o=i._custom,a=ic(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let m=n;m<n+r;m++){const v=this.getParsed(m),x=i||q(v[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,d),p=(v._stacks||{})[a.axis],g={horizontal:c,base:x.base,enableBorderRadius:!p||ic(v._custom)||o===p._top||o===p._bottom,x:c?x.head:y.center,y:c?y.center:x.head,height:c?y.size:Math.abs(x.size),width:c?Math.abs(x.size):y.size};f&&(g.options=h||this.resolveDataElementOptions(m,e[m].active?"active":s));const w=g.options||e[m].options;PS(g,w,p,o),TS(g,w,d.ratio),this.updateElement(e[m],m,g,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=d=>{const h=d._parsed.find(m=>m[r.axis]===l),f=h&&h[d.vScale.axis];if(q(f)||isNaN(f))return!0};for(const d of s)if(!(n!==void 0&&c(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=e.barThickness;return{min:a||bS(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),c=l._custom,d=ic(c);let h=l[n.axis],f=0,m=r?this.applyStack(n,l,r):h,v,x;m!==h&&(f=m-h,m=h),d&&(h=c.barStart,m=c.barEnd-c.barStart,h!==0&&zt(h)!==zt(c.barEnd)&&(f=0),f+=h);const y=!q(i)&&!d?i:f;let p=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(f+m):v=p,x=v-p,Math.abs(x)<o){x=NS(x,n,a)*o,h===a&&(p-=x/2);const g=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),_=Math.min(g,w),b=Math.max(g,w);p=Math.max(Math.min(p,b),_),v=p+x,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(v)-n.getValueForPixel(p))}if(p===n.getPixelForValue(a)){const g=zt(x)*n.getLineWidthForValue(a)/2;p+=g,x-=g}return{size:x,base:p,head:v,center:v+x/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,o=B(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=i?this._getStackCount(e):n.stackCount,d=s.barThickness==="flex"?jS(e,n,s,c):kS(e,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=d.start+d.chunk*h+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}A(Qo,"id","bar"),A(Qo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),A(Qo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Xo extends ns{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=nj(n,s,o);this._drawStart=a,this._drawCount=l,rj(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,m=a.axis,{spanGaps:v,segment:x}=this.options,y=zi(v)?v:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||i||s==="none",g=n+r,w=e.length;let _=n>0&&this.getParsed(n-1);for(let b=0;b<w;++b){const N=e[b],j=p?N:{};if(b<n||b>=g){j.skip=!0;continue}const S=this.getParsed(b),E=q(S[m]),P=j[f]=o.getPixelForValue(S[f],b),L=j[m]=i||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[m],b);j.skip=isNaN(P)||isNaN(L)||E,j.stop=b>0&&Math.abs(S[f]-_[f])>y,x&&(j.parsed=S,j.raw=c.data[b]),h&&(j.options=d||this.resolveDataElementOptions(b,N.active?"active":s)),p||this.updateElement(N,b,j,s),_=S}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}A(Xo,"id","line"),A(Xo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),A(Xo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Jn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qd{constructor(e){A(this,"options");this.options=e||{}}static override(e){Object.assign(Qd.prototype,e)}init(){}formats(){return Jn()}parse(){return Jn()}format(){return Jn()}add(){return Jn()}diff(){return Jn()}startOf(){return Jn()}endOf(){return Jn()}}var OS={_date:Qd};function LS(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const c=a._reversePixels?Xk:dr;if(r){if(s._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=c(i,e,n-h),m=c(i,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const d=c(i,e,n);if(l){const{vScale:h}=s._cachedMeta,{_parsed:f}=t,m=f.slice(0,d.lo+1).reverse().findIndex(x=>!q(x[h.axis]));d.lo-=Math.max(0,m);const v=f.slice(d.hi).findIndex(x=>!q(x[h.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:i.length-1}}function pl(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:d}=i[a],{lo:h,hi:f}=LS(i[a],e,o,s);for(let m=h;m<=f;++m){const v=d[m];v.skip||r(v,c,m)}}}function MS(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function oc(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||pl(t,n,e,function(a,l,c){!s&&!Ui(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function DS(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:h}=Kk(o,{x:e.x,y:e.y});ox(h,c,d)&&s.push({element:o,datasetIndex:a,index:l})}return pl(t,n,e,i),s}function RS(t,e,n,r,s,i){let o=[];const a=MS(n);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const m=d.inRange(e.x,e.y,s);if(r&&!m)return;const v=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(v))&&!m)return;const y=a(e,v);y<l?(o=[{element:d,datasetIndex:h,index:f}],l=y):y===l&&o.push({element:d,datasetIndex:h,index:f})}return pl(t,n,e,c),o}function ac(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?DS(t,e,n,s):RS(t,e,n,r,s,i)}function dm(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return pl(t,n,e,(l,c,d)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var AS={modes:{index(t,e,n,r){const s=nr(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?oc(t,s,i,r,o):ac(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,r){const s=nr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?oc(t,s,i,r,o):ac(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const s=nr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return oc(t,s,i,r,o)},nearest(t,e,n,r){const s=nr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return ac(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=nr(e,t);return dm(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=nr(e,t);return dm(t,s,"y",n.intersect,r)}}};const Cx=["left","top","right","bottom"];function Is(t,e){return t.filter(n=>n.pos===e)}function hm(t,e){return t.filter(n=>Cx.indexOf(n.pos)===-1&&n.box.axis===e)}function $s(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function IS(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function $S(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!Cx.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function FS(t,e){const n=$S(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&e.availableHeight)}return n}function zS(t){const e=IS(t),n=$s(e.filter(c=>c.box.fullSize),!0),r=$s(Is(e,"left"),!0),s=$s(Is(e,"right")),i=$s(Is(e,"top"),!0),o=$s(Is(e,"bottom")),a=hm(e,"x"),l=hm(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Is(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function fm(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Px(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function US(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!V(s)){n.size&&(t[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[s]+=n.size}i.getPadding&&Px(o,i.getPadding());const a=Math.max(0,e.outerWidth-fm(o,t,"left","right")),l=Math.max(0,e.outerHeight-fm(o,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function BS(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function WS(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function Gs(t,e,n,r){const s=[];let i,o,a,l,c,d;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,WS(a.horizontal,e));const{same:h,other:f}=US(e,n,a,r);c|=h&&s.length,d=d||f,l.fullSize||s.push(a)}return c&&Gs(s,e,n,r)||d}function Oo(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function mm(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*d,f=c.size||l.height;Fi(c.start)&&(o=c.start),l.fullSize?Oo(l,s.left,o,n.outerWidth-s.right-s.left,f):Oo(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*d,f=c.size||l.width;Fi(c.start)&&(i=c.start),l.fullSize?Oo(l,i,s.top,f,n.outerHeight-s.bottom-s.top):Oo(l,i,e.top+c.placed,f,h),c.start=i,c.placed+=h,i=l.right}}e.x=i,e.y=o}var ut={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=vt(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=zS(t.boxes),l=a.vertical,c=a.horizontal;K(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const d=l.reduce((x,y)=>y.box.options&&y.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},s);Px(f,vt(r));const m=Object.assign({maxPadding:f,w:i,h:o,x:s.left,y:s.top},s),v=FS(l.concat(c),h);Gs(a.fullSize,m,h,v),Gs(l,m,h,v),Gs(c,m,h,v)&&Gs(l,m,h,v),BS(m),mm(a.leftAndTop,m,h,v),m.x+=m.w,m.y+=m.h,mm(a.rightAndBottom,m,h,v),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},K(a.chartArea,x=>{const y=x.box;Object.assign(y,t.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Ex{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class HS extends Ex{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jo="$chartjs",VS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},pm=t=>t===null||t==="";function qS(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Jo]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",pm(s)){const i=Jf(t,"width");i!==void 0&&(t.width=i)}if(pm(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Jf(t,"height");i!==void 0&&(t.height=i)}return t}const Tx=qj?{passive:!0}:!1;function YS(t,e,n){t&&t.addEventListener(e,n,Tx)}function KS(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Tx)}function GS(t,e){const n=VS[t.type]||t.type,{x:r,y:s}=nr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Aa(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function QS(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Aa(a.addedNodes,r),o=o&&!Aa(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function XS(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Aa(a.removedNodes,r),o=o&&!Aa(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Wi=new Map;let gm=0;function Ox(){const t=window.devicePixelRatio;t!==gm&&(gm=t,Wi.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function JS(t,e){Wi.size||window.addEventListener("resize",Ox),Wi.set(t,e)}function ZS(t){Wi.delete(t),Wi.size||window.removeEventListener("resize",Ox)}function e2(t,e,n){const r=t.canvas,s=r&&Gd(r);if(!s)return;const i=ux((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||i(c,d)});return o.observe(s),JS(t,i),o}function lc(t,e,n){n&&n.disconnect(),e==="resize"&&ZS(t)}function t2(t,e,n){const r=t.canvas,s=ux(i=>{t.ctx!==null&&n(GS(i,t))},t);return YS(r,e,s),s}class n2 extends Ex{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(qS(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Jo])return!1;const r=n[Jo].initial;["height","width"].forEach(i=>{const o=r[i];q(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Jo],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:QS,detach:XS,resize:e2}[n]||t2;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:lc,detach:lc,resize:lc}[n]||KS)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return Vj(e,n,r,s)}isAttached(e){const n=e&&Gd(e);return!!(n&&n.isConnected)}}function r2(t){return!Kd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?HS:n2}class Ut{constructor(){A(this,"x");A(this,"y");A(this,"active",!1);A(this,"options");A(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return zi(this.x)&&zi(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}A(Ut,"defaults",{}),A(Ut,"defaultRoutes");function s2(t,e){const n=t.options.ticks,r=i2(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?a2(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return l2(e,c,i,o/s),c;const d=o2(i,e,s);if(o>0){let h,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(Lo(e,c,d,q(m)?0:a-m,a),h=0,f=o-1;h<f;h++)Lo(e,c,d,i[h],i[h+1]);return Lo(e,c,d,l,q(m)?e.length:l+m),c}return Lo(e,c,d),c}function i2(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function o2(t,e,n){const r=c2(t),s=e.length/n;if(!r)return Math.max(s,1);const i=Wk(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function a2(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function l2(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Lo(t,e,n,r,s){const i=B(r,0),o=Math.min(B(s,t.length),t.length);let a=0,l,c,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===d&&(e.push(t[c]),a++,d=Math.round(i+a*n))}function c2(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const u2=t=>t==="left"?"right":t==="right"?"left":t,vm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,xm=(t,e)=>Math.min(e||t,t);function ym(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function d2(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function h2(t,e){K(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Fs(t){return t.drawTicks?t.tickLength:0}function wm(t,e){if(!t.display)return 0;const n=Le(t.font,e),r=vt(t.padding);return(ve(t.text)?t.text.length:1)*n.lineHeight+r.height}function f2(t,e){return Nr(t,{scale:e,type:"scale"})}function m2(t,e,n){return Nr(t,{tick:n,index:e,type:"tick"})}function p2(t,e,n){let r=Ud(t);return(n&&e!=="right"||!n&&e==="right")&&(r=u2(r)),r}function g2(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let h=0,f,m,v;const x=o-s,y=a-i;if(t.isHorizontal()){if(m=Te(r,i,a),V(n)){const p=Object.keys(n)[0],g=n[p];v=d[p].getPixelForValue(g)+x-e}else n==="center"?v=(c.bottom+c.top)/2+x-e:v=vm(t,n,e);f=a-i}else{if(V(n)){const p=Object.keys(n)[0],g=n[p];m=d[p].getPixelForValue(g)-y+e}else n==="center"?m=(c.left+c.right)/2-y+e:m=vm(t,n,e);v=Te(r,o,s),h=n==="left"?-kt:kt}return{titleX:m,titleY:v,maxWidth:f,rotation:h}}class Ns extends Ut{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Ot(e,Number.POSITIVE_INFINITY),n=Ot(n,Number.NEGATIVE_INFINITY),r=Ot(r,Number.POSITIVE_INFINITY),s=Ot(s,Number.NEGATIVE_INFINITY),{min:Ot(e,r),max:Ot(n,s),minDefined:gt(e),maxDefined:gt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Ot(n,Ot(r,n)),max:Ot(r,Ot(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){re(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kj(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?ym(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=s2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){re(this.options.afterUpdate,[this])}beforeSetDimensions(){re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){re(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),re(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=re(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=xm(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,m=tt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),h+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-Fs(e.grid)-n.padding-wm(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=Yk(Math.min(Math.asin(tt((d.highest.height+6)/a,-1,1)),Math.asin(tt(l/c,-1,1))-Math.asin(tt(f/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){re(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=wm(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=Fs(i)+l):(e.height=this.maxHeight,e.width=Fs(i)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),m=r.padding*2,v=cr(this.labelRotation),x=Math.cos(v),y=Math.sin(v);if(a){const p=r.mirror?0:y*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+p+m)}else{const p=r.mirror?0:x*h.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+p+m)}this._calculatePadding(c,d,y,x)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=s*e.width,m=r*n.height):(f=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;i==="start"?(d=0,h=e.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){re(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)q(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=ym(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/xm(n,r));let c=0,d=0,h,f,m,v,x,y,p,g,w,_,b;for(h=0;h<n;h+=l){if(v=e[h].label,x=this._resolveTickFontOptions(h),s.font=y=x.string,p=i[y]=i[y]||{data:{},gc:[]},g=x.lineHeight,w=_=0,!q(v)&&!ve(v))w=Yf(s,p.data,p.gc,w,v),_=g;else if(ve(v))for(f=0,m=v.length;f<m;++f)b=v[f],!q(b)&&!ve(b)&&(w=Yf(s,p.data,p.gc,w,b),_+=g);o.push(w),a.push(_),c=Math.max(w,c),d=Math.max(_,d)}h2(i,n);const N=o.indexOf(c),j=a.indexOf(d),S=E=>({width:o[E]||0,height:a[E]||0});return{first:S(0),last:S(n-1),widest:S(N),highest:S(j),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Qk(this._alignToPixels?Xn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=m2(this.getContext(),e,r))}return this.$context||(this.$context=f2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=cr(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Fs(i),m=[],v=a.setContext(this.getContext()),x=v.display?v.width:0,y=x/2,p=function(he){return Xn(r,he,x)};let g,w,_,b,N,j,S,E,P,L,I,ee;if(o==="top")g=p(this.bottom),j=this.bottom-f,E=g-y,L=p(e.top)+y,ee=e.bottom;else if(o==="bottom")g=p(this.top),L=e.top,ee=p(e.bottom)-y,j=g+y,E=this.top+f;else if(o==="left")g=p(this.right),N=this.right-f,S=g-y,P=p(e.left)+y,I=e.right;else if(o==="right")g=p(this.left),P=e.left,I=p(e.right)-y,N=g+y,S=this.left+f;else if(n==="x"){if(o==="center")g=p((e.top+e.bottom)/2+.5);else if(V(o)){const he=Object.keys(o)[0],Ce=o[he];g=p(this.chart.scales[he].getPixelForValue(Ce))}L=e.top,ee=e.bottom,j=g+y,E=j+f}else if(n==="y"){if(o==="center")g=p((e.left+e.right)/2);else if(V(o)){const he=Object.keys(o)[0],Ce=o[he];g=p(this.chart.scales[he].getPixelForValue(Ce))}N=g-y,S=N-f,P=e.left,I=e.right}const Je=B(s.ticks.maxTicksLimit,h),oe=Math.max(1,Math.ceil(h/Je));for(w=0;w<h;w+=oe){const he=this.getContext(w),Ce=i.setContext(he),T=a.setContext(he),R=Ce.lineWidth,$=Ce.color,X=T.dash||[],te=T.dashOffset,Et=Ce.tickWidth,De=Ce.tickColor,Wt=Ce.tickBorderDash||[],Re=Ce.tickBorderDashOffset;_=d2(this,w,l),_!==void 0&&(b=Xn(r,_,R),c?N=S=P=I=b:j=E=L=ee=b,m.push({tx1:N,ty1:j,tx2:S,ty2:E,x1:P,y1:L,x2:I,y2:ee,width:R,color:$,borderDash:X,borderDashOffset:te,tickWidth:Et,tickColor:De,tickBorderDash:Wt,tickBorderDashOffset:Re}))}return this._ticksLength=h,this._borderValue=g,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=i,f=Fs(r.grid),m=f+d,v=h?-d:m,x=-cr(this.labelRotation),y=[];let p,g,w,_,b,N,j,S,E,P,L,I,ee="middle";if(s==="top")N=this.bottom-v,j=this._getXAxisLabelAlignment();else if(s==="bottom")N=this.top+v,j=this._getXAxisLabelAlignment();else if(s==="left"){const oe=this._getYAxisLabelAlignment(f);j=oe.textAlign,b=oe.x}else if(s==="right"){const oe=this._getYAxisLabelAlignment(f);j=oe.textAlign,b=oe.x}else if(n==="x"){if(s==="center")N=(e.top+e.bottom)/2+m;else if(V(s)){const oe=Object.keys(s)[0],he=s[oe];N=this.chart.scales[oe].getPixelForValue(he)+m}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")b=(e.left+e.right)/2-m;else if(V(s)){const oe=Object.keys(s)[0],he=s[oe];b=this.chart.scales[oe].getPixelForValue(he)}j=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?ee="top":l==="end"&&(ee="bottom"));const Je=this._getLabelSizes();for(p=0,g=a.length;p<g;++p){w=a[p],_=w.label;const oe=i.setContext(this.getContext(p));S=this.getPixelForTick(p)+i.labelOffset,E=this._resolveTickFontOptions(p),P=E.lineHeight,L=ve(_)?_.length:1;const he=L/2,Ce=oe.color,T=oe.textStrokeColor,R=oe.textStrokeWidth;let $=j;o?(b=S,j==="inner"&&(p===g-1?$=this.options.reverse?"left":"right":p===0?$=this.options.reverse?"right":"left":$="center"),s==="top"?c==="near"||x!==0?I=-L*P+P/2:c==="center"?I=-Je.highest.height/2-he*P+P:I=-Je.highest.height+P/2:c==="near"||x!==0?I=P/2:c==="center"?I=Je.highest.height/2-he*P:I=Je.highest.height-L*P,h&&(I*=-1),x!==0&&!oe.showLabelBackdrop&&(b+=P/2*Math.sin(x))):(N=S,I=(1-L)*P/2);let X;if(oe.showLabelBackdrop){const te=vt(oe.backdropPadding),Et=Je.heights[p],De=Je.widths[p];let Wt=I-te.top,Re=0-te.left;switch(ee){case"middle":Wt-=Et/2;break;case"bottom":Wt-=Et;break}switch(j){case"center":Re-=De/2;break;case"right":Re-=De;break;case"inner":p===g-1?Re-=De:p>0&&(Re-=De/2);break}X={left:Re,top:Wt,width:De+te.width,height:Et+te.height,color:oe.backdropColor}}y.push({label:_,font:E,textOffset:I,options:{rotation:x,color:Ce,strokeColor:T,strokeWidth:R,textAlign:$,textBaseline:ee,translation:[b,N],backdrop:X}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-cr(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,d;return n==="left"?s?(d=this.right+i,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=Xn(e,this.left,o)-o/2,d=Xn(e,this.right,a)+a/2,h=f=l):(h=Xn(e,this.top,o)-o/2,f=Xn(e,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Wd(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,d=o.textOffset;Bi(r,c,0,d,l,a)}s&&Hd(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Le(r.font),o=vt(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||V(n)?(l+=o.bottom,ve(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=g2(this,l,n,a);Bi(e,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:f,textAlign:p2(a,n,s),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=B(e.grid&&e.grid.z,-1),s=B(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ns.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Le(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mo{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;y2(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,v2(e,o,r),this.override&&me.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in me[s]&&(delete me[s][r],this.override&&delete br[r])}}function v2(t,e,n){const r=$i(Object.create(null),[n?me.get(n):{},me.get(e),t.defaults]);me.set(e,r),t.defaultRoutes&&x2(e,t.defaultRoutes),t.descriptors&&me.describe(e,t.descriptors)}function x2(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");me.route(i,s,l,a)})}function y2(t){return"id"in t&&"defaults"in t}class w2{constructor(){this.controllers=new Mo(ns,"datasets",!0),this.elements=new Mo(Ut,"elements"),this.plugins=new Mo(Object,"plugins"),this.scales=new Mo(Ns,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):K(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=Fd(e);re(r["before"+s],[],r),n[e](r),re(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Rt=new w2;class _2{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(re(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=B(r.options&&r.options.plugins,{}),i=b2(r);return s===!1&&!n?[]:j2(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function b2(t){const e={},n=[],r=Object.keys(Rt.plugins.items);for(let i=0;i<r.length;i++)n.push(Rt.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function k2(t,e){return!e&&t===!1?null:t===!0?{}:t}function j2(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=k2(r[l],s);c!==null&&i.push({plugin:a,options:S2(t.config,{plugin:a,local:n[l]},c,o)})}return i}function S2(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ku(t,e){const n=me.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function N2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function C2(t,e){return t===e?"_index_":"_value_"}function _m(t){if(t==="x"||t==="y"||t==="r")return t}function P2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ju(t,...e){if(_m(t))return t;for(const n of e){const r=n.axis||P2(n.position)||t.length>1&&_m(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function bm(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function E2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return bm(t,"x",n[0])||bm(t,"y",n[0])}return{}}function T2(t,e){const n=br[t.type]||{scales:{}},r=e.scales||{},s=ku(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!V(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ju(o,a,E2(o,t),me.scales[a.type]),c=C2(l,s),d=n.scales||{};i[o]=ui(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||ku(a,e),d=(br[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=N2(h,l),m=o[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),ui(i[m],[{axis:f},r[m],d[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];ui(a,[me.scales[a.type],me.scale])}),i}function Lx(t){const e=t.options||(t.options={});e.plugins=B(e.plugins,{}),e.scales=T2(t,e)}function Mx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function O2(t){return t=t||{},t.data=Mx(t.data),Lx(t),t}const km=new Map,Dx=new Set;function Do(t,e){let n=km.get(t);return n||(n=e(),km.set(t,n),Dx.add(n)),n}const zs=(t,e,n)=>{const r=fs(e,n);r!==void 0&&t.add(r)};class L2{constructor(e){this._config=O2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Mx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Lx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Do(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Do(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Do(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Do(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>zs(l,e,h))),d.forEach(h=>zs(l,s,h)),d.forEach(h=>zs(l,br[i]||{},h)),d.forEach(h=>zs(l,me,h)),d.forEach(h=>zs(l,_u,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Dx.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,br[n]||{},me.datasets[n]||{},{type:n},me,_u]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=jm(this._resolverCache,e,s);let l=o;if(D2(o,n)){i.$shared=!1,r=Wn(r)?r():r;const c=this.createResolver(e,r,a);l=ms(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=jm(this._resolverCache,e,r);return V(n)?ms(i,n,void 0,s):i}}function jm(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Vd(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const M2=t=>V(t)&&Object.getOwnPropertyNames(t).some(e=>Wn(t[e]));function D2(t,e){const{isScriptable:n,isIndexable:r}=gx(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Wn(a)||M2(a))||o&&ve(a))return!0}return!1}var R2="4.4.9";const A2=["top","bottom","left","right","chartArea"];function Sm(t,e){return t==="top"||t==="bottom"||A2.indexOf(t)===-1&&e==="x"}function Nm(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Cm(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),re(n&&n.onComplete,[t],e)}function I2(t){const e=t.chart,n=e.options.animation;re(n&&n.onProgress,[t],e)}function Rx(t){return Kd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Zo={},Pm=t=>{const e=Rx(t);return Object.values(Zo).filter(n=>n.canvas===e).pop()};function $2(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function F2(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var fn;let gl=(fn=class{static register(...e){Rt.add(...e),Em()}static unregister(...e){Rt.remove(...e),Em()}constructor(e,n){const r=this.config=new L2(n),s=Rx(e),i=Pm(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||r2(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=Dk(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new _2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ej(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Zo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}qt.listen(this,"complete",Cm),qt.listen(this,"progress",I2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return q(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Rt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Xf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Kf(this.canvas,this.ctx),this}stop(){return qt.stop(this),this}resize(e,n){qt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Xf(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),re(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};K(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=ju(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),K(i,o=>{const a=o.options,l=a.id,c=ju(l,a),d=B(a.type,o.dtype);(a.position===void 0||Sm(a.position,c)!==Sm(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===d)h=r[l];else{const f=Rt.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),K(s,(o,a)=>{o||delete r[a]}),K(r,o=>{ut.configure(this,o,o.options),ut.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Nm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||ku(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Rt.getController(a),{datasetElementType:c,dataElementType:d}=me.datasets[a];Object.assign(l,{dataElementType:Rt.getElement(d),datasetElementType:c&&Rt.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){K(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||K(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Nm("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){K(this.scales,e=>{ut.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!$f(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;$2(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!$f(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ut.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],K(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Wn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qt.has(this)?this.attached&&!qt.running(this)&&qt.start(this):(this.draw(),Cm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=oS(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Wd(n,s),e.controller.draw(),s&&Hd(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ui(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=AS.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Nr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Fi(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),qt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Kf(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Zo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};K(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){K(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},K(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Oa(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=zk(e),c=F2(e,this._lastEvent,r,l);r&&(this._lastEvent=null,re(i.onHover,[e,a,this],this),l&&re(i.onClick,[e,a,this],this));const d=!Oa(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},A(fn,"defaults",me),A(fn,"instances",Zo),A(fn,"overrides",br),A(fn,"registry",Rt),A(fn,"version",R2),A(fn,"getChart",Pm),fn);function Em(){return K(gl.instances,t=>t._plugins.invalidate())}function Ax(t,e,n=e){t.lineCap=B(n.borderCapStyle,e.borderCapStyle),t.setLineDash(B(n.borderDash,e.borderDash)),t.lineDashOffset=B(n.borderDashOffset,e.borderDashOffset),t.lineJoin=B(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=B(n.borderWidth,e.borderWidth),t.strokeStyle=B(n.borderColor,e.borderColor)}function z2(t,e,n){t.lineTo(n.x,n.y)}function U2(t){return t.stepped?mj:t.tension||t.cubicInterpolationMode==="monotone"?pj:z2}function Ix(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),d=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!d?r+c-l:c-l}}function B2(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=Ix(s,n,r),d=U2(i);let{move:h=!0,reverse:f}=r||{},m,v,x;for(m=0;m<=c;++m)v=s[(a+(f?c-m:m))%o],!v.skip&&(h?(t.moveTo(v.x,v.y),h=!1):d(t,x,v,f,i.stepped),x=v);return l&&(v=s[(a+(f?c:0))%o],d(t,x,v,f,i.stepped)),!!l}function W2(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=Ix(s,n,r),{move:l=!0,reverse:c}=r||{};let d=0,h=0,f,m,v,x,y,p;const g=_=>(o+(c?a-_:_))%i,w=()=>{x!==y&&(t.lineTo(d,y),t.lineTo(d,x),t.lineTo(d,p))};for(l&&(m=s[g(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=s[g(f)],m.skip)continue;const _=m.x,b=m.y,N=_|0;N===v?(b<x?x=b:b>y&&(y=b),d=(h*d+_)/++h):(w(),t.lineTo(_,b),v=N,h=0,x=y=b),p=b}w()}function Su(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?W2:B2}function H2(t){return t.stepped?Yj:t.tension||t.cubicInterpolationMode==="monotone"?Kj:rr}function V2(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),Ax(t,e.options),t.stroke(s)}function q2(t,e,n,r){const{segments:s,options:i}=e,o=Su(e);for(const a of s)Ax(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Y2=typeof Path2D=="function";function K2(t,e,n,r){Y2&&!e.options.segment?V2(t,e,n,r):q2(t,e,n,r)}class Qs extends Ut{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;Fj(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=nS(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=Zj(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=H2(r);let c,d;for(c=0,d=o.length;c<d;++c){const{start:h,end:f}=o[c],m=i[h],v=i[f];if(m===v){a.push(m);continue}const x=Math.abs((s-m[n])/(v[n]-m[n])),y=l(m,v,x,r.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Su(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=Su(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),K2(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}A(Qs,"id","line"),A(Qs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),A(Qs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),A(Qs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Tm(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class ea extends Ut{constructor(n){super();A(this,"parsed");A(this,"skip");A(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return Tm(this,n,"x",r)}inYRange(n,r){return Tm(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Ui(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,bu(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}A(ea,"id","point"),A(ea,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),A(ea,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $x(t,e){const{x:n,y:r,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,d,h;return t.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=r-h,d=r+h):(h=i/2,a=n-h,l=n+h,c=Math.min(r,s),d=Math.max(r,s)),{left:a,top:c,right:l,bottom:d}}function Pn(t,e,n,r){return t?0:tt(e,n,r)}function G2(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=px(r);return{t:Pn(s.top,i.top,0,n),r:Pn(s.right,i.right,0,e),b:Pn(s.bottom,i.bottom,0,n),l:Pn(s.left,i.left,0,e)}}function Q2(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=es(s),o=Math.min(e,n),a=t.borderSkipped,l=r||V(s);return{topLeft:Pn(!l||a.top||a.left,i.topLeft,0,o),topRight:Pn(!l||a.top||a.right,i.topRight,0,o),bottomLeft:Pn(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:Pn(!l||a.bottom||a.right,i.bottomRight,0,o)}}function X2(t){const e=$x(t),n=e.right-e.left,r=e.bottom-e.top,s=G2(t,n/2,r/2),i=Q2(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function cc(t,e,n,r){const s=e===null,i=n===null,a=t&&!(s&&i)&&$x(t,r);return a&&(s||ur(e,a.left,a.right))&&(i||ur(n,a.top,a.bottom))}function J2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Z2(t,e){t.rect(e.x,e.y,e.w,e.h)}function uc(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class ta extends Ut{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=X2(this),a=J2(o.radius)?Da:Z2;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,uc(o,n,i)),e.clip(),a(e,uc(i,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,uc(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return cc(this,e,n,r)}inXRange(e,n){return cc(this,e,null,n)}inYRange(e,n){return cc(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}A(ta,"id","bar"),A(ta,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),A(ta,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Om=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},eN=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Lm extends Ut{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=re(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Le(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Om(r,i);let c,d;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=s+a;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((v,x)=>{const y=r+n/2+i.measureText(v.text).width;(x===0||c[c.length-1]+y+2*a>o)&&(h+=d,c[c.length-(x>0?0:1)]=0,m+=d,f++),l[x]={left:0,top:m,row:f,width:y,height:s},c[c.length-1]+=y+a}),h}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-e;let h=a,f=0,m=0,v=0,x=0;return this.legendItems.forEach((y,p)=>{const{itemWidth:g,itemHeight:w}=tN(r,n,i,y,s);p>0&&m+w+2*a>d&&(h+=f+a,c.push({width:f,height:m}),v+=f+a,x++,f=m=0),l[p]={left:v,top:m,col:x,width:g,height:w},f=Math.max(f,g),m+=w+a}),h+=f,c.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=ts(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Te(r,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Te(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Te(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Te(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Wd(e,this),this._draw(),Hd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=me.color,l=ts(e.rtl,this.left,this.width),c=Le(o.font),{padding:d}=o,h=c.size,f=h/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:v,boxHeight:x,itemHeight:y}=Om(o,h),p=function(N,j,S){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;s.save();const E=B(S.lineWidth,1);if(s.fillStyle=B(S.fillStyle,a),s.lineCap=B(S.lineCap,"butt"),s.lineDashOffset=B(S.lineDashOffset,0),s.lineJoin=B(S.lineJoin,"miter"),s.lineWidth=E,s.strokeStyle=B(S.strokeStyle,a),s.setLineDash(B(S.lineDash,[])),o.usePointStyle){const P={radius:x*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:E},L=l.xPlus(N,v/2),I=j+f;fx(s,P,L,I,o.pointStyleWidth&&v)}else{const P=j+Math.max((h-x)/2,0),L=l.leftForLtr(N,v),I=es(S.borderRadius);s.beginPath(),Object.values(I).some(ee=>ee!==0)?Da(s,{x:L,y:P,w:v,h:x,radius:I}):s.rect(L,P,v,x),s.fill(),E!==0&&s.stroke()}s.restore()},g=function(N,j,S){Bi(s,S.text,N,j+y/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();w?m={x:Te(i,this.left+d,this.right-r[0]),y:this.top+d+_,line:0}:m={x:this.left+d,y:Te(i,this.top+_+d,this.bottom-n[0].height),line:0},_x(this.ctx,e.textDirection);const b=y+d;this.legendItems.forEach((N,j)=>{s.strokeStyle=N.fontColor,s.fillStyle=N.fontColor;const S=s.measureText(N.text).width,E=l.textAlign(N.textAlign||(N.textAlign=o.textAlign)),P=v+f+S;let L=m.x,I=m.y;l.setWidth(this.width),w?j>0&&L+P+d>this.right&&(I=m.y+=b,m.line++,L=m.x=Te(i,this.left+d,this.right-r[m.line])):j>0&&I+b>this.bottom&&(L=m.x=L+n[m.line].width+d,m.line++,I=m.y=Te(i,this.top+_+d,this.bottom-n[m.line].height));const ee=l.x(L);if(p(ee,I,N),L=tj(E,L+v+f,w?L+P:this.right,e.rtl),g(l.x(L),I,N),w)m.x+=P+d;else if(typeof N.text!="string"){const Je=c.lineHeight;m.y+=Fx(N,Je)+d}else m.y+=b}),bx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Le(n.font),s=vt(n.padding);if(!n.display)return;const i=ts(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=s.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=Te(e.align,h,this.right-f);else{const v=this.columnSizes.reduce((x,y)=>Math.max(x,y.height),0);d=c+Te(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const m=Te(a,h,h+f);o.textAlign=i.textAlign(Ud(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Bi(o,n.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,n=Le(e.font),r=vt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(ur(e,this.left,this.right)&&ur(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],ur(e,s.left,s.left+s.width)&&ur(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!sN(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=eN(s,r);s&&!i&&re(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&re(n.onHover,[e,r,this],this)}else r&&re(n.onClick,[e,r,this],this)}}function tN(t,e,n,r,s){const i=nN(r,t,e,n),o=rN(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function nN(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function rN(t,e,n){let r=t;return typeof e.text!="string"&&(r=Fx(e,n)),r}function Fx(t,e){const n=t.text?t.text.length:0;return e*n}function sN(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var iN={id:"legend",_element:Lm,start(t,e,n){const r=t.legend=new Lm({ctx:t.ctx,options:n,chart:t});ut.configure(t,r,n),ut.addBox(t,r)},stop(t){ut.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ut.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=vt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class zx extends Ut{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=ve(r.text)?r.text.length:1;this._padding=vt(r.padding);const i=s*Le(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,d,h;return this.isHorizontal()?(d=Te(a,r,i),h=n+e,c=i-r):(o.position==="left"?(d=r+e,h=Te(a,s,n),l=be*-.5):(d=i-e,h=Te(a,n,s),l=be*.5),c=s-n),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Le(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);Bi(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Ud(n.align),textBaseline:"middle",translation:[o,a]})}}function oN(t,e){const n=new zx({ctx:t.ctx,options:e,chart:t});ut.configure(t,n,e),ut.addBox(t,n),t.titleBlock=n}var aN={id:"title",_element:zx,start(t,e,n){oN(t,n)},stop(t){const e=t.titleBlock;ut.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ut.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xs={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=wu(e,c);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Mt(t,e){return e&&(ve(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Yt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function lN(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Mm(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Le(e.bodyFont),c=Le(e.titleFont),d=Le(e.footerFont),h=i.length,f=s.length,m=r.length,v=vt(e.padding);let x=v.height,y=0,p=r.reduce((_,b)=>_+b.before.length+b.lines.length+b.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;x+=m*_+(p-m)*l.lineHeight+(p-1)*e.bodySpacing}f&&(x+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let g=0;const w=function(_){y=Math.max(y,n.measureText(_).width+g)};return n.save(),n.font=c.string,K(t.title,w),n.font=l.string,K(t.beforeBody.concat(t.afterBody),w),g=e.displayColors?o+2+e.boxPadding:0,K(r,_=>{K(_.before,w),K(_.lines,w),K(_.after,w)}),g=0,n.font=d.string,K(t.footer,w),n.restore(),y+=v.width,{width:y,height:x}}function cN(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function uN(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function dN(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),uN(c,t,e,n)&&(c="center"),c}function Dm(t,e,n){const r=n.yAlign||e.yAlign||cN(t,n);return{xAlign:n.xAlign||e.xAlign||dN(t,e,n,r),yAlign:r}}function hN(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function fN(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function Rm(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=es(o);let v=hN(e,a);const x=fN(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(d,f)+s:a==="right"&&(v+=Math.max(h,m)+s),{x:tt(v,0,r.width-e.width),y:tt(x,0,r.height-e.height)}}function Ro(t,e,n){const r=vt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Am(t){return Mt([],Yt(t))}function mN(t,e,n){return Nr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Im(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Ux={beforeTitle:Ht,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ht,beforeBody:Ht,beforeLabel:Ht,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return q(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ht,afterBody:Ht,beforeFooter:Ht,footer:Ht,afterFooter:Ht};function We(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?Ux[e].call(n,r):s}class Nu extends Ut{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new jx(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=mN(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=We(r,"beforeTitle",this,e),i=We(r,"title",this,e),o=We(r,"afterTitle",this,e);let a=[];return a=Mt(a,Yt(s)),a=Mt(a,Yt(i)),a=Mt(a,Yt(o)),a}getBeforeBody(e,n){return Am(We(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return K(e,i=>{const o={before:[],lines:[],after:[]},a=Im(r,i);Mt(o.before,Yt(We(a,"beforeLabel",this,i))),Mt(o.lines,We(a,"label",this,i)),Mt(o.after,Yt(We(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return Am(We(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=We(r,"beforeFooter",this,e),i=We(r,"footer",this,e),o=We(r,"afterFooter",this,e);let a=[];return a=Mt(a,Yt(s)),a=Mt(a,Yt(i)),a=Mt(a,Yt(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(lN(this.chart,n[l]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,r))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,r))),K(a,d=>{const h=Im(e.callbacks,d);s.push(We(h,"labelColor",this,d)),i.push(We(h,"labelPointStyle",this,d)),o.push(We(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=Xs[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Mm(this,r),c=Object.assign({},a,l),d=Dm(this.chart,r,c),h=Rm(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=es(a),{x:f,y:m}=e,{width:v,height:x}=n;let y,p,g,w,_,b;return i==="center"?(_=m+x/2,s==="left"?(y=f,p=y-o,w=_+o,b=_-o):(y=f+v,p=y+o,w=_-o,b=_+o),g=y):(s==="left"?p=f+Math.max(l,d)+o:s==="right"?p=f+v-Math.max(c,h)-o:p=this.caretX,i==="top"?(w=m,_=w-o,y=p-o,g=p+o):(w=m+x,_=w+o,y=p+o,g=p-o),b=w),{x1:y,x2:p,x3:g,y1:w,y2:_,y3:b}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=ts(r.rtl,this.x,this.width);for(e.x=Ro(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Le(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,d=Le(i.bodyFont),h=Ro(this,"left",i),f=s.x(h),m=l<d.lineHeight?(d.lineHeight-l)/2:0,v=n.y+m;if(i.usePointStyle){const x={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=s.leftForLtr(f,c)+c/2,p=v+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,bu(e,x,y,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,bu(e,x,y,p)}else{e.lineWidth=V(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=s.leftForLtr(f,c),y=s.leftForLtr(s.xPlus(f,1),c-2),p=es(o.borderRadius);Object.values(p).some(g=>g!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Da(e,{x,y:v,w:c,h:l,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Da(e,{x:y,y:v+1,w:c-2,h:l-2,radius:p}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,v,c,l),e.strokeRect(x,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,h=Le(r.bodyFont);let f=h.lineHeight,m=0;const v=ts(r.rtl,this.x,this.width),x=function(S){n.fillText(S,v.x(e.x+m),e.y+f/2),e.y+=f+i},y=v.textAlign(o);let p,g,w,_,b,N,j;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Ro(this,y,r),n.fillStyle=r.bodyColor,K(this.beforeBody,x),m=a&&y!=="right"?o==="center"?c/2+d:c+2+d:0,_=0,N=s.length;_<N;++_){for(p=s[_],g=this.labelTextColors[_],n.fillStyle=g,K(p.before,x),w=p.lines,a&&w.length&&(this._drawColorBox(n,e,_,v,r),f=Math.max(h.lineHeight,l)),b=0,j=w.length;b<j;++b)x(w[b]),f=h.lineHeight;K(p.after,x)}m=0,f=h.lineHeight,K(this.afterBody,x),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=ts(r.rtl,this.x,this.width);for(e.x=Ro(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Le(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:d}=r,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:v}=es(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+c,l+d-v),n.quadraticCurveTo(a+c,l+d,a+c-v,l+d),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+m,l+d),n.quadraticCurveTo(a,l+d,a,l+d-m),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=Xs[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Mm(this,e),l=Object.assign({},o,this._size),c=Dm(n,e,l),d=Rm(e,l,c,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=vt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),_x(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),bx(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!Oa(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!Oa(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=Xs[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}A(Nu,"positioners",Xs);var pN={id:"tooltip",_element:Nu,positioners:Xs,afterInit(t,e,n){n&&(t.tooltip=new Nu({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ux},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const gN=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function vN(t,e,n,r){const s=t.indexOf(e);if(s===-1)return gN(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const xN=(t,e)=>t===null?null:tt(Math.round(t),0,e);function $m(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Cu extends Ns{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(q(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:vN(r,e,B(n,e),this._addedLabels),xN(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return $m.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}A(Cu,"id","category"),A(Cu,"defaults",{ticks:{callback:$m}});function yN(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=t,m=i||1,v=d-1,{min:x,max:y}=e,p=!q(o),g=!q(a),w=!q(c),_=(y-x)/(h+1);let b=zf((y-x)/v/m)*m,N,j,S,E;if(b<1e-14&&!p&&!g)return[{value:x},{value:y}];E=Math.ceil(y/b)-Math.floor(x/b),E>v&&(b=zf(E*b/v/m)*m),q(l)||(N=Math.pow(10,l),b=Math.ceil(b*N)/N),s==="ticks"?(j=Math.floor(x/b)*b,S=Math.ceil(y/b)*b):(j=x,S=y),p&&g&&i&&Vk((a-o)/i,b/1e3)?(E=Math.round(Math.min((a-o)/b,d)),b=(a-o)/E,j=o,S=a):w?(j=p?o:j,S=g?a:S,E=c-1,b=(S-j)/E):(E=(S-j)/b,di(E,Math.round(E),b/1e3)?E=Math.round(E):E=Math.ceil(E));const P=Math.max(Uf(b),Uf(j));N=Math.pow(10,q(l)?P:l),j=Math.round(j*N)/N,S=Math.round(S*N)/N;let L=0;for(p&&(f&&j!==o?(n.push({value:o}),j<o&&L++,di(Math.round((j+L*b)*N)/N,o,Fm(o,_,t))&&L++):j<o&&L++);L<E;++L){const I=Math.round((j+L*b)*N)/N;if(g&&I>a)break;n.push({value:I})}return g&&f&&S!==a?n.length&&di(n[n.length-1].value,a,Fm(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!g||S===a)&&n.push({value:S}),n}function Fm(t,e,{horizontal:n,minRotation:r}){const s=cr(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class wN extends Ns{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return q(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=zt(s),c=zt(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=yN(s,i);return e.bounds==="ticks"&&qk(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return dx(e,this.chart.options.locale,this.options.ticks.format)}}class Pu extends wN{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=gt(e)?e:0,this.max=gt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=cr(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}A(Pu,"id","linear"),A(Pu,"defaults",{ticks:{callback:hx.formatters.numeric}});const vl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qe=Object.keys(vl);function zm(t,e){return t-e}function Um(t,e){if(q(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),gt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(zi(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function Bm(t,e,n,r){const s=qe.length;for(let i=qe.indexOf(t);i<s-1;++i){const o=vl[qe[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return qe[i]}return qe[s-1]}function _N(t,e,n,r,s){for(let i=qe.length-1;i>=qe.indexOf(n);i--){const o=qe[i];if(vl[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return qe[n?qe.indexOf(n):0]}function bN(t){for(let e=qe.indexOf(t)+1,n=qe.length;e<n;++e)if(vl[qe[e]].common)return qe[e]}function Wm(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=zd(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function kN(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Hm(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:kN(t,r,s,n)}class Ia extends Ns{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new OS._date(e.adapters.date);s.init(n),ui(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Um(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=gt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=gt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=Jk(s,i,o);return this._unit=n.unit||(r.autoSkip?Bm(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):_N(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:bN(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),Hm(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=tt(n,0,o),r=tt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||Bm(i.minUnit,n,r,this._getLabelCapacity(n)),a=B(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=zi(l)||l===!0,d={};let h=n,f,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<r;f=+e.add(f,a,o),m++)Wm(d,f,v);return(f===r||s.bounds==="ticks"||m===1)&&Wm(d,f,v),Object.keys(d).sort(zm).map(x=>+x)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return re(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],h=c&&a[c],f=r[n],m=c&&h&&f&&f.major;return this._adapter.format(e,s||(m?h:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=cr(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,Hm(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(Um(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lx(e.sort(zm))}}A(Ia,"id","time"),A(Ia,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ao(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=dr(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=dr(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class Vm extends Ia{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ao(n,this.min),this._tableRange=Ao(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,d;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],c=s[o],Math.round((d+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Ao(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Ao(this._table,r*this._tableRange+this._minPos,!0)}}A(Vm,"id","timeseries"),A(Vm,"defaults",Ia.defaults);const Bx="label";function qm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function jN(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Wx(t,e){t.labels=e}function Hx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bx;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function SN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bx;const n={labels:[],datasets:[]};return Wx(n,t.labels),Hx(n,t.datasets,e),n}function NN(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...f}=t,m=k.useRef(null),v=k.useRef(null),x=()=>{m.current&&(v.current=new gl(m.current,{type:o,data:SN(a,i),options:l&&{...l},plugins:c}),qm(e,v.current))},y=()=>{qm(e,null),v.current&&(v.current.destroy(),v.current=null)};return k.useEffect(()=>{!s&&v.current&&l&&jN(v.current,l)},[s,l]),k.useEffect(()=>{!s&&v.current&&Wx(v.current.config.data,a.labels)},[s,a.labels]),k.useEffect(()=>{!s&&v.current&&a.datasets&&Hx(v.current.config.data,a.datasets,i)},[s,a.datasets]),k.useEffect(()=>{v.current&&(s?(y(),setTimeout(x)):v.current.update(h))},[s,l,a.labels,a.datasets,h]),k.useEffect(()=>{v.current&&(y(),setTimeout(x))},[o]),k.useEffect(()=>(x(),()=>y()),[]),jt.createElement("canvas",{ref:m,role:"img",height:n,width:r,...f},d)}const CN=k.forwardRef(NN);function Vx(t,e){return gl.register(e),k.forwardRef((n,r)=>jt.createElement(CN,{...n,ref:r,type:t}))}const PN=Vx("line",Xo),EN=Vx("bar",Qo);function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function an(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ne(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Pt(t){Ne(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||$a(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function TN(t,e){Ne(2,arguments);var n=Pt(t),r=an(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ON(t,e){Ne(2,arguments);var n=Pt(t).getTime(),r=an(e);return new Date(n+r)}var LN={};function xl(){return LN}function MN(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function DN(t){return Ne(1,arguments),t instanceof Date||$a(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function RN(t){if(Ne(1,arguments),!DN(t)&&typeof t!="number")return!1;var e=Pt(t);return!isNaN(Number(e))}function AN(t,e){Ne(2,arguments);var n=an(e);return ON(t,-n)}var IN=864e5;function $N(t){Ne(1,arguments);var e=Pt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/IN)+1}function Fa(t){Ne(1,arguments);var e=1,n=Pt(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function qx(t){Ne(1,arguments);var e=Pt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Fa(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Fa(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function FN(t){Ne(1,arguments);var e=qx(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Fa(n);return r}var zN=6048e5;function UN(t){Ne(1,arguments);var e=Pt(t),n=Fa(e).getTime()-FN(e).getTime();return Math.round(n/zN)+1}function za(t,e){var n,r,s,i,o,a,l,c;Ne(1,arguments);var d=xl(),h=an((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Pt(t),m=f.getUTCDay(),v=(m<h?7:0)+m-h;return f.setUTCDate(f.getUTCDate()-v),f.setUTCHours(0,0,0,0),f}function Yx(t,e){var n,r,s,i,o,a,l,c;Ne(1,arguments);var d=Pt(t),h=d.getUTCFullYear(),f=xl(),m=an((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(h+1,0,m),v.setUTCHours(0,0,0,0);var x=za(v,e),y=new Date(0);y.setUTCFullYear(h,0,m),y.setUTCHours(0,0,0,0);var p=za(y,e);return d.getTime()>=x.getTime()?h+1:d.getTime()>=p.getTime()?h:h-1}function BN(t,e){var n,r,s,i,o,a,l,c;Ne(1,arguments);var d=xl(),h=an((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Yx(t,e),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var v=za(m,e);return v}var WN=6048e5;function HN(t,e){Ne(1,arguments);var n=Pt(t),r=za(n,e).getTime()-BN(n,e).getTime();return Math.round(r/WN)+1}function Y(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var hn={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return Y(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Y(r+1,2)},d:function(e,n){return Y(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Y(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Y(e.getUTCHours(),n.length)},m:function(e,n){return Y(e.getUTCMinutes(),n.length)},s:function(e,n){return Y(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return Y(i,n.length)}},Mr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VN={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return hn.y(e,n)},Y:function(e,n,r,s){var i=Yx(e,s),o=i>0?i:1-i;if(n==="YY"){var a=o%100;return Y(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Y(o,n.length)},R:function(e,n){var r=qx(e);return Y(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Y(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Y(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Y(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return hn.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Y(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=HN(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Y(i,n.length)},I:function(e,n,r){var s=UN(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Y(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):hn.d(e,n)},D:function(e,n,r){var s=$N(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Y(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Y(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Y(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return Y(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=Mr.noon:s===0?i=Mr.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=Mr.evening:s>=12?i=Mr.afternoon:s>=4?i=Mr.morning:i=Mr.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return hn.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):hn.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Y(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Y(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):hn.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):hn.s(e,n)},S:function(e,n){return hn.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return Km(o);case"XXXX":case"XX":return sr(o);case"XXXXX":case"XXX":default:return sr(o,":")}},x:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"x":return Km(o);case"xxxx":case"xx":return sr(o);case"xxxxx":case"xxx":default:return sr(o,":")}},O:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ym(o,":");case"OOOO":default:return"GMT"+sr(o,":")}},z:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ym(o,":");case"zzzz":default:return"GMT"+sr(o,":")}},t:function(e,n,r,s){var i=s._originalDate||e,o=Math.floor(i.getTime()/1e3);return Y(o,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,o=i.getTime();return Y(o,n.length)}};function Ym(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=e;return n+String(s)+o+Y(i,2)}function Km(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Y(Math.abs(t)/60,2)}return sr(t,e)}function sr(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=Y(Math.floor(s/60),2),o=Y(s%60,2);return r+i+n+o}var Gm=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Kx=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},qN=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Gm(e,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",Gm(s,n)).replace("{{time}}",Kx(i,n))},YN={p:Kx,P:qN},KN=["D","DD"],GN=["YY","YYYY"];function QN(t){return KN.indexOf(t)!==-1}function XN(t){return GN.indexOf(t)!==-1}function Qm(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var JN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZN=function(e,n,r){var s,i=JN[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function dc(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var eC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rC={date:dc({formats:eC,defaultWidth:"full"}),time:dc({formats:tC,defaultWidth:"full"}),dateTime:dc({formats:nC,defaultWidth:"full"})},sC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iC=function(e,n,r,s){return sC[e]};function Us(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}var oC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hC=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fC={ordinalNumber:hC,era:Us({values:oC,defaultWidth:"wide"}),quarter:Us({values:aC,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Us({values:lC,defaultWidth:"wide"}),day:Us({values:cC,defaultWidth:"wide"}),dayPeriod:Us({values:uC,defaultWidth:"wide",formattingValues:dC,defaultFormattingWidth:"wide"})};function Bs(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?pC(a,function(h){return h.test(o)}):mC(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var d=e.slice(o.length);return{value:c,rest:d}}}function mC(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function pC(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function gC(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}var vC=/^(\d+)(th|st|nd|rd)?/i,xC=/\d+/i,yC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wC={any:[/^b/i,/^(a|c)/i]},_C={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bC={any:[/1/i,/2/i,/3/i,/4/i]},kC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EC={ordinalNumber:gC({matchPattern:vC,parsePattern:xC,valueCallback:function(e){return parseInt(e,10)}}),era:Bs({matchPatterns:yC,defaultMatchWidth:"wide",parsePatterns:wC,defaultParseWidth:"any"}),quarter:Bs({matchPatterns:_C,defaultMatchWidth:"wide",parsePatterns:bC,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Bs({matchPatterns:kC,defaultMatchWidth:"wide",parsePatterns:jC,defaultParseWidth:"any"}),day:Bs({matchPatterns:SC,defaultMatchWidth:"wide",parsePatterns:NC,defaultParseWidth:"any"}),dayPeriod:Bs({matchPatterns:CC,defaultMatchWidth:"any",parsePatterns:PC,defaultParseWidth:"any"})},TC={code:"en-US",formatDistance:ZN,formatLong:rC,formatRelative:iC,localize:fC,match:EC,options:{weekStartsOn:0,firstWeekContainsDate:1}},OC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MC=/^'([^]*?)'?$/,DC=/''/g,RC=/[a-zA-Z]/;function AC(t,e,n){var r,s,i,o,a,l,c,d,h,f,m,v,x,y;Ne(2,arguments);var p=String(e),g=xl(),w=(r=(s=void 0)!==null&&s!==void 0?s:g.locale)!==null&&r!==void 0?r:TC,_=an((i=(o=(a=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&o!==void 0?o:(c=g.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=an((h=(f=(m=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&m!==void 0?m:g.weekStartsOn)!==null&&f!==void 0?f:(x=g.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&h!==void 0?h:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var N=Pt(t);if(!RN(N))throw new RangeError("Invalid time value");var j=MN(N),S=AN(N,j),E={firstWeekContainsDate:_,weekStartsOn:b,locale:w,_originalDate:N},P=p.match(LC).map(function(L){var I=L[0];if(I==="p"||I==="P"){var ee=YN[I];return ee(L,w.formatLong)}return L}).join("").match(OC).map(function(L){if(L==="''")return"'";var I=L[0];if(I==="'")return IC(L);var ee=VN[I];if(ee)return XN(L)&&Qm(L,e,String(t)),QN(L)&&Qm(L,e,String(t)),ee(S,L,w.localize,E);if(I.match(RC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return L}).join("");return P}function IC(t){var e=t.match(MC);return e?e[1].replace(DC,"'"):t}function $C(t,e){Ne(2,arguments);var n=an(e);return TN(t,-n)}gl.register(Cu,Pu,ea,Qs,ta,aN,pN,iN);const FC=()=>{const{user:t}=Xe(),[e,n]=k.useState({totalProducts:0,totalCustomers:0,totalPurchases:0,totalDownloads:0,totalRevenue:0}),[r,s]=k.useState(!0),i=Array.from({length:7},(c,d)=>AC($C(new Date,d),"MMM dd")).reverse(),o={labels:i,datasets:[{label:"Sales",data:[3,5,2,8,15,12,10],borderColor:"rgb(79, 70, 229)",backgroundColor:"rgba(79, 70, 229, 0.5)",tension:.3}]},a={labels:i,datasets:[{label:"Revenue",data:[45,75,30,120,225,180,150],backgroundColor:"rgba(14, 165, 233, 0.7)"}]};k.useEffect(()=>{(async()=>{if(t){s(!0);try{const{count:d}=await W.from("products").select("id",{count:"exact",head:!0}).eq("owner_id",t.id),{count:h}=await W.from("customers").select("id",{count:"exact",head:!0}).eq("owner_id",t.id),{data:f,count:m}=await W.from("purchases").select("amount, products!inner(owner_id)",{count:"exact"}).eq("products.owner_id",t.id),v=(f==null?void 0:f.reduce((y,p)=>y+Number(p.amount),0))||0,{count:x}=await W.from("downloads").select("id, products!inner(owner_id)",{count:"exact",head:!0}).eq("products.owner_id",t.id);n({totalProducts:d||0,totalCustomers:h||0,totalPurchases:m||0,totalDownloads:x||0,totalRevenue:v})}catch(d){console.error("Error fetching dashboard stats:",d)}finally{s(!1)}}})()},[t]);const l=({title:c,value:d,icon:h,linkTo:f,color:m})=>u.jsx(M,{to:f,className:"card hover:shadow-md transition-shadow",children:u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`p-3 rounded-full ${m} text-white mr-4`,children:h}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:c}),u.jsx("p",{className:"text-2xl font-bold",children:d})]})]})})});return r?u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Dashboard"}),u.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's an overview of your digital product business."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(l,{title:"Total Products",value:e.totalProducts,icon:u.jsx(Ta,{className:"h-6 w-6"}),linkTo:"/products",color:"bg-blue-500"}),u.jsx(l,{title:"Total Customers",value:e.totalCustomers,icon:u.jsx(xu,{className:"h-6 w-6"}),linkTo:"/customers",color:"bg-green-500"}),u.jsx(l,{title:"Total Purchases",value:e.totalPurchases,icon:u.jsx(tn,{className:"h-6 w-6"}),linkTo:"/purchases",color:"bg-purple-500"}),u.jsx(l,{title:"Total Downloads",value:e.totalDownloads,icon:u.jsx(pr,{className:"h-6 w-6"}),linkTo:"/downloads",color:"bg-orange-500"})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"card-header",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"card-title flex items-center",children:[u.jsx(Qv,{className:"mr-2"}),"Revenue Overview"]}),u.jsxs("span",{className:"badge badge-primary",children:["$",e.totalRevenue.toFixed(2)]})]}),u.jsx("p",{className:"card-description",children:"Your total revenue from all products"})]}),u.jsx("div",{className:"card-content",children:u.jsx("div",{className:"h-80",children:u.jsx(EN,{data:a,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(c){return"$"+c}}}}}})})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"card-header",children:[u.jsxs("h3",{className:"card-title flex items-center",children:[u.jsx(ak,{className:"mr-2"}),"Sales Trend"]}),u.jsx("p",{className:"card-description",children:"Number of sales in the last 7 days"})]}),u.jsx("div",{className:"card-content",children:u.jsx("div",{className:"h-80",children:u.jsx(PN,{data:o,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0}}}})})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(M,{to:"/products/new",className:"card hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"p-6 text-center",children:[u.jsx(Ta,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Add New Product"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and sell a new digital product"})]})}),u.jsx(M,{to:"/customers/new",className:"card hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"p-6 text-center",children:[u.jsx(xu,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Add New Customer"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Manually add a new customer"})]})}),u.jsx(M,{to:"/purchases/new",className:"card hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"p-6 text-center",children:[u.jsx(tn,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Record Purchase"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Manually record a new purchase"})]})})]})]})};let zC={data:""},UC=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||zC,BC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,WC=/\/\*[^]*?\*\/|  +/g,Xm=/\n+/g,kn=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?kn(o,i):i+"{"+kn(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=kn(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=kn.p?kn.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Vt={},Gx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Gx(t[n]);return e}return t},HC=(t,e,n,r,s)=>{let i=Gx(t),o=Vt[i]||(Vt[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!Vt[o]){let l=i!==t?t:(c=>{let d,h,f=[{}];for(;d=BC.exec(c.replace(WC,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Xm," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Xm," ").trim();return f[0]})(t);Vt[o]=kn(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Vt.g?Vt.g:null;return n&&(Vt.g=Vt[o]),((l,c,d,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Vt[o],e,r,a),o},VC=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":kn(a,""):a===!1?"":a}return r+s+(o??"")},"");function yl(t){let e=this||{},n=t.call?t(e.p):t;return HC(n.unshift?n.raw?VC(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,UC(e.target),e.g,e.o,e.k)}let Qx,Eu,Tu;yl.bind({g:1});let ln=yl.bind({k:1});function qC(t,e,n,r){kn.p=e,Qx=t,Eu=n,Tu=r}function Kn(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Eu&&Eu()},a),n.o=/ *go\d+/.test(l),a.className=yl.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Tu&&c[0]&&Tu(a),Qx(c,a)}return s}}var YC=t=>typeof t=="function",Ua=(t,e)=>YC(t)?t(e):t,KC=(()=>{let t=0;return()=>(++t).toString()})(),Xx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),GC=20,Jx=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,GC)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return Jx(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},na=[],hr={toasts:[],pausedAt:void 0},Cr=t=>{hr=Jx(hr,t),na.forEach(e=>{e(hr)})},QC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},XC=(t={})=>{let[e,n]=k.useState(hr),r=k.useRef(hr);k.useEffect(()=>(r.current!==hr&&n(hr),na.push(n),()=>{let i=na.indexOf(n);i>-1&&na.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||QC[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},JC=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||KC()}),Zi=t=>(e,n)=>{let r=JC(e,t,n);return Cr({type:2,toast:r}),r.id},D=(t,e)=>Zi("blank")(t,e);D.error=Zi("error");D.success=Zi("success");D.loading=Zi("loading");D.custom=Zi("custom");D.dismiss=t=>{Cr({type:3,toastId:t})};D.remove=t=>Cr({type:4,toastId:t});D.promise=(t,e,n)=>{let r=D.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Ua(e.success,s):void 0;return i?D.success(i,{id:r,...n,...n==null?void 0:n.success}):D.dismiss(r),s}).catch(s=>{let i=e.error?Ua(e.error,s):void 0;i?D.error(i,{id:r,...n,...n==null?void 0:n.error}):D.dismiss(r)}),t};var ZC=(t,e)=>{Cr({type:1,toast:{id:t,height:e}})},eP=()=>{Cr({type:5,time:Date.now()})},mi=new Map,tP=1e3,nP=(t,e=tP)=>{if(mi.has(t))return;let n=setTimeout(()=>{mi.delete(t),Cr({type:4,toastId:t})},e);mi.set(t,n)},rP=t=>{let{toasts:e,pausedAt:n}=XC(t);k.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&D.dismiss(a.id);return}return setTimeout(()=>D.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=k.useCallback(()=>{n&&Cr({type:6,time:Date.now()})},[n]),s=k.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=e.filter(m=>(m.position||c)===(i.position||c)&&m.height),h=d.findIndex(m=>m.id===i.id),f=d.filter((m,v)=>v<h&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[f+1]:[0,f]).reduce((m,v)=>m+(v.height||0)+l,0)},[e]);return k.useEffect(()=>{e.forEach(i=>{if(i.dismissed)nP(i.id,i.removeDelay);else{let o=mi.get(i.id);o&&(clearTimeout(o),mi.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:ZC,startPause:eP,endPause:r,calculateOffset:s}}},sP=ln`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,iP=ln`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oP=ln`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,aP=Kn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${iP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lP=ln`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cP=Kn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${lP} 1s linear infinite;
`,uP=ln`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dP=ln`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hP=Kn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fP=Kn("div")`
  position: absolute;
`,mP=Kn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pP=ln`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gP=Kn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(gP,null,e):e:n==="blank"?null:k.createElement(mP,null,k.createElement(cP,{...r}),n!=="loading"&&k.createElement(fP,null,n==="error"?k.createElement(aP,{...r}):k.createElement(hP,{...r})))},xP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,wP="0%{opacity:0;} 100%{opacity:1;}",_P="0%{opacity:1;} 100%{opacity:0;}",bP=Kn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kP=Kn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jP=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Xx()?[wP,_P]:[xP(n),yP(n)];return{animation:e?`${ln(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ln(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},SP=k.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?jP(t.position||e||"top-center",t.visible):{opacity:0},i=k.createElement(vP,{toast:t}),o=k.createElement(kP,{...t.ariaProps},Ua(t.message,t));return k.createElement(bP,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):k.createElement(k.Fragment,null,i,o))});qC(k.createElement);var NP=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=k.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:i,className:e,style:n},s)},CP=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},PP=yl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Io=16,EP=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=rP(n);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Io,left:Io,right:Io,bottom:Io,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=CP(d,h);return k.createElement(NP,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?PP:"",style:f},c.type==="custom"?Ua(c.message,c):s?s(c):k.createElement(SP,{toast:c,position:d}))}))};const TP=()=>{const{user:t}=Xe(),[e,n]=k.useState([]),[r,s]=k.useState(!0),[i,o]=k.useState("");k.useEffect(()=>{a()},[t]);const a=async()=>{if(t){s(!0);try{const{data:h,error:f}=await W.from("products").select("*").eq("owner_id",t.id).order("created_at",{ascending:!1});if(f)throw f;n(h||[])}catch(h){console.error("Error fetching products:",h),D.error("Failed to load products")}finally{s(!1)}}},l=async h=>{try{const{error:f}=await W.from("products").update({is_active:!h.is_active}).eq("id",h.id);if(f)throw f;n(e.map(m=>m.id===h.id?{...m,is_active:!m.is_active}:m)),D.success(`Product ${h.is_active?"deactivated":"activated"}`)}catch(f){console.error("Error toggling product status:",f),D.error("Failed to update product status")}},c=async h=>{if(confirm("Are you sure you want to delete this product? This action cannot be undone."))try{const{error:f}=await W.from("products").delete().eq("id",h);if(f)throw f;n(e.filter(m=>m.id!==h)),D.success("Product deleted successfully")}catch(f){console.error("Error deleting product:",f),D.error("Failed to delete product")}},d=e.filter(h=>h.name.toLowerCase().includes(i.toLowerCase())||h.description&&h.description.toLowerCase().includes(i.toLowerCase()));return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Products"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your digital products"})]}),u.jsxs(M,{to:"/products/new",className:"btn-primary flex items-center justify-center md:justify-start",children:[u.jsx(pt,{className:"mr-2"}),"Add New Product"]})]}),u.jsx("div",{className:"card",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search products...",className:"form-input w-full pl-10",value:i,onChange:h=>o(h.target.value)}),u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{className:"h-5 w-5 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}),r?u.jsx("div",{className:"flex justify-center items-center py-12",children:u.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):d.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No products found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:i?"Try adjusting your search terms":"Get started by creating a new product"}),!i&&u.jsx("div",{className:"mt-6",children:u.jsxs(M,{to:"/products/new",className:"btn-primary",children:[u.jsx(pt,{className:"mr-2"}),"Add New Product"]})})]})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(h=>u.jsxs("div",{className:"card overflow-hidden",children:[u.jsxs("div",{className:"aspect-video bg-muted relative",children:[h.thumbnail_url?u.jsx("img",{src:h.thumbnail_url,alt:h.name,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent",children:u.jsx(Ta,{className:"h-12 w-12 text-muted-foreground"})}),u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx("span",{className:`badge ${h.is_active?"badge-primary":"bg-muted text-muted-foreground"}`,children:h.is_active?"Active":"Inactive"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-lg truncate",children:h.name}),u.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 h-10",children:h.description||"No description provided"}),u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs("span",{className:"font-semibold flex items-center",children:[u.jsx(Qv,{className:"mr-1"}),h.price.toFixed(2)]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:()=>l(h),className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:h.is_active?"Deactivate":"Activate",children:h.is_active?u.jsx(Rd,{className:"h-5 w-5"}):u.jsx(Dd,{className:"h-5 w-5"})}),u.jsx(M,{to:`/products/${h.id}`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:"View Details",children:u.jsx(Bn,{className:"h-5 w-5"})}),u.jsx(M,{to:`/products/${h.id}/edit`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:"Edit",children:u.jsx(hs,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>c(h.id),className:"p-2 text-muted-foreground hover:text-destructive rounded-full hover:bg-accent",title:"Delete",children:u.jsx(Ss,{className:"h-5 w-5"})})]})]})]})]},h.id))})]})},OP=()=>{const{id:t}=xv(),{user:e}=Xe(),n=bs(),[r,s]=k.useState(null),[i,o]=k.useState([]),[a,l]=k.useState([]),[c,d]=k.useState([]),[h,f]=k.useState(!0),[m,v]=k.useState("overview");k.useEffect(()=>{t&&x(t)},[t,e]);const x=async g=>{if(e){f(!0);try{const{data:w,error:_}=await W.from("products").select("*").eq("id",g).eq("owner_id",e.id).single();if(_){if(_.code==="PGRST116"){n("/products"),D.error("Product not found");return}throw _}s(w);const{data:b,error:N}=await W.from("licenses").select("*").eq("product_id",g);if(N)throw N;o(b||[]);const{data:j,error:S}=await W.from("purchases").select("*, customers(*)").eq("product_id",g);if(S)throw S;l(j||[]);const{data:E,error:P}=await W.from("downloads").select("*, customers(*)").eq("product_id",g);if(P)throw P;d(E||[])}catch(w){console.error("Error fetching product data:",w),D.error("Failed to load product data")}finally{f(!1)}}},y=async()=>{if(r)try{const{error:g}=await W.from("products").update({is_active:!r.is_active}).eq("id",r.id);if(g)throw g;s({...r,is_active:!r.is_active}),D.success(`Product ${r.is_active?"deactivated":"activated"}`)}catch(g){console.error("Error toggling product status:",g),D.error("Failed to update product status")}},p=async()=>{if(r&&confirm("Are you sure you want to delete this product? This action cannot be undone."))try{const{error:g}=await W.from("products").delete().eq("id",r.id);if(g)throw g;D.success("Product deleted successfully"),n("/products")}catch(g){console.error("Error deleting product:",g),D.error("Failed to delete product")}};return h?u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(M,{to:"/products",className:"mr-4 p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",children:u.jsx(Ri,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"mb-1",children:r.name}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:`badge ${r.is_active?"badge-primary":"bg-muted text-muted-foreground"} mr-2`,children:r.is_active?"Active":"Inactive"}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created on ",new Date(r.created_at).toLocaleDateString()]})]})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:y,className:"btn-outline flex items-center",children:r.is_active?u.jsxs(u.Fragment,{children:[u.jsx(Rd,{className:"mr-2"}),"Deactivate"]}):u.jsxs(u.Fragment,{children:[u.jsx(Dd,{className:"mr-2"}),"Activate"]})}),u.jsxs(M,{to:`/products/${r.id}/edit`,className:"btn-secondary flex items-center",children:[u.jsx(hs,{className:"mr-2"}),"Edit"]}),u.jsxs("button",{onClick:p,className:"btn-destructive flex items-center",children:[u.jsx(Ss,{className:"mr-2"}),"Delete"]})]})]}),u.jsx("div",{className:"border-b border-border",children:u.jsxs("nav",{className:"flex space-x-8",children:[u.jsx("button",{onClick:()=>v("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="overview"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:"Overview"}),u.jsxs("button",{onClick:()=>v("licenses"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="licenses"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:["Licenses (",i.length,")"]}),u.jsxs("button",{onClick:()=>v("purchases"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="purchases"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:["Purchases (",a.length,")"]}),u.jsxs("button",{onClick:()=>v("downloads"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="downloads"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:["Downloads (",c.length,")"]})]})}),u.jsxs("div",{children:[m==="overview"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"md:col-span-2 space-y-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Product Details"})}),u.jsx("div",{className:"card-content",children:u.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6",children:[u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),u.jsx("dd",{className:"mt-1",children:r.name})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),u.jsxs("dd",{className:"mt-1",children:["$",r.price.toFixed(2)]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),u.jsx("dd",{className:"mt-1",children:r.description||"No description provided"})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Requires License"}),u.jsx("dd",{className:"mt-1",children:r.requires_license?"Yes":"No"})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),u.jsx("dd",{className:"mt-1",children:r.is_active?"Active":"Inactive"})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),u.jsx("dd",{className:"mt-1",children:new Date(r.created_at).toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),u.jsx("dd",{className:"mt-1",children:new Date(r.updated_at).toLocaleDateString()})]})]})})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Product File"})}),u.jsx("div",{className:"card-content",children:r.file_url?u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"File is available"}),u.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-md",children:r.file_url.split("/").pop()})]}),u.jsxs("a",{href:r.file_url,target:"_blank",rel:"noopener noreferrer",className:"btn-outline flex items-center",children:[u.jsx(pr,{className:"mr-2"}),"Download"]})]}):u.jsxs("div",{className:"text-center py-6",children:[u.jsx(pr,{className:"h-12 w-12 mx-auto text-muted-foreground"}),u.jsx("p",{className:"mt-2 font-medium",children:"No file uploaded"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a file to make this product available for delivery"}),u.jsx(M,{to:`/products/${r.id}/edit`,className:"btn-primary mt-4",children:"Upload File"})]})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Stats"})}),u.jsx("div",{className:"card-content",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Purchases"}),u.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",a.reduce((g,w)=>g+Number(w.amount),0).toFixed(2)]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Downloads"}),u.jsx("p",{className:"text-2xl font-bold",children:c.length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Licenses"}),u.jsx("p",{className:"text-2xl font-bold",children:i.filter(g=>g.is_active).length})]})]})})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Quick Actions"})}),u.jsxs("div",{className:"card-content space-y-3",children:[u.jsxs(M,{to:`/licenses/new?product=${r.id}`,className:"btn-outline w-full flex items-center justify-center",children:[u.jsx(Ai,{className:"mr-2"}),"Generate License"]}),u.jsxs(M,{to:`/purchases/new?product=${r.id}`,className:"btn-outline w-full flex items-center justify-center",children:[u.jsx(tn,{className:"mr-2"}),"Record Purchase"]})]})]})]})]}),m==="licenses"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{children:"Licenses"}),u.jsxs(M,{to:`/licenses/new?product=${r.id}`,className:"btn-primary flex items-center",children:[u.jsx(pt,{className:"mr-2"}),"Generate License"]})]}),i.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx(Ai,{className:"mx-auto h-12 w-12 text-muted-foreground"}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No licenses found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:"Generate licenses to control access to your product"}),u.jsx(M,{to:`/licenses/new?product=${r.id}`,className:"btn-primary mt-4",children:"Generate License"})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"License Key"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Status"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Activations"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Customer"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Created"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]})}),u.jsx("tbody",{children:i.map(g=>u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:g.license_key}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx("span",{className:`badge ${g.is_active?"badge-primary":"bg-muted text-muted-foreground"}`,children:g.is_active?"Active":"Inactive"})}),u.jsxs("td",{className:"px-4 py-3 text-sm",children:[g.current_activations," / ",g.max_activations]}),u.jsx("td",{className:"px-4 py-3 text-sm",children:g.customer_id?u.jsx(M,{to:`/customers/${g.customer_id}`,className:"hover:underline",children:"View Customer"}):u.jsx("span",{className:"text-muted-foreground",children:"Not assigned"})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(g.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-3 text-sm text-right",children:u.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[u.jsx(M,{to:`/licenses/${g.id}`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",children:u.jsx(Bn,{className:"h-4 w-4"})}),u.jsx(M,{to:`/licenses/${g.id}/edit`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",children:u.jsx(hs,{className:"h-4 w-4"})})]})})]},g.id))})]})})]}),m==="purchases"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{children:"Purchases"}),u.jsxs(M,{to:`/purchases/new?product=${r.id}`,className:"btn-primary flex items-center",children:[u.jsx(pt,{className:"mr-2"}),"Record Purchase"]})]}),a.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx(tn,{className:"mx-auto h-12 w-12 text-muted-foreground"}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No purchases found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:"Record purchases to track sales of this product"}),u.jsx(M,{to:`/purchases/new?product=${r.id}`,className:"btn-primary mt-4",children:"Record Purchase"})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Customer"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Amount"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Status"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"License"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]})}),u.jsx("tbody",{children:a.map(g=>{var w;return u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(g.purchase_date).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/customers/${g.customer_id}`,className:"hover:underline",children:((w=g.customers)==null?void 0:w.email)||"Unknown"})}),u.jsxs("td",{className:"px-4 py-3 text-sm font-medium",children:["$",Number(g.amount).toFixed(2)]}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx("span",{className:`badge ${g.payment_status==="completed"?"badge-primary":g.payment_status==="pending"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:g.payment_status})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:g.license_id?u.jsx(M,{to:`/licenses/${g.license_id}`,className:"hover:underline",children:"View License"}):u.jsx("span",{className:"text-muted-foreground",children:"No license"})}),u.jsx("td",{className:"px-4 py-3 text-sm text-right",children:u.jsx("div",{className:"flex items-center justify-end space-x-2",children:u.jsx(M,{to:`/purchases/${g.id}`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",children:u.jsx(Bn,{className:"h-4 w-4"})})})})]},g.id)})})]})})]}),m==="downloads"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{children:"Downloads"}),c.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx(pr,{className:"mx-auto h-12 w-12 text-muted-foreground"}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No downloads found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:"Downloads will be recorded when customers access your product"})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Customer"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"IP Address"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"User Agent"})]})}),u.jsx("tbody",{children:c.map(g=>{var w;return u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(g.download_date).toLocaleString()}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/customers/${g.customer_id}`,className:"hover:underline",children:((w=g.customers)==null?void 0:w.email)||"Unknown"})}),u.jsx("td",{className:"px-4 py-3 text-sm font-mono text-xs",children:g.ip_address||"Not recorded"}),u.jsx("td",{className:"px-4 py-3 text-sm truncate max-w-xs",children:g.user_agent||"Not recorded"})]},g.id)})})]})})]})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{children:"Product not found"}),u.jsxs(M,{to:"/products",className:"btn-primary mt-4",children:[u.jsx(Ri,{className:"mr-2"}),"Back to Products"]})]})},LP=()=>{const{user:t}=Xe(),[e,n]=k.useState([]),[r,s]=k.useState(!0),[i,o]=k.useState("");k.useEffect(()=>{a()},[t]);const a=async()=>{if(t){s(!0);try{const{data:f,error:m}=await W.from("licenses").select(`
          *,
          products!inner(*, owner_id),
          customers(*)
        `).eq("products.owner_id",t.id).order("created_at",{ascending:!1});if(m)throw m;n(f||[])}catch(f){console.error("Error fetching licenses:",f),D.error("Failed to load licenses")}finally{s(!1)}}},l=async f=>{try{const{error:m}=await W.from("licenses").update({is_active:!f.is_active}).eq("id",f.id);if(m)throw m;n(e.map(v=>v.id===f.id?{...v,is_active:!v.is_active}:v)),D.success(`License ${f.is_active?"deactivated":"activated"}`)}catch(m){console.error("Error toggling license status:",m),D.error("Failed to update license status")}},c=async f=>{if(confirm("Are you sure you want to delete this license? This action cannot be undone."))try{const{error:m}=await W.from("licenses").delete().eq("id",f);if(m)throw m;n(e.filter(v=>v.id!==f)),D.success("License deleted successfully")}catch(m){console.error("Error deleting license:",m),D.error("Failed to delete license")}},d=f=>{navigator.clipboard.writeText(f).then(()=>D.success("License key copied to clipboard")).catch(()=>D.error("Failed to copy license key"))},h=e.filter(f=>{var m;return f.license_key.toLowerCase().includes(i.toLowerCase())||f.products.name.toLowerCase().includes(i.toLowerCase())||((m=f.customers)==null?void 0:m.email)&&f.customers.email.toLowerCase().includes(i.toLowerCase())});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Licenses"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage license keys for your products"})]}),u.jsxs(M,{to:"/licenses/new",className:"btn-primary flex items-center justify-center md:justify-start",children:[u.jsx(pt,{className:"mr-2"}),"Generate License"]})]}),u.jsx("div",{className:"card",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search licenses...",className:"form-input w-full pl-10",value:i,onChange:f=>o(f.target.value)}),u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{className:"h-5 w-5 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}),r?u.jsx("div",{className:"flex justify-center items-center py-12",children:u.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):h.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No licenses found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:i?"Try adjusting your search terms":"Get started by generating a new license"}),!i&&u.jsx("div",{className:"mt-6",children:u.jsxs(M,{to:"/licenses/new",className:"btn-primary",children:[u.jsx(pt,{className:"mr-2"}),"Generate License"]})})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"License Key"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Product"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Status"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Activations"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Customer"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Created"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]})}),u.jsx("tbody",{children:h.map(f=>u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"truncate max-w-[150px]",children:f.license_key}),u.jsx("button",{onClick:()=>d(f.license_key),className:"ml-2 p-1 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:"Copy license key",children:u.jsx(rk,{className:"h-4 w-4"})})]})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/products/${f.product_id}`,className:"hover:underline",children:f.products.name})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx("span",{className:`badge ${f.is_active?"badge-primary":"bg-muted text-muted-foreground"}`,children:f.is_active?"Active":"Inactive"})}),u.jsxs("td",{className:"px-4 py-3 text-sm",children:[f.current_activations," / ",f.max_activations]}),u.jsx("td",{className:"px-4 py-3 text-sm",children:f.customer_id&&f.customers?u.jsx(M,{to:`/customers/${f.customer_id}`,className:"hover:underline",children:f.customers.email}):u.jsx("span",{className:"text-muted-foreground",children:"Not assigned"})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(f.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-3 text-sm text-right",children:u.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[u.jsx("button",{onClick:()=>l(f),className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:f.is_active?"Deactivate":"Activate",children:f.is_active?u.jsx(Rd,{className:"h-4 w-4"}):u.jsx(Dd,{className:"h-4 w-4"})}),u.jsx(M,{to:`/licenses/${f.id}`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:"View Details",children:u.jsx(Bn,{className:"h-4 w-4"})}),u.jsx(M,{to:`/licenses/${f.id}/edit`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:"Edit",children:u.jsx(hs,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>c(f.id),className:"p-2 text-muted-foreground hover:text-destructive rounded-full hover:bg-accent",title:"Delete",children:u.jsx(Ss,{className:"h-4 w-4"})})]})})]},f.id))})]})})]})},MP=()=>{const{user:t}=Xe(),[e,n]=k.useState([]),[r,s]=k.useState(!0),[i,o]=k.useState("");k.useEffect(()=>{a()},[t]);const a=async()=>{if(t){s(!0);try{const{data:d,error:h}=await W.from("customers").select("*").eq("owner_id",t.id).order("created_at",{ascending:!1});if(h)throw h;n(d||[])}catch(d){console.error("Error fetching customers:",d),D.error("Failed to load customers")}finally{s(!1)}}},l=async d=>{if(confirm("Are you sure you want to delete this customer? This action cannot be undone."))try{const{error:h}=await W.from("customers").delete().eq("id",d);if(h)throw h;n(e.filter(f=>f.id!==d)),D.success("Customer deleted successfully")}catch(h){console.error("Error deleting customer:",h),D.error("Failed to delete customer")}},c=e.filter(d=>d.email.toLowerCase().includes(i.toLowerCase())||d.full_name&&d.full_name.toLowerCase().includes(i.toLowerCase()));return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Customers"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your customer database"})]}),u.jsxs(M,{to:"/customers/new",className:"btn-primary flex items-center justify-center md:justify-start",children:[u.jsx(pt,{className:"mr-2"}),"Add New Customer"]})]}),u.jsx("div",{className:"card",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search customers...",className:"form-input w-full pl-10",value:i,onChange:d=>o(d.target.value)}),u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{className:"h-5 w-5 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}),r?u.jsx("div",{className:"flex justify-center items-center py-12",children:u.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):c.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No customers found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:i?"Try adjusting your search terms":"Get started by adding a new customer"}),!i&&u.jsx("div",{className:"mt-6",children:u.jsxs(M,{to:"/customers/new",className:"btn-primary",children:[u.jsx(pt,{className:"mr-2"}),"Add New Customer"]})})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Customer"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Email"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Created"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]})}),u.jsx("tbody",{children:c.map(d=>u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:d.full_name||"No name provided"}),u.jsx("td",{className:"px-4 py-3 text-sm",children:d.email}),u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(d.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-3 text-sm text-right",children:u.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[u.jsx(M,{to:`/customers/${d.id}`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:"View Details",children:u.jsx(Bn,{className:"h-4 w-4"})}),u.jsx(M,{to:`/purchases/new?customer=${d.id}`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:"Record Purchase",children:u.jsx(tn,{className:"h-4 w-4"})}),u.jsx(M,{to:`/customers/${d.id}/edit`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:"Edit",children:u.jsx(hs,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>l(d.id),className:"p-2 text-muted-foreground hover:text-destructive rounded-full hover:bg-accent",title:"Delete",children:u.jsx(Ss,{className:"h-4 w-4"})})]})})]},d.id))})]})})]})},DP=()=>{const{id:t}=xv(),{user:e}=Xe(),n=bs(),[r,s]=k.useState(null),[i,o]=k.useState([]),[a,l]=k.useState([]),[c,d]=k.useState([]),[h,f]=k.useState(!0),[m,v]=k.useState("overview");k.useEffect(()=>{t&&x(t)},[t,e]);const x=async p=>{if(e){f(!0);try{const{data:g,error:w}=await W.from("customers").select("*").eq("id",p).eq("owner_id",e.id).single();if(w){if(w.code==="PGRST116"){n("/customers"),D.error("Customer not found");return}throw w}s(g);const{data:_,error:b}=await W.from("purchases").select("*, products(*)").eq("customer_id",p);if(b)throw b;o(_||[]);const{data:N,error:j}=await W.from("licenses").select("*, products(*)").eq("customer_id",p);if(j)throw j;l(N||[]);const{data:S,error:E}=await W.from("downloads").select("*, products(*)").eq("customer_id",p);if(E)throw E;d(S||[])}catch(g){console.error("Error fetching customer data:",g),D.error("Failed to load customer data")}finally{f(!1)}}},y=async()=>{if(r&&confirm("Are you sure you want to delete this customer? This action cannot be undone."))try{const{error:p}=await W.from("customers").delete().eq("id",r.id);if(p)throw p;D.success("Customer deleted successfully"),n("/customers")}catch(p){console.error("Error deleting customer:",p),D.error("Failed to delete customer")}};return h?u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(M,{to:"/customers",className:"mr-4 p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",children:u.jsx(Ri,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"mb-1",children:r.full_name||"No name provided"}),u.jsx("p",{className:"text-muted-foreground",children:r.email})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(M,{to:`/purchases/new?customer=${r.id}`,className:"btn-primary flex items-center",children:[u.jsx(tn,{className:"mr-2"}),"Record Purchase"]}),u.jsxs(M,{to:`/customers/${r.id}/edit`,className:"btn-secondary flex items-center",children:[u.jsx(hs,{className:"mr-2"}),"Edit"]}),u.jsxs("button",{onClick:y,className:"btn-destructive flex items-center",children:[u.jsx(Ss,{className:"mr-2"}),"Delete"]})]})]}),u.jsx("div",{className:"border-b border-border",children:u.jsxs("nav",{className:"flex space-x-8",children:[u.jsx("button",{onClick:()=>v("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="overview"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:"Overview"}),u.jsxs("button",{onClick:()=>v("purchases"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="purchases"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:["Purchases (",i.length,")"]}),u.jsxs("button",{onClick:()=>v("licenses"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="licenses"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:["Licenses (",a.length,")"]}),u.jsxs("button",{onClick:()=>v("downloads"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="downloads"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:["Downloads (",c.length,")"]})]})}),u.jsxs("div",{children:[m==="overview"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"md:col-span-2 space-y-6",children:u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Customer Details"})}),u.jsx("div",{className:"card-content",children:u.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6",children:[u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),u.jsx("dd",{className:"mt-1",children:r.full_name||"No name provided"})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),u.jsx("dd",{className:"mt-1",children:r.email})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),u.jsx("dd",{className:"mt-1",children:new Date(r.created_at).toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),u.jsx("dd",{className:"mt-1",children:new Date(r.updated_at).toLocaleDateString()})]})]})})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Stats"})}),u.jsx("div",{className:"card-content",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Purchases"}),u.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Spent"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",i.reduce((p,g)=>p+Number(g.amount),0).toFixed(2)]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Licenses"}),u.jsx("p",{className:"text-2xl font-bold",children:a.filter(p=>p.is_active).length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Downloads"}),u.jsx("p",{className:"text-2xl font-bold",children:c.length})]})]})})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Quick Actions"})}),u.jsxs("div",{className:"card-content space-y-3",children:[u.jsxs(M,{to:`/purchases/new?customer=${r.id}`,className:"btn-outline w-full flex items-center justify-center",children:[u.jsx(tn,{className:"mr-2"}),"Record Purchase"]}),u.jsxs(M,{to:`/licenses/new?customer=${r.id}`,className:"btn-outline w-full flex items-center justify-center",children:[u.jsx(Ai,{className:"mr-2"}),"Assign License"]})]})]})]})]}),m==="purchases"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{children:"Purchases"}),u.jsxs(M,{to:`/purchases/new?customer=${r.id}`,className:"btn-primary flex items-center",children:[u.jsx(pt,{className:"mr-2"}),"Record Purchase"]})]}),i.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx(tn,{className:"mx-auto h-12 w-12 text-muted-foreground"}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No purchases found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:"This customer hasn't made any purchases yet"}),u.jsx(M,{to:`/purchases/new?customer=${r.id}`,className:"btn-primary mt-4",children:"Record Purchase"})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Product"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Amount"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Status"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]})}),u.jsx("tbody",{children:i.map(p=>u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(p.purchase_date).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/products/${p.product_id}`,className:"hover:underline",children:p.products.name})}),u.jsxs("td",{className:"px-4 py-3 text-sm font-medium",children:["$",Number(p.amount).toFixed(2)]}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx("span",{className:`badge ${p.payment_status==="completed"?"badge-primary":p.payment_status==="pending"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:p.payment_status})}),u.jsx("td",{className:"px-4 py-3 text-sm text-right",children:u.jsx("div",{className:"flex items-center justify-end space-x-2",children:u.jsx(M,{to:`/purchases/${p.id}`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",children:u.jsx(Bn,{className:"h-4 w-4"})})})})]},p.id))})]})})]}),m==="licenses"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{children:"Licenses"}),u.jsxs(M,{to:`/licenses/new?customer=${r.id}`,className:"btn-primary flex items-center",children:[u.jsx(pt,{className:"mr-2"}),"Assign License"]})]}),a.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx(Ai,{className:"mx-auto h-12 w-12 text-muted-foreground"}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No licenses found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:"This customer doesn't have any licenses assigned"}),u.jsx(M,{to:`/licenses/new?customer=${r.id}`,className:"btn-primary mt-4",children:"Assign License"})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"License Key"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Product"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Status"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Activations"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Created"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]})}),u.jsx("tbody",{children:a.map(p=>u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm font-mono truncate max-w-[150px]",children:p.license_key}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/products/${p.product_id}`,className:"hover:underline",children:p.products.name})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx("span",{className:`badge ${p.is_active?"badge-primary":"bg-muted text-muted-foreground"}`,children:p.is_active?"Active":"Inactive"})}),u.jsxs("td",{className:"px-4 py-3 text-sm",children:[p.current_activations," / ",p.max_activations]}),u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(p.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-3 text-sm text-right",children:u.jsx("div",{className:"flex items-center justify-end space-x-2",children:u.jsx(M,{to:`/licenses/${p.id}`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",children:u.jsx(Bn,{className:"h-4 w-4"})})})})]},p.id))})]})})]}),m==="downloads"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{children:"Downloads"}),c.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx(pr,{className:"mx-auto h-12 w-12 text-muted-foreground"}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No downloads found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:"This customer hasn't downloaded any products yet"})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Product"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"IP Address"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"User Agent"})]})}),u.jsx("tbody",{children:c.map(p=>u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(p.download_date).toLocaleString()}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/products/${p.product_id}`,className:"hover:underline",children:p.products.name})}),u.jsx("td",{className:"px-4 py-3 text-sm font-mono text-xs",children:p.ip_address||"Not recorded"}),u.jsx("td",{className:"px-4 py-3 text-sm truncate max-w-xs",children:p.user_agent||"Not recorded"})]},p.id))})]})})]})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{children:"Customer not found"}),u.jsxs(M,{to:"/customers",className:"btn-primary mt-4",children:[u.jsx(Ri,{className:"mr-2"}),"Back to Customers"]})]})},RP=()=>{const{user:t}=Xe(),[e,n]=k.useState([]),[r,s]=k.useState(!0),[i,o]=k.useState("");k.useEffect(()=>{a()},[t]);const a=async()=>{if(t){s(!0);try{const{data:h,error:f}=await W.from("purchases").select(`
          *,
          products!inner(*, owner_id),
          customers(*)
        `).eq("products.owner_id",t.id).order("purchase_date",{ascending:!1});if(f)throw f;n(h||[])}catch(h){console.error("Error fetching purchases:",h),D.error("Failed to load purchases")}finally{s(!1)}}},l=async h=>{if(confirm("Are you sure you want to delete this purchase record? This action cannot be undone."))try{const{error:f}=await W.from("purchases").delete().eq("id",h);if(f)throw f;n(e.filter(m=>m.id!==h)),D.success("Purchase record deleted successfully")}catch(f){console.error("Error deleting purchase:",f),D.error("Failed to delete purchase record")}},c=e.filter(h=>{var f,m;return h.products.name.toLowerCase().includes(i.toLowerCase())||((f=h.customers)==null?void 0:f.email.toLowerCase().includes(i.toLowerCase()))||((m=h.customers)==null?void 0:m.full_name)&&h.customers.full_name.toLowerCase().includes(i.toLowerCase())}),d=e.reduce((h,f)=>h+Number(f.amount),0);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Purchases"}),u.jsx("p",{className:"text-muted-foreground",children:"Track and manage product purchases"})]}),u.jsxs(M,{to:"/purchases/new",className:"btn-primary flex items-center justify-center md:justify-start",children:[u.jsx(pt,{className:"mr-2"}),"Record Purchase"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Purchases"}),u.jsx("p",{className:"text-2xl font-bold",children:e.length})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",d.toFixed(2)]})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Average Purchase"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",e.length>0?(d/e.length).toFixed(2):"0.00"]})]})})]}),u.jsx("div",{className:"card",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search purchases...",className:"form-input w-full pl-10",value:i,onChange:h=>o(h.target.value)}),u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{className:"h-5 w-5 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}),r?u.jsx("div",{className:"flex justify-center items-center py-12",children:u.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):c.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No purchases found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:i?"Try adjusting your search terms":"Get started by recording a new purchase"}),!i&&u.jsx("div",{className:"mt-6",children:u.jsxs(M,{to:"/purchases/new",className:"btn-primary",children:[u.jsx(pt,{className:"mr-2"}),"Record Purchase"]})})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Customer"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Product"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Amount"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Status"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]})}),u.jsx("tbody",{children:c.map(h=>{var f;return u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(h.purchase_date).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/customers/${h.customer_id}`,className:"hover:underline",children:((f=h.customers)==null?void 0:f.email)||"Unknown"})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/products/${h.product_id}`,className:"hover:underline",children:h.products.name})}),u.jsxs("td",{className:"px-4 py-3 text-sm font-medium",children:["$",Number(h.amount).toFixed(2)]}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx("span",{className:`badge ${h.payment_status==="completed"?"badge-primary":h.payment_status==="pending"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:h.payment_status})}),u.jsx("td",{className:"px-4 py-3 text-sm text-right",children:u.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[u.jsx(M,{to:`/purchases/${h.id}`,className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent",title:"View Details",children:u.jsx(Bn,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>l(h.id),className:"p-2 text-muted-foreground hover:text-destructive rounded-full hover:bg-accent",title:"Delete",children:u.jsx(Ss,{className:"h-4 w-4"})})]})})]},h.id)})})]})})]})},AP=()=>{const{user:t}=Xe(),[e,n]=k.useState([]),[r,s]=k.useState(!0),[i,o]=k.useState("");k.useEffect(()=>{a()},[t]);const a=async()=>{if(t){s(!0);try{const{data:h,error:f}=await W.from("downloads").select(`
          *,
          products!inner(*, owner_id),
          customers(*)
        `).eq("products.owner_id",t.id).order("download_date",{ascending:!1});if(f)throw f;n(h||[])}catch(h){console.error("Error fetching downloads:",h),D.error("Failed to load downloads")}finally{s(!1)}}},l=e.filter(h=>{var f,m;return h.products.name.toLowerCase().includes(i.toLowerCase())||((f=h.customers)==null?void 0:f.email.toLowerCase().includes(i.toLowerCase()))||((m=h.customers)==null?void 0:m.full_name)&&h.customers.full_name.toLowerCase().includes(i.toLowerCase())||h.ip_address&&h.ip_address.includes(i)}),c=e.reduce((h,f)=>{const m=f.product_id;return h[m]||(h[m]={product:f.products,count:0}),h[m].count++,h},{}),d=Object.values(c).sort((h,f)=>f.count-h.count).slice(0,5);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Downloads"}),u.jsx("p",{className:"text-muted-foreground",children:"Track product downloads by your customers"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Download Stats"})}),u.jsx("div",{className:"card-content",children:u.jsxs("div",{className:"text-center py-4",children:[u.jsx("p",{className:"text-4xl font-bold",children:e.length}),u.jsx("p",{className:"text-muted-foreground",children:"Total Downloads"})]})})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Top Products"})}),u.jsx("div",{className:"card-content",children:d.length===0?u.jsx("p",{className:"text-center py-4 text-muted-foreground",children:"No download data available"}):u.jsx("ul",{className:"divide-y divide-border",children:d.map(({product:h,count:f})=>u.jsxs("li",{className:"py-2 flex justify-between items-center",children:[u.jsx(M,{to:`/products/${h.id}`,className:"hover:underline",children:h.name}),u.jsxs("span",{className:"badge badge-primary",children:[f," downloads"]})]},h.id))})})]})]}),u.jsx("div",{className:"card",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search downloads...",className:"form-input w-full pl-10",value:i,onChange:h=>o(h.target.value)}),u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{className:"h-5 w-5 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}),r?u.jsx("div",{className:"flex justify-center items-center py-12",children:u.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):l.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"p-12 text-center",children:[u.jsx(pr,{className:"mx-auto h-12 w-12 text-muted-foreground"}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No downloads found"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:i?"Try adjusting your search terms":"Downloads will be recorded when customers access your products"})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Date & Time"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Customer"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Product"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"IP Address"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"User Agent"})]})}),u.jsx("tbody",{children:l.map(h=>{var f;return u.jsxs("tr",{className:"border-b border-border hover:bg-accent",children:[u.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(h.download_date).toLocaleString()}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/customers/${h.customer_id}`,className:"hover:underline",children:((f=h.customers)==null?void 0:f.email)||"Unknown"})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx(M,{to:`/products/${h.product_id}`,className:"hover:underline",children:h.products.name})}),u.jsx("td",{className:"px-4 py-3 text-sm font-mono text-xs",children:h.ip_address||"Not recorded"}),u.jsx("td",{className:"px-4 py-3 text-sm truncate max-w-xs",children:h.user_agent||"Not recorded"})]},h.id)})})]})})]})},IP=()=>{const{user:t,profile:e,updateProfile:n,signOut:r}=Xe(),[s,i]=k.useState(""),[o,a]=k.useState(""),[l,c]=k.useState(""),[d,h]=k.useState(!1),[f,m]=k.useState(""),[v,x]=k.useState(""),[y,p]=k.useState(""),[g,w]=k.useState(!1);k.useEffect(()=>{e&&(i(e.full_name||""),a(e.company_name||""),c(e.email||""))},[e]);const _=async j=>{j.preventDefault(),h(!0);try{const{error:S}=await n({full_name:s,company_name:o});if(S)throw S;D.success("Profile updated successfully")}catch(S){console.error("Error updating profile:",S),D.error("Failed to update profile")}finally{h(!1)}},b=async j=>{if(j.preventDefault(),v!==y){D.error("New passwords do not match");return}if(v.length<6){D.error("Password must be at least 6 characters");return}w(!0);try{D.success("Password updated successfully"),m(""),x(""),p("")}catch(S){console.error("Error changing password:",S),D.error("Failed to change password")}finally{w(!1)}},N=async()=>{try{await r(),D.success("Signed out successfully")}catch(j){console.error("Error signing out:",j),D.error("Failed to sign out")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Settings"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"card-header",children:[u.jsxs("h3",{className:"card-title flex items-center",children:[u.jsx(ex,{className:"mr-2"}),"Profile Settings"]}),u.jsx("p",{className:"card-description",children:"Update your personal information"})]}),u.jsx("div",{className:"card-content",children:u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",className:"form-input",value:l,disabled:!0}),u.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Email address cannot be changed"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"form-label",children:"Full Name"}),u.jsx("input",{type:"text",id:"fullName",className:"form-input",value:s,onChange:j=>i(j.target.value),placeholder:"Your full name"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"companyName",className:"form-label",children:"Company Name"}),u.jsx("input",{type:"text",id:"companyName",className:"form-input",value:o,onChange:j=>a(j.target.value),placeholder:"Your company name (optional)"})]}),u.jsx("div",{className:"pt-2",children:u.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:d,children:[d?u.jsx("span",{className:"w-5 h-5 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}):u.jsx(Of,{className:"mr-2"}),"Save Changes"]})})]})})]}),u.jsxs("div",{className:"card mt-6",children:[u.jsxs("div",{className:"card-header",children:[u.jsxs("h3",{className:"card-title flex items-center",children:[u.jsx(Md,{className:"mr-2"}),"Change Password"]}),u.jsx("p",{className:"card-description",children:"Update your account password"})]}),u.jsx("div",{className:"card-content",children:u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"currentPassword",className:"form-label",children:"Current Password"}),u.jsx("input",{type:"password",id:"currentPassword",className:"form-input",value:f,onChange:j=>m(j.target.value),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),u.jsx("input",{type:"password",id:"newPassword",className:"form-input",value:v,onChange:j=>x(j.target.value),required:!0,minLength:6}),u.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Password must be at least 6 characters"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm New Password"}),u.jsx("input",{type:"password",id:"confirmPassword",className:"form-input",value:y,onChange:j=>p(j.target.value),required:!0})]}),u.jsx("div",{className:"pt-2",children:u.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:g,children:[g?u.jsx("span",{className:"w-5 h-5 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}):u.jsx(Of,{className:"mr-2"}),"Update Password"]})})]})})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Account Actions"})}),u.jsxs("div",{className:"card-content space-y-4",children:[u.jsxs("button",{onClick:N,className:"btn-destructive w-full flex items-center justify-center",children:[u.jsx(Xv,{className:"mr-2"}),"Sign Out"]}),u.jsxs("div",{className:"border-t border-border pt-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Danger Zone"}),u.jsx("button",{className:"btn-outline border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground w-full",children:"Delete Account"}),u.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"This action is permanent and cannot be undone. All your data will be deleted."})]})]})]}),u.jsxs("div",{className:"card mt-6",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:"Account Information"})}),u.jsx("div",{className:"card-content",children:u.jsxs("dl",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Account ID"}),u.jsx("dd",{className:"mt-1 text-sm font-mono truncate",children:(t==null?void 0:t.id)||"Not available"})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),u.jsx("dd",{className:"mt-1 text-sm",children:t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString():"Not available"})]}),u.jsxs("div",{children:[u.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),u.jsx("dd",{className:"mt-1 text-sm",children:e!=null&&e.updated_at?new Date(e.updated_at).toLocaleDateString():"Not available"})]})]})})]})]})]})]})},$P=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,i]=k.useState(!1),{signIn:o}=Xe(),a=bs(),l=async c=>{if(c.preventDefault(),!t||!n){D.error("Please enter both email and password");return}i(!0);try{const{error:d}=await o(t,n);d?D.error(d.message):(D.success("Logged in successfully"),a("/dashboard"))}catch(d){D.error("An unexpected error occurred"),console.error(d)}finally{i(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-extrabold text-primary",children:"ProductHub"}),u.jsx("h2",{className:"mt-6 text-3xl font-bold",children:"Sign in to your account"}),u.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Or"," ",u.jsx(M,{to:"/register",className:"font-medium text-primary hover:text-primary-hover",children:"create a new account"})]})]}),u.jsx("div",{className:"mt-8 card",children:u.jsx("div",{className:"card-content",children:u.jsxs("form",{className:"space-y-6",onSubmit:l,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),u.jsxs("div",{className:"mt-1 relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Jv,{className:"h-5 w-5 text-muted-foreground"})}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"form-input pl-10",placeholder:"you@example.com",value:t,onChange:c=>e(c.target.value)})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),u.jsxs("div",{className:"mt-1 relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Md,{className:"h-5 w-5 text-muted-foreground"})}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"form-input pl-10",placeholder:"••••••••",value:n,onChange:c=>r(c.target.value)})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),u.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm",children:"Remember me"})]}),u.jsx("div",{className:"text-sm",children:u.jsx("a",{href:"#",className:"font-medium text-primary hover:text-primary-hover",children:"Forgot your password?"})})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",className:"btn-primary w-full flex justify-center py-2 px-4",disabled:s,children:s?u.jsx("span",{className:"w-6 h-6 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(ik,{className:"w-5 h-5 mr-2"}),"Sign in"]})})})]})})})]})})},FP=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,a]=k.useState(!1),{signUp:l}=Xe(),c=bs(),d=async h=>{if(h.preventDefault(),!t||!n||!s){D.error("Please fill in all fields");return}if(n.length<6){D.error("Password must be at least 6 characters");return}a(!0);try{const{error:f}=await l(t,n,s);f?D.error(f.message):(D.success("Account created successfully"),c("/dashboard"))}catch(f){D.error("An unexpected error occurred"),console.error(f)}finally{a(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-extrabold text-primary",children:"ProductHub"}),u.jsx("h2",{className:"mt-6 text-3xl font-bold",children:"Create your account"}),u.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Or"," ",u.jsx(M,{to:"/login",className:"font-medium text-primary hover:text-primary-hover",children:"sign in to your existing account"})]})]}),u.jsx("div",{className:"mt-8 card",children:u.jsx("div",{className:"card-content",children:u.jsxs("form",{className:"space-y-6",onSubmit:d,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"form-label",children:"Full Name"}),u.jsxs("div",{className:"mt-1 relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ex,{className:"h-5 w-5 text-muted-foreground"})}),u.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"form-input pl-10",placeholder:"John Doe",value:s,onChange:h=>i(h.target.value)})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),u.jsxs("div",{className:"mt-1 relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Jv,{className:"h-5 w-5 text-muted-foreground"})}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"form-input pl-10",placeholder:"you@example.com",value:t,onChange:h=>e(h.target.value)})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),u.jsxs("div",{className:"mt-1 relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Md,{className:"h-5 w-5 text-muted-foreground"})}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"form-input pl-10",placeholder:"••••••••",value:n,onChange:h=>r(h.target.value)})]}),u.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Password must be at least 6 characters"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"form-checkbox"}),u.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm",children:["I agree to the"," ",u.jsx("a",{href:"#",className:"font-medium text-primary hover:text-primary-hover",children:"Terms of Service"})," ","and"," ",u.jsx("a",{href:"#",className:"font-medium text-primary hover:text-primary-hover",children:"Privacy Policy"})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",className:"btn-primary w-full flex justify-center py-2 px-4",disabled:o,children:o?u.jsx("span",{className:"w-6 h-6 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(lk,{className:"w-5 h-5 mr-2"}),"Create Account"]})})})]})})})]})})},zP=()=>u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-4 text-center",children:[u.jsx("h1",{className:"text-9xl font-extrabold text-primary",children:"404"}),u.jsx("h2",{className:"mt-4 text-3xl font-bold",children:"Page Not Found"}),u.jsx("p",{className:"mt-2 text-lg text-muted-foreground",children:"The page you are looking for doesn't exist or has been moved."}),u.jsxs(M,{to:"/",className:"mt-8 btn-primary inline-flex items-center",children:[u.jsx(Ri,{className:"mr-2"}),"Back to Home"]})]}),Zx=()=>u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"}),u.jsx("h2",{className:"mt-4 text-xl font-semibold",children:"Loading..."})]})});function UP({children:t}){const{user:e,loading:n}=Xe();return n?u.jsx(Zx,{}):e?t:u.jsx(Cd,{to:"/login",replace:!0})}function Jm({children:t}){const{user:e,loading:n}=Xe();return n?u.jsx(Zx,{}):e?u.jsx(Cd,{to:"/dashboard",replace:!0}):t}function BP(){return u.jsxs(k_,{children:[u.jsx(Ae,{path:"/login",element:u.jsx(Jm,{children:u.jsx($P,{})})}),u.jsx(Ae,{path:"/register",element:u.jsx(Jm,{children:u.jsx(FP,{})})}),u.jsxs(Ae,{path:"/",element:u.jsx(UP,{children:u.jsx(dk,{})}),children:[u.jsx(Ae,{index:!0,element:u.jsx(Cd,{to:"/dashboard",replace:!0})}),u.jsx(Ae,{path:"dashboard",element:u.jsx(FC,{})}),u.jsx(Ae,{path:"products",element:u.jsx(TP,{})}),u.jsx(Ae,{path:"products/:id",element:u.jsx(OP,{})}),u.jsx(Ae,{path:"licenses",element:u.jsx(LP,{})}),u.jsx(Ae,{path:"customers",element:u.jsx(MP,{})}),u.jsx(Ae,{path:"customers/:id",element:u.jsx(DP,{})}),u.jsx(Ae,{path:"purchases",element:u.jsx(RP,{})}),u.jsx(Ae,{path:"downloads",element:u.jsx(AP,{})}),u.jsx(Ae,{path:"settings",element:u.jsx(IP,{})})]}),u.jsx(Ae,{path:"*",element:u.jsx(zP,{})})]})}hc.createRoot(document.getElementById("root")).render(u.jsx(jt.StrictMode,{children:u.jsx(O_,{children:u.jsxs(Z1,{children:[u.jsx(BP,{}),u.jsx(EP,{position:"top-right"})]})})}));
